{"version":3,"file":"c8y-ngx-components-ecosystem.js","sources":["../../ecosystem/ecosystem.model.ts","../../ecosystem/ecosystem.constants.ts","../../ecosystem/ecosystem.service.ts","../../ecosystem/applications/add-web-application/add-web-application.component.ts","../../ecosystem/shared/application-properties-form.component.ts","../../ecosystem/applications/install-from-package/install-from-package.component.ts","../../ecosystem/applications/duplicate-application/duplicate-application-list/duplicate-application-list.component.ts","../../ecosystem/applications/duplicate-application/duplicate-application-properties/duplicate-application-properties.component.ts","../../ecosystem/applications/duplicate-application/duplicate-application.component.ts","../../ecosystem/applications/add-external-applicaiton/add-external-application.component.ts","../../ecosystem/microservices/add-microservice.component.ts","../../ecosystem/applications/application-list/application-list.component.ts","../../ecosystem/applications/application-plugins/install-plugin.component.ts","../../ecosystem/applications/application-plugins/application-plugins.component.ts","../../ecosystem/applications/application-plugins/application-plugins.guard.ts","../../ecosystem/applications/application-plugins/plugin-list-item.component.ts","../../ecosystem/applications/application-plugins/plugin-list.component.ts","../../ecosystem/activity-log/activity-log.component.ts","../../ecosystem/application-properties/application-properties.component.ts","../../ecosystem/ecosystem-navigation.factory.ts","../../ecosystem/ecosystem.guard.ts","../../ecosystem/ecosystem-tabs.factory.ts","../../ecosystem/microservices/microservice-list.component.ts","../../ecosystem/packages/package-list/packages-list.component.ts","../../ecosystem/packages/add-package.component.ts","../../ecosystem/packages/package-details/package-details.component.ts","../../ecosystem/packages/deploy-application/deploy-application.component.ts","../../ecosystem/shared/add-application.component.ts","../../ecosystem/packages/package.guard.ts","../../ecosystem/shared/application-card.component.ts","../../ecosystem/application-properties/application-properties.guard.ts","../../ecosystem/features/feature-list.component.ts","../../ecosystem/packages/package-archives/package-archives.component.ts","../../ecosystem/ecosystem-wizard.factory.ts","../../ecosystem/shared/upload-archive.component.ts","../../ecosystem/ecosystem.module.ts","../../ecosystem/c8y-ngx-components-ecosystem.ts"],"sourcesContent":["export interface ApplicationState {\n  label: string;\n  class: string;\n}\n\n/** Wizard types  */\nexport enum Wizards {\n  APPLICATION_UPLOAD = 'applicationUpload',\n  MICROSERVICE_UPLOAD = 'microserviceUpload'\n}\n\nexport enum ERROR_TYPE {\n  TYPE_VALIDATION = 'TYPE_VALIDATION',\n  ALREADY_SUBSCRIBED = 'ALREADY_SUBSCRIBED',\n  INTERNAL_ERROR = 'INTERNAL_ERROR',\n  NO_MANIFEST_FILE = 'NO_MANIFEST_FILE',\n  INVALID_PACKAGE = 'INVALID_PACKAGE',\n  INVALID_APPLICATION = 'INVALID_APPLICATION'\n}\n\nexport interface ApplicationPlugin {\n  id: string;\n  name?: string;\n  module: string;\n  path: string;\n  description?: string;\n  version?: string;\n  scope?: string;\n  installed?: boolean;\n  contextPath?: string;\n}\n","import { ERROR_TYPE } from './ecosystem.model';\nimport { gettext, PropertiesListItem } from '@c8y/ngx-components';\n\nexport const ERROR_MESSAGES = {\n  [ERROR_TYPE.TYPE_VALIDATION]: gettext(\n    'Wrong file format. Expected a *.zip file with a valid manifest.'\n  ),\n  [ERROR_TYPE.ALREADY_SUBSCRIBED]: gettext(\n    'Could not subscribe to the microservice because another application with the same context path is already subscribed.'\n  ),\n  [ERROR_TYPE.NO_MANIFEST_FILE]: gettext('Could not find a manifest.'),\n  [ERROR_TYPE.INVALID_PACKAGE]: gettext('You have not uploaded a valid package.'),\n  [ERROR_TYPE.INVALID_APPLICATION]: gettext('You have not uploaded a valid application.'),\n  [ERROR_TYPE.INTERNAL_ERROR]: gettext('An internal error occurred, try to upload again.')\n};\n\nexport const APP_STATE = {\n  SUBSCRIBED: {\n    label: gettext('Subscribed`application`'),\n    class: 'label-primary'\n  },\n  CUSTOM: {\n    label: gettext('Custom`application`'),\n    class: 'label-info'\n  },\n  EXTERNAL: {\n    label: gettext('External`application`'),\n    class: 'label-warning'\n  },\n  UNPACKED: {\n    label: gettext('Unpacked`application`'),\n    class: 'label-success'\n  },\n  PACKAGE_APP: {\n    label: gettext('Application'),\n    class: 'label-success'\n  },\n  PACKAGE_PLUGIN: {\n    label: gettext('Plugins'),\n    class: 'label-info'\n  }\n};\n\nexport const packageProperties: PropertiesListItem[] = [\n  {\n    label: gettext('Version'),\n    key: 'version'\n  },\n  {\n    label: gettext('Author'),\n    key: 'author'\n  },\n  {\n    label: gettext('Keywords'),\n    key: 'keywords'\n  },\n  {\n    label: gettext('Source'),\n    key: 'repository',\n    transform: (repository: any) => (repository?.url ? repository.url : repository),\n    type: 'link',\n    action: (e, link) => window.open(link.value as string, '_blank', 'noopener,noreferrer')\n  },\n  {\n    label: gettext('Homepage'),\n    key: 'homepage',\n    type: 'link',\n    action: (e, link) => window.open(link.value as string, '_blank', 'noopener,noreferrer')\n  },\n  {\n    label: gettext('Required platform version'),\n    key: 'requiredPlatformVersion'\n  },\n  {\n    label: gettext('License'),\n    key: 'license'\n  }\n];\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  ApplicationService,\n  ApplicationType,\n  IApplication,\n  IApplicationBinary,\n  ICurrentTenant,\n  IdReference,\n  IFetchResponse,\n  IManifest,\n  IResult,\n  IResultList,\n  TenantService\n} from '@c8y/client';\nimport {\n  AlertService,\n  AppStateService,\n  gettext,\n  HumanizeAppNamePipe,\n  ModalService,\n  Status,\n  ZipService\n} from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { saveAs } from 'file-saver/FileSaver';\nimport { cloneDeep, get, groupBy, kebabCase, pick } from 'lodash-es';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { debounceTime, take } from 'rxjs/operators';\nimport { APP_STATE } from './ecosystem.constants';\nimport { ApplicationState, ERROR_TYPE } from './ecosystem.model';\n\nconst CUMULOCITY_JSON = 'cumulocity.json';\n\n@Injectable()\nexport class EcosystemService {\n  appDeleted = new EventEmitter<IApplication>();\n  progress: BehaviorSubject<number> = new BehaviorSubject<number>(null);\n  private appsGroupedByContextPath: any[];\n  private xhr: XMLHttpRequest;\n\n  constructor(\n    private modal: ModalService,\n    private alertService: AlertService,\n    private humanizeAppName: HumanizeAppNamePipe,\n    private translateService: TranslateService,\n    private applicationService: ApplicationService,\n    private appStateService: AppStateService,\n    private zipService: ZipService,\n    private tenantService: TenantService\n  ) {}\n\n  getUniqueAppConfig(srcApp: IApplication, existingApps: IApplication[]): IApplication {\n    let app: IApplication = {\n      name: srcApp.name,\n      key: srcApp.key,\n      contextPath: srcApp.contextPath\n    };\n    for (let retryNo = 0; retryNo < 9; ) {\n      if (this.checkIfAppNameKeyPathExists(existingApps, app, retryNo)) {\n        retryNo++;\n        app = {\n          name: [srcApp.name, retryNo].join('-'),\n          key: [srcApp.key, retryNo].join('-'),\n          contextPath: [srcApp.contextPath, retryNo].join('-')\n        };\n      } else {\n        return app;\n      }\n    }\n    return app;\n  }\n\n  getApplication(appId: IdReference): IApplication {\n    return this.applicationService.detail(appId).then((res) => res.data);\n  }\n\n  getApplications(customFilter: any = {}): Promise<IResultList<IApplication>> {\n    const filter: object = {\n      pageSize: 2000,\n      withTotalPages: true\n    };\n    Object.assign(filter, customFilter);\n    const currentTenant = this.appStateService.currentTenant.value;\n    return this.applicationService.listByTenant(currentTenant.name, filter);\n  }\n\n  async getMicroservices(): Promise<IApplication[]> {\n    const apps = (await this.getApplications()).data;\n    const microservices = apps.filter((app) => this.isMicroservice(app));\n    return microservices.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async getWebApplications(customFilter: any = {}): Promise<IApplication[]> {\n    const apps = (await this.getApplications(customFilter)).data;\n    const webApps = apps.filter((app) => this.isApplication(app));\n    this.appsGroupedByContextPath = groupBy(webApps, 'contextPath');\n    return webApps.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async getFeatureApplications(customFilter: any = {}): Promise<IApplication[]> {\n    const apps = (await this.getApplications(customFilter)).data;\n    const webApps = apps.filter((app) => this.isFeature(app));\n    return webApps.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async getPackageApplications(customFilter: any = {}): Promise<IApplication[]> {\n    const apps = (await this.getApplications(customFilter)).data;\n    const webApps = apps.filter((app) => this.isPackage(app));\n    return webApps.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async isMicroserviceHostingAllowed(): Promise<boolean> {\n    const { data: apps } = await this.applicationService.listByName('feature-microservice-hosting');\n    return !!apps.filter(app => app.owner?.tenant?.id === 'management').length;\n  }\n\n  canOpenAppInBrowser(app: IApplication): boolean {\n    const isNotAFeature = !this.isFeature(app);\n    const hasProperType = [\n      ApplicationType.HOSTED,\n      ApplicationType.EXTERNAL,\n      ApplicationType.REPOSITORY\n    ].includes(app.type);\n    const isNotAPackage = !this.isPackage(app);\n    return isNotAFeature && hasProperType && isNotAPackage;\n  }\n\n  canDeleteApp(app: IApplication): boolean {\n    return !this.isCurrentApp(app) && this.isOwner(app);\n  }\n\n  isOwner(app: IApplication): boolean {\n    const currentTenant: ICurrentTenant = this.appStateService.currentTenant.value;\n    const appOwner = get(app, 'owner.tenant.id');\n    return currentTenant.name === appOwner;\n  }\n\n  isFeature(app: IApplication): boolean {\n    return !!app.name.match(/feature-/);\n  }\n\n  isMicroservice(app: IApplication): boolean {\n    return app.type === 'MICROSERVICE';\n  }\n\n  isExternal(app: IApplication): boolean {\n    return app.type === 'EXTERNAL';\n  }\n\n  isPackage(app: IApplication): boolean {\n    return app.manifest?.isPackage === true;\n  }\n\n  cancelAppCreation(app: IApplication): void {\n    if (this.xhr) {\n      this.xhr.abort();\n    }\n    if (app) {\n      this.applicationService.delete(app);\n    }\n  }\n\n  updateUploadProgress(event): void {\n    if (event.lengthComputable) {\n      const currentProgress = this.progress.value;\n      this.progress.next(currentProgress + (event.loaded / event.total) * (95 - currentProgress));\n    }\n  }\n\n  setAppActiveVersion(app: IApplication, activeVersionId: string): Promise<IApplication> {\n    return this.applicationService.update({ id: app.id, activeVersionId });\n  }\n\n  getHumanizedAppName(app: IApplication): Promise<string> {\n    return this.humanizeAppName.transform(app.name).pipe(debounceTime(250), take(1)).toPromise();\n  }\n\n  createConfig(app: IApplication, formGroupValue: FormGroup): Partial<FormGroup> {\n    const { id, manifest } = app;\n    let config = pick(formGroupValue, ['name', 'key', 'contextPath']);\n    config = { ...config, setup: true, id, description: manifest.description };\n    return config;\n  }\n\n  async updateAppManifest(\n    application: IApplication,\n    sourcePackage: IApplication\n  ): Promise<{ res: IFetchResponse; data: any }> {\n    const { id } = application;\n    const cleanedApp = this.removeAppProperties(application);\n    cleanedApp.setup = true;\n    cleanedApp.manifest.isPackage = false;\n    cleanedApp.manifest.source = sourcePackage.id;\n\n    return await this.applicationService\n      .binary(id)\n      .updateFiles([{ path: CUMULOCITY_JSON, contents: JSON.stringify(cleanedApp) as any }]);\n  }\n\n  async listArchives(appId: string | number | IApplication): Promise<IApplicationBinary[]> {\n    const filter = {\n      pageSize: 100\n    };\n    return (await this.applicationService.binary(appId).list(filter)).data;\n  }\n\n  async deleteArchive(archive: IApplicationBinary, app: IApplication): Promise<void> {\n    const humanizedArchiveName = await this.getHumanizedAppName(archive);\n    try {\n      await this.modal.confirm(\n        gettext('Delete archive'),\n        this.translateService.instant(\n          gettext(\n            `You are about to delete archive \"{{ humanizedArchiveName }}\". Do you want to proceed?`\n          ),\n          { humanizedArchiveName }\n        ),\n        Status.DANGER,\n        { ok: gettext('Delete'), cancel: gettext('Cancel') }\n      );\n      await this.applicationService.binary(app).delete(archive.id);\n      this.alertService.success(gettext('Archive deleted.'));\n    } catch (ex) {\n      if (ex) {\n        this.alertService.danger(get(ex, 'data.message'), ex.data);\n      }\n      throw new Error('Cancelled');\n    }\n  }\n\n  async downloadArchive(app: IApplication, archive: IApplicationBinary): Promise<void> {\n    try {\n      const binary = await this.getBinary(app, archive);\n      const fileBinary = new Blob([binary], { type: 'application/x-zip-compressed' });\n      saveAs(fileBinary, archive.name);\n    } catch (e) {\n      // empty\n    }\n  }\n\n  async updateApp(app: IApplication, deleteOnFailure: boolean = false): Promise<IResult<IApplication>> {\n    try {\n      return await this.applicationService.update(app);\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n      if (deleteOnFailure) {\n        await this.applicationService.delete(app.id);\n        throw new Error('Application creation failed.');\n      }\n    }\n  }\n\n  async deleteApp(app: IApplication): Promise<void> {\n    const humanizedAppName = await this.getHumanizedAppName(app);\n    await this.modal.confirm(\n      gettext('Delete application'),\n      this.translateService.instant(\n        gettext(\n          `You are about to delete application \"{{ humanizedAppName }}\". Do you want to proceed?`\n        ),\n        { humanizedAppName }\n      ),\n      Status.DANGER,\n      { ok: gettext('Delete'), cancel: gettext('Cancel') }\n    );\n    await this.applicationService.delete(app.id);\n    this.alertService.success(gettext('Application deleted.'));\n    this.appDeleted.emit(app);\n  }\n\n  async checkIfSubscribed(app: IApplication): Promise<boolean> {\n    const currentTenant = await this.tenantService.current();\n    const subscribedApps = currentTenant.data.applications.references;\n    return subscribedApps.some((application) => application.application.id === app.id);\n  }\n\n  async subscribeApp(app: IApplication): Promise<void> {\n    const currentTenant: ICurrentTenant = this.appStateService.currentTenant.value;\n    try {\n      await this.tenantService.subscribeApplication(currentTenant, app);\n      this.alertService.success(gettext('Successfully subscribed to application.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  async unsubscribeApp(app: IApplication): Promise<void> {\n    const currentTenant: ICurrentTenant = this.appStateService.currentTenant.value;\n    try {\n      await this.tenantService.unsubscribeApplication(currentTenant, app);\n      this.alertService.success(gettext('Successfully unsubscribed from application.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  async isValidAppType(archive: File, appType: ApplicationType): Promise<boolean> {\n    try {\n      const currentType = await this.getAppType(archive);\n      if (currentType !== appType) {\n        throw new Error(ERROR_TYPE.TYPE_VALIDATION);\n      } else {\n        this.progress.next(this.progress.value + 10);\n        return true;\n      }\n    } catch (ex) {\n      throw new Error(ERROR_TYPE.TYPE_VALIDATION);\n    }\n  }\n\n  async uploadArchiveToApp(archive: File, app: IApplication): Promise<IApplication> {\n    const binaryService = this.applicationService.binary(app);\n    this.xhr = binaryService.uploadWithProgressXhr(archive, this.updateUploadProgress.bind(this));\n\n    const binaryMo = await binaryService.getXMLHttpResponse(this.xhr);\n    return (await this.setAppActiveVersion(app, binaryMo.id as string)).data;\n  }\n\n  async createAppForArchive(archive, isPackageTypeArchive: boolean = false): Promise<IApplication> {\n    let isPackage: boolean = false;\n    const appType = await this.getAppType(archive);\n    let appModel: any = {};\n\n    if (appType === ApplicationType.HOSTED) {\n      try {\n        appModel = await this.getCumulocityJson(archive).toPromise();\n        isPackage = appModel.isPackage;\n      } catch (e) {\n        // do nothing, we allow having HOSTED applications without the manifest file\n      }\n    }\n    const name = this.getBaseNameFromArchiveOrAppModel(archive, appType, appModel);\n    const clearedName = this.removeForbiddenCharacters(name);\n    const key = this.getAppKey(appModel, clearedName);\n    const contextPath = this.getContextPath(appModel, name);\n\n    const appToSave = {\n      resourcesUrl: '/',\n      type: appType,\n      name,\n      key,\n      contextPath\n    };\n\n    if (isPackageTypeArchive && !isPackage) {\n      throw new Error(ERROR_TYPE.INVALID_PACKAGE);\n    } else if (!isPackageTypeArchive && isPackage) {\n      throw new Error(ERROR_TYPE.INVALID_APPLICATION);\n    }\n    return (\n      await this.applicationService.create({\n        ...appToSave,\n        manifest: { isPackage } as unknown as IManifest\n      })\n    ).data;\n  }\n\n  async reactivateArchive(app: IApplication): Promise<void> {\n    try {\n      await this.applicationService.reactivateArchive(app.id);\n      this.alertService.success(gettext('Application reactivated.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  async removeOldestArchive(app: IApplication, archives: IApplicationBinary[]): Promise<void> {\n    try {\n      await this.modal.confirm(\n        gettext('Delete oldest archive and continue'),\n        gettext(\n          'Up to 6 archives can be saved in the platform. If you upload a new archive, the oldest archive that is not active will be deleted. Do you want to proceed?'\n        ),\n        Status.INFO,\n        { ok: gettext('Delete and continue') }\n      );\n      const archiveToDelete = archives[archives.length - 2];\n      await this.applicationService.binary(app).delete(archiveToDelete.id);\n      this.alertService.success(gettext('Archive deleted.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  getAppState(app: IApplication): ApplicationState {\n    if (!this.isOwner(app)) {\n      return APP_STATE.SUBSCRIBED;\n    } else if (this.isUnpacked(app)) {\n      return APP_STATE.UNPACKED;\n    } else if (app.type === ApplicationType.EXTERNAL) {\n      return APP_STATE.EXTERNAL;\n    } else if (this.isApplicationPackage(app)) {\n      return APP_STATE.PACKAGE_APP;\n    } else if (this.isPluginsPackage(app)) {\n      return APP_STATE.PACKAGE_PLUGIN;\n    }\n    return APP_STATE.CUSTOM;\n  }\n\n  isApplicationPackage(app: IApplication): boolean {\n    return this.isPackage(app) && app.manifest.package === 'application';\n  }\n\n  isPluginsPackage(app: IApplication): boolean {\n    return this.isPackage(app) && app.manifest.package === 'plugin';\n  }\n\n  isUnpacked(app: IApplication): boolean {\n    return !!app.manifest?.source;\n  }\n\n  hasExports(app: IApplication): boolean {\n    return !!app.manifest?.exports?.length;\n  }\n\n  isApplication(app: IApplication): boolean {\n    return (\n      app.type !== ApplicationType.MICROSERVICE && !this.isFeature(app) && !this.isPackage(app)\n    );\n  }\n\n  isCustomMicroservice(app: IApplication) {\n    return this.isOwner(app) && app.type === ApplicationType.MICROSERVICE;\n  }\n\n  async isOverwrittenByCustomApp(app: IApplication): Promise<boolean> {\n    if (!this.appsGroupedByContextPath) {\n      await this.getWebApplications();\n    }\n    return (\n      app.contextPath &&\n      this.appsGroupedByContextPath[app.contextPath].length === 2 &&\n      !this.isOwner(app)\n    );\n  }\n\n  private getAppKey(appModel: IApplication, name: string): string {\n    let key = appModel?.key;\n    if (!key) {\n      key = `${kebabCase(name)}-key`;\n    }\n    return key;\n  }\n\n  private getContextPath(appModel: IApplication, name: string): string {\n    return appModel?.contextPath || name.toLowerCase();\n  }\n\n  private removeForbiddenCharacters(str: string): string {\n    return str.replace(/[^a-zA-Z0-9-_]/g, '');\n  }\n\n  private isCurrentApp(app: IApplication): boolean {\n    const currentApp = this.appStateService.state.app;\n    return currentApp.contextPath === app.contextPath;\n  }\n\n  private getCumulocityJson(archive: File): Observable<any> {\n    return this.zipService.getJsonData(archive, {\n      filename: CUMULOCITY_JSON\n    });\n  }\n\n  private getAppType(archive: File): Promise<ApplicationType> {\n    return this.getCumulocityJson(archive)\n      .toPromise()\n      .then(\n        (data) =>\n          get(data, 'type') ||\n          (get(data, 'apiVersion') ? ApplicationType.MICROSERVICE : ApplicationType.HOSTED)\n      )\n      .catch(() => ApplicationType.HOSTED);\n  }\n\n  private async getBinary(app: IApplication, archive: IApplicationBinary): Promise<ArrayBuffer> {\n    let binary;\n    try {\n      const res = await this.applicationService.binary(app).downloadArchive(archive.id);\n      binary = await res.arrayBuffer();\n    } catch (ex) {\n      const msg = gettext('Could not get the binary.');\n      this.alertService.danger(msg);\n    }\n    return binary;\n  }\n\n  private getBaseNameFromArchiveOrAppModel(\n    archive: any,\n    appType: ApplicationType,\n    appModel?: IApplication\n  ): string {\n    let baseName = appModel?.name || archive.name.replace(/\\.zip$/i, '');\n    if (appType === 'MICROSERVICE') {\n      baseName = baseName.replace(/-\\d+\\.\\d+\\.\\d+(-SNAPSHOT)?$/, '');\n    }\n    return baseName;\n  }\n\n  private checkIfAppNameKeyPathExists(existingApps: IApplication[], app: IApplication, retryNo: number): IApplication {\n    return existingApps.find(\n      (existingApp) =>\n        existingApp.name === app.name ||\n        existingApp.key === app.key ||\n        existingApp.contextPath === app.contextPath ||\n        existingApp.name === [app.name, retryNo].join('-') ||\n        existingApp.key === [app.key, retryNo].join('-') ||\n        existingApp.contextPath === [app.contextPath, retryNo].join('-')\n    );\n  }\n\n  private removeAppProperties(app: IApplication): IApplication {\n    const tempApp = cloneDeep(app);\n    const propertiesToRemove = ['id', 'owner', 'activeVersionId'];\n\n    propertiesToRemove.forEach(prop => delete tempApp[prop]);\n    return tempApp;\n  }\n}\n","import { Component } from '@angular/core';\nimport { ApplicationType, IApplication } from '@c8y/client';\nimport { gettext } from '@c8y/ngx-components';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-add-web-application',\n  template: `<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'upload'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createApplicationHandler\"\n    [uploadApplicationHandler]=\"uploadApplicationHandler\"\n    [canGoBack]=\"true\"\n  ></c8y-add-application>`\n})\nexport class AddWebApplicationComponent {\n  headerText: string = gettext('Upload web application');\n  successText: string = gettext('Application created');\n\n  constructor(private ecosystemService: EcosystemService) {}\n\n  createApplicationHandler = (f: File) => this.createApplication(f);\n  uploadApplicationHandler = (f: File, app: IApplication) => this.uploadApplication(f, app);\n\n  async createApplication(file: File): Promise<IApplication> {\n    await this.ecosystemService.isValidAppType(file, ApplicationType.HOSTED);\n    return this.ecosystemService.createAppForArchive(file);\n  }\n\n  async uploadApplication(file: File, app: IApplication): Promise<IApplication> {\n    return this.ecosystemService.uploadArchiveToApp(file, app);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IApplication } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-application-properties-form',\n  templateUrl: './application-properties-form.component.html'\n})\nexport class ApplicationPropertiesFormComponent implements OnInit {\n  formGroup: FormGroup;\n  @Input() application: IApplication;\n  @Input() isPackage: boolean;\n\n  constructor(private formBuilder: FormBuilder) {}\n\n  async ngOnInit() {\n    this.initForm();\n    this.setForm(this.application);\n  }\n\n  private initForm() {\n    this.formGroup = this.formBuilder.group({\n      name: [Validators.required, Validators.maxLength(120)],\n      key: [Validators.required, Validators.maxLength(120)],\n      contextPath: [Validators.required, Validators.maxLength(120)]\n    });\n  }\n\n  private setForm(applicationConfig: IApplication) {\n    this.formGroup.patchValue({ ...applicationConfig });\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { WizardComponent } from '@c8y/ngx-components';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { ApplicationPropertiesFormComponent } from '../../shared/application-properties-form.component';\n\n@Component({\n  selector: 'c8y-install-from-package',\n  templateUrl: './install-from-package.component.html'\n})\nexport class InstallFromPackageComponent implements OnInit {\n  newAppConfig: IApplication;\n  selectedPackage: IApplication;\n  packages: IApplication[];\n  inProgress: boolean;\n  deployedWithSuccess: boolean = false;\n  isDeployed: boolean = false;\n\n  @ViewChild(ApplicationPropertiesFormComponent)\n  applicationPropertiesForm: ApplicationPropertiesFormComponent;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  async ngOnInit() {\n    this.loadPackages();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  async save() {\n    const formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();\n    this.inProgress = true;\n\n    const { data: clonedPkg } = await this.applicationService.clone(this.selectedPackage);\n    const config = this.ecosystemService.createConfig(clonedPkg, formGroupValue);\n\n    try {\n      const { data: updatedApp } = await this.ecosystemService.updateApp(config, true);\n\n      if (updatedApp) {\n        await this.ecosystemService.updateAppManifest(updatedApp, this.selectedPackage);\n      }\n      this.deployedWithSuccess = true;\n    } catch (error) {\n      this.inProgress = false;\n      await this.applicationService.delete(clonedPkg.id);\n    }\n    this.markAsDeployed();\n  }\n\n  async selectPackage(selectedPackage: IApplication) {\n    const apps = await this.ecosystemService.getWebApplications();\n    this.newAppConfig = this.ecosystemService.getUniqueAppConfig(selectedPackage, apps);\n    this.selectedPackage = selectedPackage;\n  }\n  /* The 'select package version' option will be added later when BE support for multiple app versions has been implemented. MTM-40278\n  // onSelectedArchive(archive) {\n  //   this.formGroup.controls['packageVersion'].setValue(archive.name);\n  // } */\n\n  private markAsDeployed() {\n    this.isDeployed = true;\n    this.inProgress = false;\n  }\n\n  private async loadPackages(): Promise<void> {\n    const applications = await this.ecosystemService.getApplications();\n    this.packages = applications.data.filter((app) =>\n      this.ecosystemService.isApplicationPackage(app)\n    );\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IApplication } from '@c8y/client';\nimport { C8yStepper, WizardComponent } from '@c8y/ngx-components';\nimport { ApplicationState } from '../../../ecosystem.model';\nimport { EcosystemService } from '../../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-duplicate-application-list',\n  templateUrl: './duplicate-application-list.component.html'\n})\nexport class DuplicateApplicationListComponent {\n  @Input() stepper: C8yStepper;\n  @Input() existingApps: IApplication[];\n  @Output() onSelectedApp = new EventEmitter<IApplication>();\n  appState: ApplicationState;\n\n  constructor(\n    public ecosystemService: EcosystemService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  select(selectedApp: IApplication) {\n    this.onSelectedApp.emit(selectedApp);\n    this.stepper.next();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n}\n","import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { C8yStepper } from '@c8y/ngx-components';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject } from 'rxjs';\nimport { EcosystemService } from '../../../ecosystem.service';\nimport { ApplicationPropertiesFormComponent } from '../../../shared/application-properties-form.component';\n\n@Component({\n  selector: 'c8y-duplicate-application-properties',\n  templateUrl: './duplicate-application-properties.component.html'\n})\nexport class DuplicateApplicationPropertiesComponent {\n  @Input() stepper: C8yStepper;\n  @Input() existingApps: IApplication[];\n  @Input() selectedApp: BehaviorSubject<IApplication>;\n  @Output() duplicatedApp = new EventEmitter<IApplication>();\n  @ViewChild(ApplicationPropertiesFormComponent)\n  applicationPropertiesForm: ApplicationPropertiesFormComponent;\n  newAppConfig: IApplication;\n\n  inProgress: boolean = false;\n\n  constructor(\n    private bsModalRef: BsModalRef,\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService\n  ) {}\n\n  ngOnInit() {\n    this.newAppConfig = this.ecosystemService.getUniqueAppConfig(\n      this.selectedApp.value,\n      this.existingApps\n    );\n  }\n\n  async duplicateApp() {\n    const formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();\n    this.inProgress = true;\n    const clonedApp = (await this.applicationService.clone(this.selectedApp.value)).data;\n\n    Object.assign(clonedApp, formGroupValue);\n    delete clonedApp.type;\n\n    await this.updateApp(clonedApp);\n    this.inProgress = false;\n  }\n\n  cancel() {\n    this.bsModalRef.hide();\n  }\n\n  back() {\n    this.stepper.previous();\n  }\n\n  private async updateApp(clonedAppConfig: Partial<IApplication>) {\n    try {\n      const app = (await this.ecosystemService.updateApp(clonedAppConfig, true)).data;\n      this.duplicatedApp.emit(app);\n      this.stepper.next();\n    } catch (err) {\n      this.inProgress = false;\n    }\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { C8yStepper, WizardComponent } from '@c8y/ngx-components';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { EcosystemService } from './../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-duplicate-application',\n  templateUrl: './duplicate-application.component.html'\n})\nexport class DuplicateApplicationComponent implements OnInit {\n  @ViewChild(C8yStepper, { static: true })\n  stepper: C8yStepper;\n  duplicatedApp: IApplication;\n  selectedApp: Subject<IApplication> = new BehaviorSubject<IApplication>(null);\n  existingApps: IApplication[] = [];\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  async ngOnInit() {\n    this.existingApps = await this.ecosystemService.getWebApplications();\n  }\n\n  onSelectedApp(app: IApplication) {\n    this.selectedApp.next(app);\n  }\n\n  getHref(app: IApplication): string {\n    return this.applicationService.getHref(app);\n  }\n\n  done() {\n    this.wizardComponent.close();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ApplicationService, ApplicationType, IApplication, IManifest } from '@c8y/client';\nimport { AlertService, WizardComponent } from '@c8y/ngx-components';\n\n@Component({\n  selector: 'c8y-add-external-application',\n  templateUrl: './add-external-application.component.html'\n})\nexport class AddExternalApplicationComponent implements OnInit {\n  formGroup: FormGroup;\n  createdApp: IApplication;\n\n  constructor(\n    private applicationService: ApplicationService,\n    private formBuilder: FormBuilder,\n    private alertService: AlertService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  ngOnInit() {\n    this.initForm();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  done() {\n    this.wizardComponent.close();\n  }\n\n  async save(app) {\n    const appToSave = {\n      manifest: {} as IManifest,\n      externalUrl: app.externalUrl,\n      type: ApplicationType.EXTERNAL,\n      name: app.name,\n      key: app.key\n    };\n    try {\n      this.createdApp = await this.applicationService.create(appToSave);\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  private initForm(): void {\n    this.formGroup = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.maxLength(120)]],\n      key: ['', [Validators.required, Validators.maxLength(120)]],\n      externalUrl: ['', Validators.required]\n    });\n  }\n}\n","import { Component } from '@angular/core';\nimport { gettext, ModalService, Status } from '@c8y/ngx-components';\nimport { ApplicationType, IApplication, TenantService } from '@c8y/client';\nimport { EcosystemService } from '../ecosystem.service';\nimport { ERROR_TYPE } from '../ecosystem.model';\n\n@Component({\n  selector: 'c8y-add-microservice',\n  template: `<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'microchip'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createMicroserviceApplicationHandler\"\n    [uploadApplicationHandler]=\"uploadMicroserviceHandler\"\n  ></c8y-add-application>`\n})\nexport class AddMicroserviceComponent {\n  headerText: string = gettext('Add microservice');\n  successText: string = gettext('Microservice created');\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private modal: ModalService,\n    private tenantService: TenantService\n  ) {}\n\n  createMicroserviceApplicationHandler = (f: File) => this.createMicroserviceApplication(f);\n  uploadMicroserviceHandler = (f: File, app: IApplication) => this.uploadMicroservice(f, app);\n\n  async createMicroserviceApplication(file: File): Promise<IApplication> {\n    await this.ecosystemService.isValidAppType(file, ApplicationType.MICROSERVICE);\n    return this.ecosystemService.createAppForArchive(file);\n  }\n\n  async uploadMicroservice(file: File, microservice: IApplication): Promise<void> {\n    const subscribeToCurrentTenant = await this.askIfActivationAfterUploadNeeded();\n    await this.ecosystemService.uploadArchiveToApp(file, microservice);\n    await this.subscribeMicroservice(microservice, subscribeToCurrentTenant);\n  }\n\n  private async askIfActivationAfterUploadNeeded(): Promise<boolean> {\n    try {\n      await this.modal.confirm(\n        gettext('Subscribe to microservice'),\n        gettext(\n          'You are about to subscribe to the microservice after upload. Do you want to subscribe to it?'\n        ),\n        Status.INFO,\n        { ok: gettext('Subscribe'), cancel: gettext(\"Don't subscribe\") }\n      );\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  private async subscribeMicroservice(\n    app: IApplication,\n    subscribeToCurrentTenant: boolean\n  ): Promise<any> {\n    const tenant = (await this.tenantService.current()).data;\n    const applications = tenant.applications.references;\n\n    const isSubscribed = applications.some(({ application }) => application.id === app.id);\n    if (!isSubscribed && subscribeToCurrentTenant) {\n      try {\n        return await this.tenantService.subscribeApplication(tenant, app);\n      } catch (res) {\n        if (res.status === 409) {\n          throw Error(ERROR_TYPE.ALREADY_SUBSCRIBED);\n        }\n      }\n    } else if (isSubscribed && !subscribeToCurrentTenant) {\n      return this.tenantService.unsubscribeApplication(tenant, app);\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { IApplication } from '@c8y/client';\nimport { WizardConfig, WizardService } from '@c8y/ngx-components';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from './../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-application-list',\n  templateUrl: './application-list.component.html'\n})\nexport class ApplicationListComponent implements OnInit {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n\n  apps$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getWebApplications()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n\n  listClass: string;\n\n  constructor(private ecosystemService: EcosystemService, private wizardService: WizardService) {}\n\n  ngOnInit() {\n    this.loadApplications();\n  }\n\n  loadApplications() {\n    this.reload$.next();\n  }\n\n  addApplication() {\n    const wizardConfig: WizardConfig = {\n      headerText: 'Add Application',\n      headerIcon: 'c8y-atom'\n    };\n\n    const initialState: any = {\n      wizardConfig,\n      id: 'uploadApplication'\n    };\n\n    const modalOptions: ModalOptions = { initialState };\n\n    const modalRef = this.wizardService.show(modalOptions);\n    modalRef.content.onClose.subscribe(() => {\n      this.loadApplications();\n    });\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalService, gettext, Status } from '@c8y/ngx-components';\nimport { ApplicationPlugin } from '../../ecosystem.model';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'c8y-install-plugin',\n  templateUrl: './install-plugin.component.html'\n})\nexport class InstallPluginComponent implements OnInit {\n  @Input() plugins$: BehaviorSubject<ApplicationPlugin[]>;\n  filterTerm$: BehaviorSubject<string> = new BehaviorSubject('');\n  filteredPlugins$: Observable<ApplicationPlugin[]> = new BehaviorSubject([]);\n  selectedPlugins: string[] = [];\n  result: Promise<void> = new Promise((resolve, reject) => {\n    this._install = resolve;\n    this._cancel = reject;\n  });\n  private _install;\n  private _cancel;\n\n  constructor(private bsModalRef: BsModalRef, private modal: ModalService) {}\n\n  ngOnInit() {\n    this.filteredPlugins$ = combineLatest(this.plugins$, this.filterTerm$).pipe(\n      map(([plugins, filterTerm]) =>\n        filterTerm.trim().length === 0\n          ? plugins\n          : plugins.filter((plugin: ApplicationPlugin) =>\n              this.filterContainString(plugin.name, filterTerm)\n            )\n      )\n    );\n  }\n\n  cancel() {\n    this.bsModalRef.hide();\n    this._cancel();\n  }\n\n  async install() {\n    await this.modal.confirm(\n      gettext('Install plugins'),\n      gettext(\n        'The operation may take several minutes. During this time the application may be unavailable. Do you want to proceed?'\n      ),\n      Status.INFO,\n      { ok: gettext('Continue') }\n    );\n    this._install(this.selectedPlugins);\n    this.bsModalRef.hide();\n  }\n\n  private filterContainString(name: string, filterTerm: string) {\n    const term = filterTerm.toLowerCase().trim();\n    return name && name.toLowerCase().indexOf(term) > -1;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { ApplicationRemotePlugins, IApplication, IApplicationBinary, IManifest } from '@c8y/client';\nimport { ActivatedRoute } from '@angular/router';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { ApplicationPlugin } from '../../ecosystem.model';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { InstallPluginComponent } from './install-plugin.component';\nimport { AlertService, gettext, ModalService, PluginsService, Status } from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Component({\n  selector: 'c8y-app-plugins',\n  templateUrl: './application-plugins.component.html'\n})\nexport class ApplicationPluginsComponent implements OnInit {\n  exportedPlugins$: BehaviorSubject<ApplicationPlugin[]> = new BehaviorSubject([]);\n  remotePlugins$: BehaviorSubject<ApplicationRemotePlugins> = new BehaviorSubject({});\n  allAvailablePlugins$: BehaviorSubject<ApplicationPlugin[]> = new BehaviorSubject([]);\n\n  installedPlugins$: Observable<ApplicationPlugin[]> = combineLatest([\n    this.remotePlugins$.pipe(map((remotes) => this.getRemotePluginsList(remotes))),\n    this.allAvailablePlugins$\n  ]).pipe(\n    map(([remotePlugins, allPlugins]) => allPlugins.filter((p) => remotePlugins.includes(p.id))),\n    shareReplay(1)\n  );\n  app: IApplication;\n  isLoading: boolean;\n  pluginsToDelete: string[] = [];\n  archives: IApplicationBinary[] = [];\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private ecosystemService: EcosystemService,\n    private bsModalService: BsModalService,\n    private modal: ModalService,\n    private translateService: TranslateService,\n    private pluginsService: PluginsService,\n    private alertService: AlertService\n  ) {}\n\n  async ngOnInit() {\n    const { id } = this.activatedRoute.snapshot.parent.data.contextData;\n    this.app = await this.ecosystemService.getApplication(id);\n    this.archives = await this.ecosystemService.listArchives(this.app.id);\n    this.archives.sort((a, b) => {\n      return (new Date(b.created) as any) - (new Date(a.created) as any);\n    });\n    const manifest: Partial<IManifest> = this.app.manifest;\n    if (manifest) {\n      const exports = manifest.exports || [];\n      this.exportedPlugins$.next(this.extendPluginList(exports, this.app.contextPath));\n      const remotes = manifest.remotes || {};\n      this.remotePlugins$.next(remotes);\n    }\n    this.allAvailablePlugins$.next(await this.getAllPlugins());\n  }\n\n  async installPlugins() {\n    const initialState: any = {\n      plugins$: combineLatest([\n        this.allAvailablePlugins$,\n        this.installedPlugins$.pipe(map((plugins) => plugins.map((p) => p.id))),\n        this.exportedPlugins$.pipe(map((plugins) => plugins.map((p) => p.id)))\n      ]).pipe(\n        map(([allPlugins, installedPlugins, exportedPluginNames]) => {\n          const plugins = [];\n          allPlugins\n            .filter((p) => !exportedPluginNames.includes(p.id))\n            .forEach((p) => plugins.push({ ...p, installed: !!installedPlugins.includes(p.id) }));\n          return plugins;\n        }),\n        shareReplay(1)\n      )\n    };\n\n    try {\n      const pluginsToAdd: string[] = (await (\n        this.bsModalService.show(InstallPluginComponent, {\n          class: 'modal-md',\n          initialState,\n          ignoreBackdropClick: true\n        }).content as InstallPluginComponent\n      ).result) as any as string[];\n\n      const currentRemotes = { ...this.remotePlugins$.value };\n      pluginsToAdd.forEach((pluginId) => {\n        const { contextPath, name } = this.parsePluginId(pluginId);\n        (currentRemotes[contextPath] = currentRemotes[contextPath] || []).push(name);\n      });\n      if (this.archives.length === 6) {\n        await this.ecosystemService.removeOldestArchive(this.app, this.archives);\n      }\n      this.updateApplicationRemotes(currentRemotes);\n    } catch (ex) {\n      // intended empty\n    }\n  }\n\n  async removePlugins() {\n    const humanizedAppName = await this.ecosystemService.getHumanizedAppName(this.app);\n    try {\n      await this.modal.confirm(\n        gettext('Remove plugins'),\n        this.translateService.instant(\n          gettext(\n            `You are about to remove plugins from application \"{{ humanizedAppName }}\". The operation may take several minutes. During this time the application may be unavailable. Do you want to proceed?`\n          ),\n          { humanizedAppName }\n        ),\n        Status.DANGER,\n        {\n          ok: gettext('Remove'),\n          cancel: gettext('Cancel')\n        }\n      );\n\n      const remotes = { ...this.remotePlugins$.value };\n      this.pluginsToDelete.forEach((pluginId) => {\n        const { contextPath, name } = this.parsePluginId(pluginId);\n        remotes[contextPath] = remotes[contextPath].filter((p) => p !== name);\n      });\n      this.updateApplicationRemotes(remotes);\n    } catch (ex) {\n      // do nothing\n    }\n  }\n\n  private async getAllPlugins(): Promise<ApplicationPlugin[]> {\n    const plugins = [];\n    const packages = await this.ecosystemService.getPackageApplications();\n    const apps = [...packages, this.app];\n    apps.forEach((app) => {\n      const exports = (app.manifest && app.manifest.exports) || [];\n      plugins.push(...this.extendPluginList(exports, app.contextPath));\n    });\n    return plugins;\n  }\n\n  private async updateApplicationRemotes(remotes: ApplicationRemotePlugins): Promise<void> {\n    this.isLoading = true;\n    try {\n      await this.pluginsService.updateRemotesInCumulocityJson(this.app, remotes);\n      this.remotePlugins$.next(remotes);\n    } catch (ex) {\n      this.alertService.danger(ex);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private getRemotePluginsList(remotes: ApplicationRemotePlugins): string[] {\n    const importContextPaths = Object.keys(remotes);\n    const plugins = [];\n    importContextPaths.forEach((contextPath) => {\n      const moduleNames = remotes[contextPath];\n      plugins.push(...moduleNames.map((module) => this.createPluginId(contextPath, module)));\n    });\n    return plugins;\n  }\n\n  private extendPluginList(plugins: ApplicationPlugin[], contextPath: string): ApplicationPlugin[] {\n    const extendedPlugins = [];\n    plugins.map((p) => {\n      extendedPlugins.push({\n        ...p,\n        id: this.createPluginId(contextPath, p.name, p.module),\n        contextPath\n      });\n    });\n    return extendedPlugins;\n  }\n\n  private createPluginId(contextPath: string, pluginName: string, pluginModuleName?: string): string {\n    return `${contextPath}/${pluginModuleName || pluginName}`;\n  }\n\n  private parsePluginId(id: string): { contextPath: string; name: string } {\n    const [contextPath, name] = id.split('/');\n    return { contextPath, name };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { ApplicationType } from '@c8y/client';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Injectable()\nexport class ApplicationPluginsGuard implements CanActivate {\n  constructor(private ecosystemService: EcosystemService) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const app = route.data.contextData || route.parent.data.contextData;\n    if (!app) {\n      return false;\n    }\n    return (\n      app.type === ApplicationType.HOSTED &&\n      this.ecosystemService.isOwner(app) &&\n      !this.ecosystemService.isPackage(app)\n    );\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ApplicationPlugin } from '../../ecosystem.model';\n\n@Component({\n  selector: 'c8y-plugin-list-item',\n  templateUrl: './plugin-list-item.component.html'\n})\nexport class PluginListItemComponent {\n  @Input() plugin: ApplicationPlugin;\n  @Input() selectable: boolean;\n  @Output() isItemSelected: EventEmitter<boolean> = new EventEmitter();\n\n  onChange(event) {\n    this.isItemSelected.next(event);\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ApplicationPlugin } from '../../ecosystem.model';\n\n@Component({\n  selector: 'c8y-plugin-list',\n  templateUrl: './plugin-list.component.html'\n})\nexport class PluginListComponent {\n  @Input() plugins$: BehaviorSubject<ApplicationPlugin[]>;\n  @Input() emptyListText: string = '';\n  @Input() selectable: boolean;\n  @Output() selectedItems: EventEmitter<string[]> = new EventEmitter();\n  selectedPlugins: object = {};\n\n  updateSelectedItems(value: boolean, name: string) {\n    this.selectedPlugins[name] = value;\n    this.selectedItems.emit(\n      Object.keys(this.selectedPlugins).filter((k) => this.selectedPlugins[k])\n    );\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { IApplication, IApplicationBinary } from '@c8y/client';\nimport { AlertService } from '@c8y/ngx-components';\nimport { BehaviorSubject } from 'rxjs';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-activity-log',\n  templateUrl: './activity-log.component.html'\n})\nexport class ActivityLogComponent implements OnInit {\n  @Input() application: IApplication;\n  archives: IApplicationBinary[] = [];\n  toActivateVersionId: string;\n  last: IApplicationBinary;\n  isLoading: boolean;\n  canReactivate: boolean = false;\n\n  constructor(private ecosystemService: EcosystemService, private alertService: AlertService) {}\n\n  get uploadProgress(): BehaviorSubject<number> {\n    return this.ecosystemService.progress;\n  }\n\n  async ngOnInit() {\n    this.canReactivate = this.showReactivate();\n    this.refresh();\n  }\n\n  isActive(archive: IApplicationBinary): boolean {\n    return this.application.activeVersionId === archive.id;\n  }\n\n  toActivate(archive: IApplicationBinary): boolean {\n    return this.toActivateVersionId === archive.id;\n  }\n\n  checkIfLast(archive: IApplicationBinary): boolean {\n    return archive.id === this.last.id;\n  }\n\n  showReactivate(): boolean {\n    return this.ecosystemService.isApplication(this.application);\n  }\n\n  async setActive(archive): Promise<void> {\n    const id = archive.id || archive;\n    this.toActivateVersionId = id;\n    this.isLoading = true;\n    try {\n      this.application = (\n        await this.ecosystemService.setAppActiveVersion(this.application, id)\n      ).data;\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n    this.isLoading = false;\n    this.refresh();\n  }\n\n  async deleteArchive(archive: IApplicationBinary): Promise<void> {\n    await this.ecosystemService.deleteArchive(archive, this.application);\n    this.refresh();\n  }\n\n  async downloadArchive(archive: IApplicationBinary): Promise<void> {\n    await this.ecosystemService.downloadArchive(this.application, archive);\n  }\n\n  async reactivateArchive(): Promise<void> {\n    await this.ecosystemService.reactivateArchive(this.application);\n  }\n\n  async onRefresh() {\n    await this.refresh();\n  }\n\n  private async refresh(): Promise<void> {\n    this.isLoading = true;\n    this.archives = await this.ecosystemService.listArchives(this.application.id);\n    this.archives.sort((a, b) => {\n      return (new Date(b.created) as any) - (new Date(a.created) as any);\n    });\n    this.last = this.archives[this.archives.length - 1];\n    this.isLoading = false;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n  ApplicationService,\n  ApplicationType,\n  BillingMode,\n  IApplication,\n  IManagedObject,\n  InventoryService,\n  Isolation\n} from '@c8y/client';\nimport { packageProperties } from '../ecosystem.constants';\nimport { EcosystemService } from '../ecosystem.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AlertService, gettext, PropertiesListItem, ViewContext } from '@c8y/ngx-components';\nimport { ApplicationState } from '../ecosystem.model';\n\nconst MICROSERVICES_BASE_PATH: string = '/microservices';\nconst APPLICATIONS_BASE_PATH: string = '/ecosystem';\n\n@Component({\n  selector: 'c8y-application-properties',\n  templateUrl: './application-properties.component.html'\n})\nexport class ApplicationPropertiesComponent implements OnInit {\n  formGroup: FormGroup;\n  application: IApplication;\n  binaryMo: IManagedObject;\n  singleTenant: boolean = false;\n  subscription: boolean = false;\n  canOpenInBrowser: boolean;\n  disableOpenInBrowser: boolean;\n  canDelete: boolean;\n  isOwner: boolean;\n  isSubscribed: boolean;\n  isPackage: boolean;\n  isMicroservice: boolean;\n  isFeature: boolean;\n  isExternal: boolean;\n  isUnpacked: boolean;\n  iconMap = {\n    HOSTED: 'cloud',\n    EXTERNAL: 'external-link-square',\n    MICROSERVICE: 'microchip'\n  };\n  appState: ApplicationState;\n  package: IApplication;\n  isLoading: boolean = true;\n  isActivityLogSupported: boolean;\n  isCustomMicroservice: boolean;\n\n  breadcrumbConfig: { icon: string; label: string; path: string };\n  packageProperties: PropertiesListItem[] = [...packageProperties];\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private ecosystemService: EcosystemService,\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private applicationService: ApplicationService,\n    private alertService: AlertService,\n    private inventoryService: InventoryService\n  ) {}\n\n  async ngOnInit() {\n    await this.load();\n    this.isUnpacked = this.ecosystemService.isUnpacked(this.application);\n    this.isPackage = this.ecosystemService.isPackage(this.application);\n    this.isFeature = this.ecosystemService.isFeature(this.application);\n    this.isExternal = this.ecosystemService.isExternal(this.application);\n    this.isMicroservice = this.ecosystemService.isMicroservice(this.application);\n    this.appState = this.ecosystemService.getAppState(this.application);\n\n    if (this.isUnpacked) {\n      await this.resolveSourcePackage();\n    }\n\n    this.setBreadcrumbConifg();\n\n    if (this.isCustomMicroservice) {\n      this.loadBinaryMo();\n    }\n  }\n\n  async load() {\n    this.isLoading = true;\n    this.initForm();\n    await this.loadApplication();\n    this.isLoading = false;\n  }\n\n  onApplication(app: IApplication) {\n    if (app.manifest) {\n      this.singleTenant = app.manifest.isolation === Isolation.PER_TENANT;\n      this.subscription = app.manifest.billingMode === BillingMode.SUBSCRIPTION;\n    }\n  }\n\n  cancel() {\n    if (this.application.type === ApplicationType.MICROSERVICE) {\n      this.router.navigateByUrl(MICROSERVICES_BASE_PATH);\n    } else {\n      this.router.navigateByUrl(APPLICATIONS_BASE_PATH);\n    }\n  }\n\n  openApp(app) {\n    window.open(this.applicationService.getHref(app));\n  }\n\n  getPackage(entityOrId: string | number | IApplication) {\n    return this.applicationService.detail(entityOrId);\n  }\n\n  async delete() {\n    try {\n      await this.ecosystemService.deleteApp(this.application);\n      if (this.application.type === ApplicationType.MICROSERVICE) {\n        this.router.navigateByUrl(MICROSERVICES_BASE_PATH);\n      } else {\n        this.router.navigateByUrl(APPLICATIONS_BASE_PATH);\n      }\n    } catch (ex) {\n      if (ex) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n  }\n\n  async subscribe() {\n    await this.ecosystemService.subscribeApp(this.application);\n    this.loadApplication();\n  }\n\n  async unsubscribe() {\n    await this.ecosystemService.unsubscribeApp(this.application);\n    this.loadApplication();\n  }\n\n  async loadApplication() {\n    const { id } = this.activatedRoute.snapshot.parent.data.contextData;\n    this.application = await this.ecosystemService.getApplication(id);\n    if (this.application.type === ApplicationType.MICROSERVICE) {\n      this.formGroup.get('name').disable();\n    }\n    this.formGroup.patchValue({ ...this.application });\n    this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.application);\n    this.disableOpenInBrowser =\n      this.canOpenInBrowser &&\n      (await this.ecosystemService.isOverwrittenByCustomApp(this.application));\n    this.canDelete = this.ecosystemService.canDeleteApp(this.application);\n    this.isOwner = this.ecosystemService.isOwner(this.application);\n    this.isActivityLogSupported = this.isActivityLogSupportedByApp(this.application);\n    this.isCustomMicroservice = this.ecosystemService.isCustomMicroservice(this.application);\n    this.isSubscribed = await this.ecosystemService.checkIfSubscribed(this.application);\n    this.onApplication(this.application);\n  }\n\n  async save(app: IApplication) {\n    app.id = this.application.id;\n    try {\n      await this.ecosystemService.updateApp(app);\n      this.alertService.success(gettext('Application saved.'));\n      this.formGroup.reset();\n      this.loadApplication();\n    } catch (ex) {\n      // do nothing\n    }\n  }\n\n  onNewArchive() {\n    this.loadBinaryMo();\n  }\n\n  private async resolveSourcePackage() {\n    this.package = (await this.getPackage(this.application.manifest.source)).data;\n    if (this.package) {\n      this.packageProperties.push({\n        label: gettext('Source package'),\n        value: this.package.name,\n        type: 'link',\n        action: () =>\n          this.router.navigateByUrl(\n            ViewContext.Application.replace(':id', this.package.id.toString())\n          )\n      });\n    }\n  }\n\n  private initForm(): void {\n    this.formGroup = this.formBuilder.group({\n      id: [{ value: '' }],\n      name: [Validators.required, Validators.maxLength(120)],\n      key: [Validators.required, Validators.maxLength(120)],\n      contextPath: [Validators.required, Validators.maxLength(120)],\n      description: ['', Validators.maxLength(200)],\n      resourcesUrl: [Validators.required],\n      username: [Validators.required],\n      password: [Validators.required],\n      externalUrl: [Validators.required]\n    });\n  }\n\n  private isActivityLogSupportedByApp(app: IApplication): boolean {\n    return (\n      this.ecosystemService.isOwner(app) &&\n      app.type !== ApplicationType.MICROSERVICE &&\n      app.type !== ApplicationType.EXTERNAL\n    );\n  }\n\n  private setBreadcrumbConifg() {\n    this.breadcrumbConfig = {\n      icon: this.isMicroservice ? 'microchip' : this.isFeature ? 'tab' : 'c8y-modules',\n      label: this.isMicroservice\n        ? gettext('Microservices')\n        : this.isFeature\n        ? gettext('Features')\n        : gettext('All applications'),\n      path: this.isMicroservice\n        ? 'microservices'\n        : this.isFeature\n        ? 'ecosystem/features'\n        : 'ecosystem/applications'\n    };\n  }\n\n  private async loadBinaryMo() {\n    this.binaryMo = (await this.inventoryService.detail(this.application.activeVersionId)).data;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { gettext, NavigatorNode, NavigatorNodeFactory, Permissions } from '@c8y/ngx-components';\n\n@Injectable()\nexport class EcosystemNavigationFactory implements NavigatorNodeFactory {\n  private navs: NavigatorNode[] = [];\n  private showNavigatorNodes: boolean;\n\n  constructor(private permissions: Permissions) {\n    this.showNavigatorNodes = this.permissions.hasAnyRole([\n      'ROLE_APPLICATION_MANAGEMENT_READ',\n      'ROLE_APPLICATION_MANAGEMENT_ADMIN'\n    ]);\n  }\n\n  async get() {\n/*\nThe NavigatorNodes are added in AngularJS code to keep the Quick links widget working.\nAfter the Quick links widget is migrated to Angular, the logic of adding the NavigatorNodes can be migrated as well.\n    if (this.navs.length === 0 && this.showNavigatorNodes) {\n      const applicationsNode: NavigatorNode = new NavigatorNode({\n        label: gettext('Applications'),\n        icon: 'c8y-modules',\n        path: '/ecosystem',\n        priority: 300,\n        routerLinkExact: false\n      });\n\n      const microservicesNode = new NavigatorNode({\n        label: gettext('Microservices'),\n        icon: 'microchip',\n        path: '/microservices',\n        priority: 200,\n        routerLinkExact: false\n      });\n\n      this.navs.push(\n        new NavigatorNode({\n          label: gettext('Ecosystem'),\n          icon: 'c8y-atom',\n          priority: 3200,\n          children: [applicationsNode, microservicesNode]\n        })\n      );\n    }\n*/\n    return this.navs;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot } from '@angular/router';\nimport { OptionsService } from '@c8y/ngx-components';\n\n@Injectable()\nexport class EcosystemGuard implements CanActivate {\n  constructor(private optionsService: OptionsService) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    return this.isFeatureEnabled();\n  }\n\n  isFeatureEnabled() {\n    return Boolean(this.optionsService.get('beta', false));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { gettext, Tab, TabFactory } from '@c8y/ngx-components';\nimport { Router } from '@angular/router';\nimport { EcosystemGuard } from './ecosystem.guard';\n\n@Injectable()\nexport class EcosystemTabs implements TabFactory {\n  constructor(public router: Router, private ecosystemGuard: EcosystemGuard) {}\n\n  get(): Tab[] {\n    const tabs: Tab[] = [];\n    if (\n      this.router.url === '/ecosystem/applications' ||\n      this.router.url === '/ecosystem/package-list' ||\n      this.router.url === '/ecosystem/features'\n    ) {\n      tabs.push({\n        icon: 'c8y-modules',\n        priority: 1000,\n        label: gettext('All applications'),\n        path: 'ecosystem/applications'\n      } as Tab);\n\n      if (this.ecosystemGuard.isFeatureEnabled()) {\n        tabs.push({\n          icon: 'big-parcel',\n          priority: 999,\n          label: gettext('Packages'),\n          path: 'ecosystem/package-list'\n        } as Tab);\n      }\n\n      tabs.push({\n        icon: 'tab',\n        priority: 998,\n        label: gettext('Features'),\n        path: '/ecosystem/features'\n      } as Tab);\n    }\n    return tabs;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { IApplication, IResultList } from '@c8y/client';\nimport { WizardService } from '@c8y/ngx-components';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-microservice-list',\n  templateUrl: './microservice-list.component.html'\n})\nexport class MicroserviceListComponent implements OnInit {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n  microservices$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getMicroservices()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n  isMicroserviceHostingAllowed$: Observable<boolean> = this.reload$.pipe(\n    switchMap(() => this.ecosystemService.isMicroserviceHostingAllowed()),\n    shareReplay()\n  );\n  listClass: string;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private wizardService: WizardService\n  ) {}\n\n  ngOnInit() {\n    this.loadMicroservices();\n  }\n\n  loadMicroservices() {\n    this.reload$.next();\n  }\n\n  addMicroservice() {\n    const initialState: any = {\n      id: 'uploadMicroservice'\n    };\n    const modalOptions: ModalOptions = { initialState };\n\n    const modalRef = this.wizardService.show(modalOptions);\n    modalRef.content.onClose.subscribe(() => {\n      this.loadMicroservices();\n    });\n  }\n}\n","import { Component } from '@angular/core';\nimport { IApplication } from '@c8y/client';\nimport { WizardService } from '@c8y/ngx-components';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-packages-list',\n  templateUrl: './packages-list.component.html'\n})\nexport class PackagesListComponent {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n\n  packages$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getPackageApplications()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n  listClass: string;\n\n  constructor(private ecosystemService: EcosystemService, private wizardService: WizardService) {}\n\n  ngOnInit() {\n    this.loadPackages();\n  }\n\n  loadPackages() {\n    this.reload$.next();\n  }\n\n  addPackage() {\n    const initialState: any = {\n      id: 'uploadPackage'\n    };\n    const modalOptions: ModalOptions = { initialState };\n\n    const modalRef = this.wizardService.show(modalOptions);\n    modalRef.content.onClose.subscribe(() => {\n      this.loadPackages();\n    });\n  }\n}\n","import { Component } from '@angular/core';\nimport { ApplicationType, IApplication } from '@c8y/client';\nimport { EcosystemService } from '../ecosystem.service';\nimport { gettext } from '@c8y/ngx-components';\n\n@Component({\n  selector: 'c8y-add-package',\n  template: `<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'big-parcel'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createPackageAppHandler\"\n    [uploadApplicationHandler]=\"uploadPackageHandler\"\n  ></c8y-add-application>`\n})\nexport class AddPackageComponent {\n  headerText: string = gettext('Add package');\n  successText: string = gettext('Package created');\n\n  constructor(private ecosystemService: EcosystemService) {}\n\n  createPackageAppHandler = (f: File) => this.createPackageApp(f);\n  uploadPackageHandler = (f: File, app: IApplication) => this.uploadPackage(f, app);\n\n  async createPackageApp(file: File): Promise<IApplication> {\n    await this.ecosystemService.isValidAppType(file, ApplicationType.HOSTED);\n    return this.ecosystemService.createAppForArchive(file, true);\n  }\n\n  uploadPackage(file: File, pckg: IApplication): Promise<IApplication> {\n    return this.ecosystemService.uploadArchiveToApp(file, pckg);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FetchClient, IApplication, IFetchOptions, IFetchResponse } from '@c8y/client';\nimport { PropertiesListItem, WizardService } from '@c8y/ngx-components';\nimport { lexer as markedLexer, parser as markedParser } from 'marked';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { packageProperties } from '../../ecosystem.constants';\nimport { ApplicationState } from '../../ecosystem.model';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-package-details',\n  templateUrl: './package-details.component.html'\n})\nexport class PackageDetailsComponent implements OnInit {\n  readme: string;\n  package: IApplication = {};\n  name: string;\n  description: string;\n  appState: ApplicationState;\n  isApplicationPackage: boolean;\n\n  readonly packageProperties: PropertiesListItem[] = packageProperties;\n  private readonly headers: any = { 'Content-Type': 'text/markdown', responseType: 'blob' };\n  private NOT_FOUND_ERROR_CODE = 404;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private client: FetchClient,\n    private wizard: WizardService,\n    private ecosystemService: EcosystemService\n  ) {}\n\n  async ngOnInit() {\n    this.package = this.getPackage();\n    this.name = this.package?.name;\n    this.description = this.package?.manifest?.description;\n    this.readme = await this.getReadmeFileContentAsHtml();\n    this.appState = this.ecosystemService.getAppState(this.package);\n    this.isApplicationPackage = this.ecosystemService.isApplicationPackage(this.package);\n  }\n\n  deploy() {\n    const initialState: any = {\n      wizardConfig: {},\n      id: 'deployPackage',\n      package: this.package\n    };\n    const modalOptions: ModalOptions = { initialState };\n    this.wizard.show(modalOptions);\n  }\n\n  private getPackage() {\n    return this.activatedRoute?.snapshot?.parent?.data?.contextData;\n  }\n\n  private async getReadmeFileContentAsHtml(): Promise<string> {\n    const readmeFile = await this.getReadmeFile();\n\n    const readmeContent = await readmeFile.text();\n    if (readmeFile.status === 200) {\n      const tokens = markedLexer(readmeContent);\n      const html = markedParser(tokens);\n      return html;\n    }\n  }\n\n  private async getReadmeFile(): Promise<IFetchResponse> {\n    let result: IFetchResponse;\n    const options: IFetchOptions = {\n      method: 'GET',\n      headers: this.headers\n    };\n\n    result = await this.client.fetch(`/apps/${this.package.contextPath}/readme.md`, options);\n\n    if (result && result.status === this.NOT_FOUND_ERROR_CODE) {\n      result = await this.client.fetch(`/apps/${this.package.contextPath}/README.md`, options);\n    }\n    return result;\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { gettext, WizardComponent } from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { ApplicationPropertiesFormComponent } from '../../shared/application-properties-form.component';\n\n@Component({\n  selector: 'c8y-deploy-application',\n  templateUrl: './deploy-application.component.html'\n})\nexport class DeployApplicationComponent implements OnInit {\n  inProgress: boolean = true;\n  package: IApplication;\n  isDeployed: boolean = false;\n  deployedWithSuccess: boolean = false;\n  newAppConfig: IApplication;\n\n  @ViewChild(ApplicationPropertiesFormComponent)\n  applicationPropertiesForm: ApplicationPropertiesFormComponent;\n\n  readonly descriptionTemplate: string = gettext(\n    'Deploy application using \"{{ packageName }}\" package'\n  );\n  headerText: string;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent,\n    private translate: TranslateService\n  ) {}\n\n  async ngOnInit() {\n    this.package = (this.wizardComponent as any).package;\n    const apps = (await this.ecosystemService.getApplications()).data;\n    this.newAppConfig = this.ecosystemService.getUniqueAppConfig(this.package, apps);\n    this.headerText = this.getHeaderText();\n    this.inProgress = false;\n  }\n\n  async deployApp() {\n    const formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();\n\n    this.inProgress = true;\n\n    const { data: clonedPkg } = await this.applicationService.clone(this.package);\n    const config = this.ecosystemService.createConfig(clonedPkg, formGroupValue);\n\n    try {\n      const { data: updatedApp } = await this.ecosystemService.updateApp(config, true);\n\n      if (updatedApp) {\n        await this.ecosystemService.updateAppManifest(updatedApp, this.package);\n      }\n      this.deployedWithSuccess = true;\n    } catch (error) {\n      this.markAsDeployed();\n      await this.applicationService.delete(clonedPkg.id);\n    }\n    this.markAsDeployed();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  private markAsDeployed() {\n    this.isDeployed = true;\n    this.inProgress = false;\n  }\n\n  private getHeaderText() {\n    return this.translate.instant(this.descriptionTemplate, {\n      packageName: this.package.name\n    });\n  }\n}\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { AlertService, DropAreaComponent, WizardComponent } from '@c8y/ngx-components';\nimport { BehaviorSubject } from 'rxjs';\nimport { ERROR_MESSAGES } from './../ecosystem.constants';\nimport { EcosystemService } from './../ecosystem.service';\n\n@Component({\n  selector: 'c8y-add-application',\n  templateUrl: './add-application.component.html'\n})\nexport class AddApplicationComponent {\n  @Input() headerText: string;\n  @Input() headerIcon: string;\n  @Input() successText: string;\n  @Input() createApplicationHandler: any;\n  @Input() uploadApplicationHandler: any;\n  @Input() canGoBack: boolean = false;\n\n  @ViewChild(DropAreaComponent) dropAreaComponent;\n\n  isLoading: boolean;\n  isAppCreated: boolean;\n  createdApp: IApplication;\n  canOpenInBrowser: boolean = false;\n  errorMessage: string;\n  private uploadCanceled: boolean = false;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private alertService: AlertService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  get progress(): BehaviorSubject<number> {\n    return this.ecosystemService.progress;\n  }\n\n  onFileDroppedEvent(event) {\n    if (event && event.length > 0) {\n      const file = event[0].file;\n      this.onFile(file);\n    }\n  }\n\n  async onFile(file: File) {\n    this.isLoading = true;\n    this.errorMessage = null;\n    this.progress.next(0);\n\n    try {\n      this.createdApp = await this.createApplicationHandler(file);\n      await this.uploadApplicationHandler(file, this.createdApp);\n      this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.createdApp);\n      this.isAppCreated = true;\n    } catch (ex) {\n      this.ecosystemService.cancelAppCreation(this.createdApp);\n      this.createdApp = null;\n      this.dropAreaComponent.onDelete();\n      this.errorMessage = ERROR_MESSAGES[ex.message];\n      if (!this.errorMessage && !this.uploadCanceled) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n    this.progress.next(100);\n    this.isLoading = false;\n  }\n\n  getHref(app: IApplication): string {\n    return this.applicationService.getHref(app);\n  }\n\n  cancel() {\n    this.cancelFileUpload();\n    this.wizardComponent.close();\n  }\n\n  done() {\n    this.wizardComponent.close();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n\n  private cancelFileUpload() {\n    this.uploadCanceled = true;\n    this.ecosystemService.cancelAppCreation(this.createdApp);\n    this.createdApp = null;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Injectable()\nexport class PackageGuard implements CanActivate {\n  constructor(private ecosystemService: EcosystemService) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const app = route.data.contextData || route.parent.data.contextData;\n    if (!app) {\n      return false;\n    }\n    return this.ecosystemService.isPackage(app);\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { AlertService, gettext } from '@c8y/ngx-components';\nimport { ApplicationState } from './../ecosystem.model';\nimport { EcosystemService } from './../ecosystem.service';\n\n@Component({\n  selector: 'c8y-application-card',\n  templateUrl: './application-card.component.html'\n})\nexport class ApplicationCardComponent implements OnInit {\n  @Input() app: IApplication;\n  @Input() canEdit: boolean = true;\n  @Output() onAppDeleted: EventEmitter<void> = new EventEmitter();\n  appState: ApplicationState;\n  canOpenInBrowser: boolean;\n  disableOpenInBrowser: boolean;\n  canDelete: boolean;\n  isPackage: boolean;\n  isFeature: boolean;\n  isExternal: boolean;\n  isMicroservice: boolean;\n  get openButtonTitle() {\n    return !this.disableOpenInBrowser ?\n      gettext('Open') :\n      gettext('This application is overridden.');\n  }\n\n  constructor(\n    private applicationService: ApplicationService,\n    private ecosystemService: EcosystemService,\n    private alertService: AlertService,\n    private router: Router\n  ) {}\n\n  async ngOnInit() {\n    this.appState = this.ecosystemService.getAppState(this.app);\n    const contextPath = this.app.contextPath;\n    this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.app);\n    this.disableOpenInBrowser =\n      this.canOpenInBrowser && (await this.ecosystemService.isOverwrittenByCustomApp(this.app));\n    this.canDelete = this.ecosystemService.canDeleteApp(this.app);\n    this.isPackage = this.ecosystemService.isPackage(this.app);\n    this.isFeature = this.ecosystemService.isFeature(this.app);\n    this.isMicroservice = this.ecosystemService.isMicroservice(this.app);\n    this.isExternal = this.ecosystemService.isExternal(this.app);\n  }\n\n  detail() {\n    this.isMicroservice\n      ? this.router.navigateByUrl(`/microservices/${this.app.id}`)\n      : this.router.navigateByUrl(`/ecosystem/application/${this.app.id}`);\n  }\n\n  openApp() {\n    window.open(this.applicationService.getHref(this.app));\n  }\n\n  async delete() {\n    try {\n      await this.ecosystemService.deleteApp(this.app);\n      this.onAppDeleted.emit();\n    } catch (ex) {\n      if (ex) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Injectable()\nexport class ApplicationPropertiesGuard implements CanActivate {\n  constructor(private ecosystemService: EcosystemService) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const app = route.data.contextData || route.parent.data.contextData;\n    if (!app) {\n      return false;\n    }\n    return !this.ecosystemService.isPackage(app);\n  }\n}\n","import { Component } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { IApplication } from '@c8y/client';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-feature-list',\n  templateUrl: './feature-list.component.html'\n})\nexport class FeatureListComponent {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n\n  features$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getFeatureApplications()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n  listClass: string;\n\n  constructor(private ecosystemService: EcosystemService) {}\n\n  ngOnInit() {\n    this.loadFeatures();\n  }\n\n  loadFeatures() {\n    this.reload$.next();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { IApplication } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-package-archives',\n  templateUrl: './package-archives.component.html'\n})\nexport class PackageArchivesComponent implements OnInit {\n  application: IApplication;\n  isLoading: boolean = false;\n\n  constructor(private activatedRoute: ActivatedRoute, private ecosystemService: EcosystemService) {}\n\n  async ngOnInit(): Promise<void> {\n    await this.loadApplication();\n  }\n\n  async loadApplication(): Promise<void> {\n    const { id } = this.activatedRoute.snapshot.parent.data.contextData;\n    this.isLoading = true;\n    this.application = await this.ecosystemService.getApplication(id);\n    this.isLoading = false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { EcosystemGuard } from './ecosystem.guard';\nimport { InstallFromPackageComponent } from './applications/install-from-package/install-from-package.component';\n\n@Injectable()\nexport class EcosystemWizardFactory {\n  constructor(private ecosystemGuard: EcosystemGuard) {}\n\n  async get() {\n    if (!this.ecosystemGuard.isFeatureEnabled()) {\n      return;\n    } else {\n      return {\n        wizardId: 'uploadApplication',\n        component: InstallFromPackageComponent,\n        name: 'Install from available packages',\n        c8yIcon: 'big-parcel'\n      };\n    }\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IApplication, IApplicationBinary } from '@c8y/client';\nimport { AlertService, gettext } from '@c8y/ngx-components';\nimport { BehaviorSubject } from 'rxjs';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-upload-archive',\n  templateUrl: 'upload-archive.component.html'\n})\nexport class UploadArchiveComponent {\n  @Input() application: IApplication;\n  @Output() applicationChange: EventEmitter<IApplication> = new EventEmitter<IApplication>();\n  @Output() refresh: EventEmitter<any> = new EventEmitter();\n\n  archives: IApplicationBinary[] = [];\n  toActivateVersionId: string;\n  last: IApplicationBinary;\n  isLoading: boolean;\n  fileList: FileList;\n  uploadInProgress: boolean = false;\n  canReactivate: boolean = false;\n\n  constructor(private ecosystemService: EcosystemService, private alertService: AlertService) {}\n\n  get uploadProgress(): BehaviorSubject<number> {\n    return this.ecosystemService.progress;\n  }\n\n  onFileDroppedEvent(event): void {\n    if (event && event.length > 0) {\n      const file = event[0].file;\n      this.onFile(file);\n    }\n  }\n\n  private async onFile(file: File): Promise<void> {\n    try {\n      await this.ecosystemService.isValidAppType(file, this.application.type);\n      const isCustomMicroservice = this.ecosystemService.isCustomMicroservice(this.application);\n      this.archives = isCustomMicroservice\n        ? []\n        : await this.ecosystemService.listArchives(this.application.id);\n      this.archives.sort((a, b) => {\n        return (new Date(b.created) as any) - (new Date(a.created) as any);\n      });\n      this.uploadInProgress = true;\n      this.uploadProgress.next(0);\n      if (this.archives.length === 6 && !isCustomMicroservice) {\n        await this.ecosystemService.removeOldestArchive(this.application, this.archives);\n      }\n      const app = await this.ecosystemService.uploadArchiveToApp(file, this.application);\n      this.applicationChange.emit(app);\n      this.uploadProgress.next(100);\n      this.uploadInProgress = false;\n      this.refresh.emit();\n      this.alertService.success(gettext('Archive uploaded and activated.'));\n    } catch (ex) {\n      this.uploadInProgress = false;\n      this.alertService.addServerFailure(ex);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport {\n  CoreModule,\n  FormsModule,\n  gettext,\n  HOOK_NAVIGATOR_NODES,\n  HOOK_ROUTE,\n  HOOK_TABS,\n  HOOK_WIZARD,\n  Route,\n  ViewContext\n} from '@c8y/ngx-components';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { AddWebApplicationComponent } from './applications/add-web-application/add-web-application.component';\nimport { InstallFromPackageComponent } from './applications/install-from-package/install-from-package.component';\nimport { DuplicateApplicationListComponent } from './applications/duplicate-application/duplicate-application-list/duplicate-application-list.component';\nimport { DuplicateApplicationPropertiesComponent } from './applications/duplicate-application/duplicate-application-properties/duplicate-application-properties.component';\nimport { DuplicateApplicationComponent } from './applications/duplicate-application/duplicate-application.component';\nimport { AddExternalApplicationComponent } from './applications/add-external-applicaiton/add-external-application.component';\nimport { AddMicroserviceComponent } from './microservices/add-microservice.component';\nimport { ApplicationListComponent } from './applications/application-list/application-list.component';\nimport { ApplicationPluginsComponent } from './applications/application-plugins/application-plugins.component';\nimport { ApplicationPluginsGuard } from './applications/application-plugins/application-plugins.guard';\nimport { InstallPluginComponent } from './applications/application-plugins/install-plugin.component';\nimport { PluginListItemComponent } from './applications/application-plugins/plugin-list-item.component';\nimport { PluginListComponent } from './applications/application-plugins/plugin-list.component';\nimport { ActivityLogComponent } from './activity-log/activity-log.component';\nimport { ApplicationPropertiesComponent } from './application-properties/application-properties.component';\nimport { EcosystemNavigationFactory } from './ecosystem-navigation.factory';\nimport { EcosystemTabs } from './ecosystem-tabs.factory';\nimport { EcosystemGuard } from './ecosystem.guard';\nimport { EcosystemService } from './ecosystem.service';\nimport { MicroserviceListComponent } from './microservices/microservice-list.component';\nimport { PackagesListComponent } from './packages/package-list/packages-list.component';\nimport { AddPackageComponent } from './packages/add-package.component';\nimport { PackageDetailsComponent } from './packages/package-details/package-details.component';\nimport { DeployApplicationComponent } from './packages/deploy-application/deploy-application.component';\nimport { AddApplicationComponent } from './shared/add-application.component';\nimport { PackageGuard } from './packages/package.guard';\nimport { ApplicationCardComponent } from './shared/application-card.component';\nimport { ApplicationPropertiesFormComponent } from './shared/application-properties-form.component';\nimport { ApplicationPropertiesGuard } from './application-properties/application-properties.guard';\nimport { FeatureListComponent } from './features/feature-list.component';\nimport { PackageArchivesComponent } from './packages/package-archives/package-archives.component';\nimport { EcosystemWizardFactory } from './ecosystem-wizard.factory';\nimport { UploadArchiveComponent } from './shared/upload-archive.component';\n\nconst ecosystemMainRoutes: Route[] = [\n  {\n    path: 'ecosystem/applications',\n    component: ApplicationListComponent\n  },\n  {\n    path: 'ecosystem/package-list',\n    component: PackagesListComponent,\n    canActivate: [EcosystemGuard]\n  },\n  {\n    path: 'ecosystem/features',\n    component: FeatureListComponent\n  },\n  {\n    path: 'ecosystem',\n    redirectTo: 'ecosystem/applications'\n  },\n  {\n    path: 'microservices',\n    component: MicroserviceListComponent\n  }\n];\n\nconst applicationDetailsRoutes: Route[] = [\n  {\n    path: 'properties',\n    component: ApplicationPropertiesComponent,\n    icon: 'list',\n    label: gettext('Properties'),\n    context: ViewContext.Application,\n    priority: 5,\n    canActivate: [ApplicationPropertiesGuard]\n  },\n  {\n    path: 'plugins',\n    component: ApplicationPluginsComponent,\n    icon: 'plugin',\n    label: gettext('Plugins'),\n    context: ViewContext.Application,\n    priority: 3,\n    canActivate: [ApplicationPluginsGuard, EcosystemGuard]\n  },\n  {\n    path: 'package-details',\n    component: PackageDetailsComponent,\n    icon: 'big-parcel',\n    label: gettext('Info'),\n    context: ViewContext.Application,\n    priority: 10,\n    canActivate: [PackageGuard, EcosystemGuard]\n  },\n  {\n    path: 'package-archives',\n    component: PackageArchivesComponent,\n    icon: 'c8y-archive',\n    label: gettext('Archives'),\n    context: ViewContext.Application,\n    priority: 5,\n    canActivate: [PackageGuard, EcosystemGuard]\n  },\n  {\n    path: 'properties',\n    component: ApplicationPropertiesComponent,\n    icon: 'list',\n    label: gettext('Properties'),\n    context: ViewContext.Microservice,\n    priority: 5,\n    canActivate: [ApplicationPropertiesGuard]\n  }\n];\n\n@NgModule({\n  declarations: [\n    ApplicationListComponent,\n    MicroserviceListComponent,\n    ApplicationCardComponent,\n    ApplicationPropertiesComponent,\n    AddMicroserviceComponent,\n    ActivityLogComponent,\n    ApplicationPluginsComponent,\n    PluginListItemComponent,\n    InstallPluginComponent,\n    PluginListComponent,\n    AddWebApplicationComponent,\n    AddExternalApplicationComponent,\n    DuplicateApplicationComponent,\n    DuplicateApplicationListComponent,\n    DuplicateApplicationPropertiesComponent,\n    ApplicationPropertiesComponent,\n    InstallFromPackageComponent,\n    AddMicroserviceComponent,\n    ApplicationPropertiesComponent,\n    PackagesListComponent,\n    PackageDetailsComponent,\n    DeployApplicationComponent,\n    AddPackageComponent,\n    AddApplicationComponent,\n    ApplicationPropertiesFormComponent,\n    FeatureListComponent,\n    PackageArchivesComponent,\n    UploadArchiveComponent\n  ],\n  entryComponents: [\n    AddMicroserviceComponent,\n    AddWebApplicationComponent,\n    AddExternalApplicationComponent,\n    DuplicateApplicationComponent,\n    DuplicateApplicationListComponent,\n    DuplicateApplicationPropertiesComponent,\n    ApplicationPropertiesComponent,\n    ActivityLogComponent,\n    ApplicationPluginsComponent,\n    InstallPluginComponent,\n    PackagesListComponent,\n    InstallFromPackageComponent,\n    PackageDetailsComponent,\n    DeployApplicationComponent,\n    AddPackageComponent,\n    FeatureListComponent,\n    PackageArchivesComponent\n  ],\n  imports: [\n    CoreModule,\n    BsDropdownModule,\n    TooltipModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(ecosystemMainRoutes),\n    PopoverModule\n  ],\n  exports: [ApplicationPropertiesComponent],\n  providers: [\n    {\n      provide: HOOK_TABS,\n      useClass: EcosystemTabs,\n      multi: true\n    },\n    {\n      provide: HOOK_NAVIGATOR_NODES,\n      useClass: EcosystemNavigationFactory,\n      multi: true\n    },\n    {\n      provide: HOOK_ROUTE,\n      useValue: applicationDetailsRoutes,\n      multi: true\n    },\n    EcosystemGuard,\n    EcosystemService,\n    ApplicationPluginsGuard,\n    PackageGuard,\n    ApplicationPropertiesGuard,\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadApplication',\n        component: AddWebApplicationComponent,\n        name: 'Upload web application',\n        c8yIcon: 'upload'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadPackage',\n        component: AddPackageComponent\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadApplication',\n        component: AddExternalApplicationComponent,\n        name: 'External application',\n        c8yIcon: 'cloud-link'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'deployPackage',\n        component: DeployApplicationComponent,\n        name: 'Deploy package',\n        c8yIcon: 'big-parcel'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useClass: EcosystemWizardFactory,\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadApplication',\n        component: DuplicateApplicationComponent,\n        name: 'Duplicate existing application',\n        c8yIcon: 'copy'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadMicroservice',\n        component: AddMicroserviceComponent\n      },\n      multi: true\n    }\n  ]\n})\nexport class EcosystemModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {ActivityLogComponent as ɵg} from './activity-log/activity-log.component';\nexport {ApplicationPropertiesComponent as ɵe} from './application-properties/application-properties.component';\nexport {ApplicationPropertiesGuard as ɵbd} from './application-properties/application-properties.guard';\nexport {AddExternalApplicationComponent as ɵm} from './applications/add-external-applicaiton/add-external-application.component';\nexport {AddWebApplicationComponent as ɵl} from './applications/add-web-application/add-web-application.component';\nexport {ApplicationListComponent as ɵa} from './applications/application-list/application-list.component';\nexport {ApplicationPluginsComponent as ɵh} from './applications/application-plugins/application-plugins.component';\nexport {ApplicationPluginsGuard as ɵbe} from './applications/application-plugins/application-plugins.guard';\nexport {InstallPluginComponent as ɵj} from './applications/application-plugins/install-plugin.component';\nexport {PluginListItemComponent as ɵi} from './applications/application-plugins/plugin-list-item.component';\nexport {PluginListComponent as ɵk} from './applications/application-plugins/plugin-list.component';\nexport {DuplicateApplicationListComponent as ɵo} from './applications/duplicate-application/duplicate-application-list/duplicate-application-list.component';\nexport {DuplicateApplicationPropertiesComponent as ɵp} from './applications/duplicate-application/duplicate-application-properties/duplicate-application-properties.component';\nexport {DuplicateApplicationComponent as ɵn} from './applications/duplicate-application/duplicate-application.component';\nexport {InstallFromPackageComponent as ɵr} from './applications/install-from-package/install-from-package.component';\nexport {EcosystemNavigationFactory as ɵbc} from './ecosystem-navigation.factory';\nexport {EcosystemTabs as ɵbb} from './ecosystem-tabs.factory';\nexport {EcosystemWizardFactory as ɵbg} from './ecosystem-wizard.factory';\nexport {EcosystemGuard as ɵba} from './ecosystem.guard';\nexport {EcosystemService as ɵb} from './ecosystem.service';\nexport {FeatureListComponent as ɵx} from './features/feature-list.component';\nexport {AddMicroserviceComponent as ɵf} from './microservices/add-microservice.component';\nexport {MicroserviceListComponent as ɵc} from './microservices/microservice-list.component';\nexport {AddPackageComponent as ɵv} from './packages/add-package.component';\nexport {DeployApplicationComponent as ɵu} from './packages/deploy-application/deploy-application.component';\nexport {PackageArchivesComponent as ɵy} from './packages/package-archives/package-archives.component';\nexport {PackageDetailsComponent as ɵt} from './packages/package-details/package-details.component';\nexport {PackagesListComponent as ɵs} from './packages/package-list/packages-list.component';\nexport {PackageGuard as ɵbf} from './packages/package.guard';\nexport {AddApplicationComponent as ɵw} from './shared/add-application.component';\nexport {ApplicationCardComponent as ɵd} from './shared/application-card.component';\nexport {ApplicationPropertiesFormComponent as ɵq} from './shared/application-properties-form.component';\nexport {UploadArchiveComponent as ɵz} from './shared/upload-archive.component';"],"names":["markedLexer","markedParser"],"mappings":"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"}