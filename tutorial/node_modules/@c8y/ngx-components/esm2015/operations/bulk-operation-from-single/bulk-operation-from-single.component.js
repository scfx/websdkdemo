import { __awaiter } from "tslib";
import { Component } from '@angular/core';
import { ActivatedRoute } from '@angular/router';
import { get } from 'lodash-es';
import { BaseStepperComponent } from '@c8y/ngx-components/operations/bulk-operation-stepper';
import { BulkOperationsService } from '@c8y/ngx-components/operations/bulk-operations-service';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/router';
import * as ɵngcc2 from '@c8y/ngx-components/operations/bulk-operations-service';
import * as ɵngcc3 from '@c8y/ngx-components/operations/bulk-operation-stepper';
export class BulkOperationFromSingleComponent extends BaseStepperComponent {
    constructor(activatedRoute, bulkOperationService) {
        super();
        this.activatedRoute = activatedRoute;
        this.bulkOperationService = bulkOperationService;
    }
    retrieveOperationPrototype() {
        return __awaiter(this, void 0, void 0, function* () {
            const prototype = (yield this.bulkOperationService.getOperation(this.activatedRoute.snapshot.params.operationId)).data;
            return {
                description: get(prototype, 'description'),
                prototype
            };
        });
    }
}
BulkOperationFromSingleComponent.ɵfac = function BulkOperationFromSingleComponent_Factory(t) { return new (t || BulkOperationFromSingleComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ActivatedRoute), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.BulkOperationsService)); };
BulkOperationFromSingleComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: BulkOperationFromSingleComponent, selectors: [["bulk-operation-from-single"]], features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 1, vars: 0, template: function BulkOperationFromSingleComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelement(0, "c8y-bulk-operation-stepper");
    } }, directives: [ɵngcc3.BulkOperationStepper], encapsulation: 2 });
BulkOperationFromSingleComponent.ctorParameters = () => [
    { type: ActivatedRoute },
    { type: BulkOperationsService }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(BulkOperationFromSingleComponent, [{
        type: Component,
        args: [{
                selector: 'bulk-operation-from-single',
                template: "<c8y-bulk-operation-stepper> </c8y-bulk-operation-stepper>\n"
            }]
    }], function () { return [{ type: ɵngcc1.ActivatedRoute }, { type: ɵngcc2.BulkOperationsService }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVsay1vcGVyYXRpb24tZnJvbS1zaW5nbGUuY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9vcGVyYXRpb25zL2J1bGstb3BlcmF0aW9uLWZyb20tc2luZ2xlL2J1bGstb3BlcmF0aW9uLWZyb20tc2luZ2xlLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFakQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNoQyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx1REFBdUQsQ0FBQztBQUM3RixPQUFPLEVBQ0wscUJBQXFCLEVBRXRCLE1BQU0sd0RBQXdELENBQUM7Ozs7O0FBTWhFLE1BQU0sT0FBTyxnQ0FBaUMsU0FBUSxvQkFBb0I7QUFBRyxJQUMzRSxZQUNVLGNBQThCLEVBQzlCLG9CQUEyQztBQUNwRCxRQUNDLEtBQUssRUFBRSxDQUFDO0FBQ1osUUFKWSxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7QUFBQyxRQUMvQix5QkFBb0IsR0FBcEIsb0JBQW9CLENBQXVCO0FBQ3ZELElBRUUsQ0FBQztBQUNILElBQ2tCLDBCQUEwQjtBQUFLO0FBQ2QsWUFBL0IsTUFBTSxTQUFTLEdBQWUsQ0FBQyxNQUFNLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLENBQ3pFLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQ2hELENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDWixZQUNJLE9BQU87QUFDWCxnQkFBTSxXQUFXLEVBQUUsR0FBRyxDQUFDLFNBQVMsRUFBRSxhQUFhLENBQUM7QUFDaEQsZ0JBQU0sU0FBUztBQUNmLGFBQUssQ0FBQztBQUNOLFFBQUUsQ0FBQztBQUVILEtBRkc7QUFDSDs0REF0QkMsU0FBUyxTQUFDLGtCQUNULFFBQVEsRUFBRSw0QkFBNEIsa0JBQ3RDLHdFQUF3RCxjQUN6RDs7O3dFQUNJO0FBQUM7QUFBMEQsWUFidkQsY0FBYztBQUFJLFlBS3pCLHFCQUFxQjtBQUN0Qjs7Ozs7Ozt1SEFBRTtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IElPcGVyYXRpb24gfSBmcm9tICdAYzh5L2NsaWVudCc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICdsb2Rhc2gtZXMnO1xuaW1wb3J0IHsgQmFzZVN0ZXBwZXJDb21wb25lbnQgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzL29wZXJhdGlvbnMvYnVsay1vcGVyYXRpb24tc3RlcHBlcic7XG5pbXBvcnQge1xuICBCdWxrT3BlcmF0aW9uc1NlcnZpY2UsXG4gIE9wZXJhdGlvbkRldGFpbHNcbn0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cy9vcGVyYXRpb25zL2J1bGstb3BlcmF0aW9ucy1zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYnVsay1vcGVyYXRpb24tZnJvbS1zaW5nbGUnLFxuICB0ZW1wbGF0ZVVybDogJ2J1bGstb3BlcmF0aW9uLWZyb20tc2luZ2xlLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBCdWxrT3BlcmF0aW9uRnJvbVNpbmdsZUNvbXBvbmVudCBleHRlbmRzIEJhc2VTdGVwcGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhY3RpdmF0ZWRSb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgcHJpdmF0ZSBidWxrT3BlcmF0aW9uU2VydmljZTogQnVsa09wZXJhdGlvbnNTZXJ2aWNlXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgcmV0cmlldmVPcGVyYXRpb25Qcm90b3R5cGUoKTogUHJvbWlzZTxPcGVyYXRpb25EZXRhaWxzPiB7XG4gICAgY29uc3QgcHJvdG90eXBlOiBJT3BlcmF0aW9uID0gKGF3YWl0IHRoaXMuYnVsa09wZXJhdGlvblNlcnZpY2UuZ2V0T3BlcmF0aW9uKFxuICAgICAgdGhpcy5hY3RpdmF0ZWRSb3V0ZS5zbmFwc2hvdC5wYXJhbXMub3BlcmF0aW9uSWRcbiAgICApKS5kYXRhO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRlc2NyaXB0aW9uOiBnZXQocHJvdG90eXBlLCAnZGVzY3JpcHRpb24nKSxcbiAgICAgIHByb3RvdHlwZVxuICAgIH07XG4gIH1cbn1cbiJdfQ==