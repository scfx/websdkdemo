function c8yNg1HttpInterceptor($q, c8yLoadingIndicator, c8yApiService) {
    'ngInject';
    function request(config) {
        const { url, method } = config;
        c8yApiService.onStart({ url, method, options: config });
        return config;
    }
    function requestError(rejection) {
        finishRequest(rejection);
        return $q.reject(rejection);
    }
    function response(res) {
        finishRequest(res);
        return res;
    }
    function responseError(rejection) {
        finishRequest(rejection);
        c8yLoadingIndicator.responseError(rejection);
        return $q.reject(rejection);
    }
    function finishRequest(res) {
        const { url, method } = res.config;
        c8yApiService.onFinish({
            url,
            method,
            response: res,
            options: res.config
        });
    }
    return {
        request,
        requestError,
        response,
        responseError
    };
}
export { c8yNg1HttpInterceptor };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cC5pbnRlcmNlcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3VwZ3JhZGUvbmcxL2h0dHAuaW50ZXJjZXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxxQkFBcUIsQ0FDNUIsRUFBRSxFQUNGLG1CQUFtQixFQUNuQixhQUFhO0lBRWIsVUFBVSxDQUFDO0lBRVgsU0FBUyxPQUFPLENBQUMsTUFBTTtRQUNyQixNQUFNLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQztRQUMvQixhQUFhLENBQUMsT0FBTyxDQUFDLEVBQUUsR0FBRyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUN4RCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBRUQsU0FBUyxZQUFZLENBQUMsU0FBUztRQUM3QixhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDekIsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxTQUFTLFFBQVEsQ0FBQyxHQUFHO1FBQ25CLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNuQixPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUM7SUFFRCxTQUFTLGFBQWEsQ0FBQyxTQUFTO1FBQzlCLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN6QixtQkFBbUIsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDN0MsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFFRCxTQUFTLGFBQWEsQ0FBQyxHQUFHO1FBQ3hCLE1BQU0sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQztRQUNuQyxhQUFhLENBQUMsUUFBUSxDQUFDO1lBQ3JCLEdBQUc7WUFDSCxNQUFNO1lBQ04sUUFBUSxFQUFFLEdBQUc7WUFDYixPQUFPLEVBQUUsR0FBRyxDQUFDLE1BQU07U0FDcEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELE9BQU87UUFDTCxPQUFPO1FBQ1AsWUFBWTtRQUNaLFFBQVE7UUFDUixhQUFhO0tBQ2QsQ0FBQztBQUNKLENBQUM7QUFFRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGM4eU5nMUh0dHBJbnRlcmNlcHRvcihcclxuICAkcSxcclxuICBjOHlMb2FkaW5nSW5kaWNhdG9yLFxyXG4gIGM4eUFwaVNlcnZpY2VcclxuKSB7XHJcbiAgJ25nSW5qZWN0JztcclxuXHJcbiAgZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcclxuICAgIGNvbnN0IHsgdXJsLCBtZXRob2QgfSA9IGNvbmZpZztcclxuICAgIGM4eUFwaVNlcnZpY2Uub25TdGFydCh7IHVybCwgbWV0aG9kLCBvcHRpb25zOiBjb25maWcgfSk7XHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVxdWVzdEVycm9yKHJlamVjdGlvbikge1xyXG4gICAgZmluaXNoUmVxdWVzdChyZWplY3Rpb24pO1xyXG4gICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVzcG9uc2UocmVzKSB7XHJcbiAgICBmaW5pc2hSZXF1ZXN0KHJlcyk7XHJcbiAgICByZXR1cm4gcmVzO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVzcG9uc2VFcnJvcihyZWplY3Rpb24pIHtcclxuICAgIGZpbmlzaFJlcXVlc3QocmVqZWN0aW9uKTtcclxuICAgIGM4eUxvYWRpbmdJbmRpY2F0b3IucmVzcG9uc2VFcnJvcihyZWplY3Rpb24pO1xyXG4gICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZmluaXNoUmVxdWVzdChyZXMpIHtcclxuICAgIGNvbnN0IHsgdXJsLCBtZXRob2QgfSA9IHJlcy5jb25maWc7XHJcbiAgICBjOHlBcGlTZXJ2aWNlLm9uRmluaXNoKHtcclxuICAgICAgdXJsLFxyXG4gICAgICBtZXRob2QsXHJcbiAgICAgIHJlc3BvbnNlOiByZXMsXHJcbiAgICAgIG9wdGlvbnM6IHJlcy5jb25maWdcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHJlcXVlc3QsXHJcbiAgICByZXF1ZXN0RXJyb3IsXHJcbiAgICByZXNwb25zZSxcclxuICAgIHJlc3BvbnNlRXJyb3JcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgeyBjOHlOZzFIdHRwSW50ZXJjZXB0b3IgfTtcclxuIl19