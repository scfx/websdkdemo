import { __awaiter } from "tslib";
import { NgModule } from '@angular/core';
import { gettext, ProviderConfigurationModule } from '@c8y/ngx-components';
import { get } from 'lodash-es';
import { SimGuard } from './sim.guard';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@c8y/ngx-components';
export function encodeFiles(model, fields) {
    return __awaiter(this, void 0, void 0, function* () {
        const result = Object.assign({}, model);
        const fileFields = (get(fields, '[0].fieldGroup') || []).filter((field) => {
            return field.type === 'file' && field.templateOptions.contentEncoding === 'base64';
        });
        for (const fileField of fileFields) {
            const files = model[fileField.key];
            if (files && Array.isArray(files) && files.length) {
                if (fileField.templateOptions.maxAllowedFiles === 1) {
                    result[fileField.key] = (yield files[0].readAsDataURL()).replace(/data:\S+;base64,/gi, '');
                }
                else {
                    const encodedFileContent = [];
                    for (const file of files) {
                        encodedFileContent.push((yield file.readAsDataURL()).replace(/data:\S+;base64,/gi, ''));
                    }
                    result[fileField.key] = encodedFileContent;
                }
            }
            else if (typeof files === 'string' || files instanceof String) {
                result[fileField.key] = files;
            }
        }
        return result;
    });
}
export class SimModule {
}
SimModule.ɵfac = function SimModule_Factory(t) { return new (t || SimModule)(); };
SimModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: SimModule });
SimModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [SimGuard], imports: [[
            ProviderConfigurationModule.config([
                {
                    navigation: {
                        label: gettext('Connectivity'),
                        path: 'connectivitySettings',
                        icon: 'plug',
                        parent: gettext('Settings'),
                        priority: 1000,
                        preventDuplicates: true
                    },
                    tab: {
                        path: 'sim_provider_settings',
                        label: 'SIM provider settings',
                        icon: 'mobile',
                        canActivate: [SimGuard]
                    },
                    layout: {
                        pageTitle: gettext('Connectivity'),
                        cardTitle: gettext('Settings'),
                        description: gettext(`In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.`),
                        providerName: gettext('Provider'),
                        providerNamePlaceholder: gettext('Select or type to filter providers'),
                        providerNameNoMatchesHint: gettext('Select one of the existing providers.'),
                        deleteRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                        deleteBtnLabel: gettext('Delete'),
                        saveRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                        saveBtnLabel: gettext('Save'),
                        beforeSaveHook: encodeFiles,
                        configurationUpdatedSuccessMsg: gettext('Settings updated.'),
                        deleteConfigurationModalTitle: gettext('Delete settings'),
                        deleteConfigurationModalBody: gettext(`You are about to delete SIM provider settings. Do you want to proceed?`),
                        deleteConfigurationModalOkBtnLabel: gettext('Delete'),
                        configurationDeletedSuccessMsg: gettext('Settings deleted.')
                    },
                    endpoint: {
                        definitionsEndpoint: {
                            baseUrl: 'service/connectivity/metadata',
                            listUrl: 'definitions'
                        },
                        configurationEndpoint: {
                            baseUrl: 'service/connectivity/metadata',
                            listUrl: 'sim/provider'
                        }
                    }
                }
            ])
        ]] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(SimModule, [{
        type: NgModule,
        args: [{
                providers: [SimGuard],
                imports: [
                    ProviderConfigurationModule.config([
                        {
                            navigation: {
                                label: gettext('Connectivity'),
                                path: 'connectivitySettings',
                                icon: 'plug',
                                parent: gettext('Settings'),
                                priority: 1000,
                                preventDuplicates: true
                            },
                            tab: {
                                path: 'sim_provider_settings',
                                label: 'SIM provider settings',
                                icon: 'mobile',
                                canActivate: [SimGuard]
                            },
                            layout: {
                                pageTitle: gettext('Connectivity'),
                                cardTitle: gettext('Settings'),
                                description: gettext(`In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.`),
                                providerName: gettext('Provider'),
                                providerNamePlaceholder: gettext('Select or type to filter providers'),
                                providerNameNoMatchesHint: gettext('Select one of the existing providers.'),
                                deleteRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                                deleteBtnLabel: gettext('Delete'),
                                saveRoles: ['ROLE_CONNECTIVITY_ADMIN'],
                                saveBtnLabel: gettext('Save'),
                                beforeSaveHook: encodeFiles,
                                configurationUpdatedSuccessMsg: gettext('Settings updated.'),
                                deleteConfigurationModalTitle: gettext('Delete settings'),
                                deleteConfigurationModalBody: gettext(`You are about to delete SIM provider settings. Do you want to proceed?`),
                                deleteConfigurationModalOkBtnLabel: gettext('Delete'),
                                configurationDeletedSuccessMsg: gettext('Settings deleted.')
                            },
                            endpoint: {
                                definitionsEndpoint: {
                                    baseUrl: 'service/connectivity/metadata',
                                    listUrl: 'definitions'
                                },
                                configurationEndpoint: {
                                    baseUrl: 'service/connectivity/metadata',
                                    listUrl: 'sim/provider'
                                }
                            }
                        }
                    ])
                ]
            }]
    }], null, null); })();
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(SimModule, { imports: [ɵngcc1.ProviderConfigurationModule] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2ltLm1vZHVsZS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29ubmVjdGl2aXR5L3NpbS9zaW0ubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFFTCxPQUFPLEVBQ1AsMkJBQTJCLEVBRTVCLE1BQU0scUJBQXFCLENBQUM7QUFFN0IsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNoQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDOzs7QUFFdkMsTUFBTSxVQUFnQixXQUFXLENBQy9CLEtBQXlCLEVBQ3pCLE1BQTJCO0FBQzFCO0FBQ3lCLFFBQTFCLE1BQU0sTUFBTSxxQkFBNEIsS0FBSyxDQUFFLENBQUM7QUFDbEQsUUFBRSxNQUFNLFVBQVUsR0FBd0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLGdCQUFnQixDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsTUFBTSxDQUNsRixDQUFDLEtBQXdCLEVBQUUsRUFBRTtBQUNqQyxZQUFNLE9BQU8sS0FBSyxDQUFDLElBQUksS0FBSyxNQUFNLElBQUksS0FBSyxDQUFDLGVBQWUsQ0FBQyxlQUFlLEtBQUssUUFBUSxDQUFDO0FBQ3pGLFFBQUksQ0FBQyxDQUNGLENBQUM7QUFDSixRQUNFLEtBQUssTUFBTSxTQUFTLElBQUksVUFBVSxFQUFFO0FBQ3RDLFlBQUksTUFBTSxLQUFLLEdBQWtCLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBYSxDQUFDLENBQUM7QUFDaEUsWUFBSSxJQUFJLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFDdkQsZ0JBQU0sSUFBSSxTQUFTLENBQUMsZUFBZSxDQUFDLGVBQWUsS0FBSyxDQUFDLEVBQUU7QUFDM0Qsb0JBQVEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFhLENB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QjsyQkFDRjtjQUNGO1NBQ0YsQ0FBQyxrQkFDSCxjQUNGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2dLQUNJO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtcbiAgRHJvcHBlZEZpbGUsXG4gIGdldHRleHQsXG4gIFByb3ZpZGVyQ29uZmlndXJhdGlvbk1vZHVsZSxcbiAgUHJvdmlkZXJQcm9wZXJ0aWVzXG59IGZyb20gJ0BjOHkvbmd4LWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgRm9ybWx5RmllbGRDb25maWcgfSBmcm9tICdAbmd4LWZvcm1seS9jb3JlJztcbmltcG9ydCB7IGdldCB9IGZyb20gJ2xvZGFzaC1lcyc7XG5pbXBvcnQgeyBTaW1HdWFyZCB9IGZyb20gJy4vc2ltLmd1YXJkJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY29kZUZpbGVzKFxuICBtb2RlbDogUHJvdmlkZXJQcm9wZXJ0aWVzLFxuICBmaWVsZHM6IEZvcm1seUZpZWxkQ29uZmlnW11cbik6IFByb21pc2U8UHJvdmlkZXJQcm9wZXJ0aWVzPiB7XG4gIGNvbnN0IHJlc3VsdDogUHJvdmlkZXJQcm9wZXJ0aWVzID0geyAuLi5tb2RlbCB9O1xuICBjb25zdCBmaWxlRmllbGRzOiBGb3JtbHlGaWVsZENvbmZpZ1tdID0gKGdldChmaWVsZHMsICdbMF0uZmllbGRHcm91cCcpIHx8IFtdKS5maWx0ZXIoXG4gICAgKGZpZWxkOiBGb3JtbHlGaWVsZENvbmZpZykgPT4ge1xuICAgICAgcmV0dXJuIGZpZWxkLnR5cGUgPT09ICdmaWxlJyAmJiBmaWVsZC50ZW1wbGF0ZU9wdGlvbnMuY29udGVudEVuY29kaW5nID09PSAnYmFzZTY0JztcbiAgICB9XG4gICk7XG5cbiAgZm9yIChjb25zdCBmaWxlRmllbGQgb2YgZmlsZUZpZWxkcykge1xuICAgIGNvbnN0IGZpbGVzOiBEcm9wcGVkRmlsZVtdID0gbW9kZWxbZmlsZUZpZWxkLmtleSBhcyBzdHJpbmddO1xuICAgIGlmIChmaWxlcyAmJiBBcnJheS5pc0FycmF5KGZpbGVzKSAmJiBmaWxlcy5sZW5ndGgpIHtcbiAgICAgIGlmIChmaWxlRmllbGQudGVtcGxhdGVPcHRpb25zLm1heEFsbG93ZWRGaWxlcyA9PT0gMSkge1xuICAgICAgICByZXN1bHRbZmlsZUZpZWxkLmtleSBhcyBzdHJpbmddID0gKGF3YWl0IGZpbGVzWzBdLnJlYWRBc0RhdGFVUkwoKSkucmVwbGFjZShcbiAgICAgICAgICAvZGF0YTpcXFMrO2Jhc2U2NCwvZ2ksXG4gICAgICAgICAgJydcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRGaWxlQ29udGVudDogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcbiAgICAgICAgICBlbmNvZGVkRmlsZUNvbnRlbnQucHVzaCgoYXdhaXQgZmlsZS5yZWFkQXNEYXRhVVJMKCkpLnJlcGxhY2UoL2RhdGE6XFxTKztiYXNlNjQsL2dpLCAnJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0W2ZpbGVGaWVsZC5rZXkgYXMgc3RyaW5nXSA9IGVuY29kZWRGaWxlQ29udGVudDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxlcyA9PT0gJ3N0cmluZycgfHwgZmlsZXMgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgIHJlc3VsdFtmaWxlRmllbGQua2V5IGFzIHN0cmluZ10gPSBmaWxlcztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuQE5nTW9kdWxlKHtcbiAgcHJvdmlkZXJzOiBbU2ltR3VhcmRdLFxuICBpbXBvcnRzOiBbXG4gICAgUHJvdmlkZXJDb25maWd1cmF0aW9uTW9kdWxlLmNvbmZpZyhbXG4gICAgICB7XG4gICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICBsYWJlbDogZ2V0dGV4dCgnQ29ubmVjdGl2aXR5JyksXG4gICAgICAgICAgcGF0aDogJ2Nvbm5lY3Rpdml0eVNldHRpbmdzJyxcbiAgICAgICAgICBpY29uOiAncGx1ZycsXG4gICAgICAgICAgcGFyZW50OiBnZXR0ZXh0KCdTZXR0aW5ncycpLFxuICAgICAgICAgIHByaW9yaXR5OiAxMDAwLFxuICAgICAgICAgIHByZXZlbnREdXBsaWNhdGVzOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHRhYjoge1xuICAgICAgICAgIHBhdGg6ICdzaW1fcHJvdmlkZXJfc2V0dGluZ3MnLFxuICAgICAgICAgIGxhYmVsOiAnU0lNIHByb3ZpZGVyIHNldHRpbmdzJyxcbiAgICAgICAgICBpY29uOiAnbW9iaWxlJyxcbiAgICAgICAgICBjYW5BY3RpdmF0ZTogW1NpbUd1YXJkXVxuICAgICAgICB9LFxuICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICBwYWdlVGl0bGU6IGdldHRleHQoJ0Nvbm5lY3Rpdml0eScpLFxuICAgICAgICAgIGNhcmRUaXRsZTogZ2V0dGV4dCgnU2V0dGluZ3MnKSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZ2V0dGV4dChcbiAgICAgICAgICAgIGBJbiBvcmRlciB0byBzZWUgdGhlICdDb25uZWN0aXZpdHknIHRhYiBpbiBkZXZpY2UgZGV0YWlscywgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSAnUmVhZCcgcGVybWlzc2lvbiBmb3IgJ0Nvbm5lY3Rpdml0eScuIFRvIGNoYW5nZSBTSU0gY2FyZCBzdGF0dXMgYW5kIHNlbmQgdGV4dCBtZXNzYWdlcywgdGhlIHVzZXIgbmVlZHMgdG8gaGF2ZSAnQWRtaW4nIHBlcm1pc3Npb24gZm9yICdDb25uZWN0aXZpdHknLmBcbiAgICAgICAgICApLFxuICAgICAgICAgIHByb3ZpZGVyTmFtZTogZ2V0dGV4dCgnUHJvdmlkZXInKSxcbiAgICAgICAgICBwcm92aWRlck5hbWVQbGFjZWhvbGRlcjogZ2V0dGV4dCgnU2VsZWN0IG9yIHR5cGUgdG8gZmlsdGVyIHByb3ZpZGVycycpLFxuICAgICAgICAgIHByb3ZpZGVyTmFtZU5vTWF0Y2hlc0hpbnQ6IGdldHRleHQoJ1NlbGVjdCBvbmUgb2YgdGhlIGV4aXN0aW5nIHByb3ZpZGVycy4nKSxcbiAgICAgICAgICBkZWxldGVSb2xlczogWydST0xFX0NPTk5FQ1RJVklUWV9BRE1JTiddLFxuICAgICAgICAgIGRlbGV0ZUJ0bkxhYmVsOiBnZXR0ZXh0KCdEZWxldGUnKSxcbiAgICAgICAgICBzYXZlUm9sZXM6IFsnUk9MRV9DT05ORUNUSVZJVFlfQURNSU4nXSxcbiAgICAgICAgICBzYXZlQnRuTGFiZWw6IGdldHRleHQoJ1NhdmUnKSxcbiAgICAgICAgICBiZWZvcmVTYXZlSG9vazogZW5jb2RlRmlsZXMsXG4gICAgICAgICAgY29uZmlndXJhdGlvblVwZGF0ZWRTdWNjZXNzTXNnOiBnZXR0ZXh0KCdTZXR0aW5ncyB1cGRhdGVkLicpLFxuICAgICAgICAgIGRlbGV0ZUNvbmZpZ3VyYXRpb25Nb2RhbFRpdGxlOiBnZXR0ZXh0KCdEZWxldGUgc2V0dGluZ3MnKSxcbiAgICAgICAgICBkZWxldGVDb25maWd1cmF0aW9uTW9kYWxCb2R5OiBnZXR0ZXh0KFxuICAgICAgICAgICAgYFlvdSBhcmUgYWJvdXQgdG8gZGVsZXRlIFNJTSBwcm92aWRlciBzZXR0aW5ncy4gRG8geW91IHdhbnQgdG8gcHJvY2VlZD9gXG4gICAgICAgICAgKSxcbiAgICAgICAgICBkZWxldGVDb25maWd1cmF0aW9uTW9kYWxPa0J0bkxhYmVsOiBnZXR0ZXh0KCdEZWxldGUnKSxcbiAgICAgICAgICBjb25maWd1cmF0aW9uRGVsZXRlZFN1Y2Nlc3NNc2c6IGdldHRleHQoJ1NldHRpbmdzIGRlbGV0ZWQuJylcbiAgICAgICAgfSxcbiAgICAgICAgZW5kcG9pbnQ6IHtcbiAgICAgICAgICBkZWZpbml0aW9uc0VuZHBvaW50OiB7XG4gICAgICAgICAgICBiYXNlVXJsOiAnc2VydmljZS9jb25uZWN0aXZpdHkvbWV0YWRhdGEnLFxuICAgICAgICAgICAgbGlzdFVybDogJ2RlZmluaXRpb25zJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29uZmlndXJhdGlvbkVuZHBvaW50OiB7XG4gICAgICAgICAgICBiYXNlVXJsOiAnc2VydmljZS9jb25uZWN0aXZpdHkvbWV0YWRhdGEnLFxuICAgICAgICAgICAgbGlzdFVybDogJ3NpbS9wcm92aWRlcidcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdKVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFNpbU1vZHVsZSB7fVxuIl19