import { toObservable } from '@c8y/ngx-components';
import { map } from 'rxjs/operators';
export class AbstractConnectivityTabFactory {
    constructor(router, guard) {
        this.router = router;
        this.guard = guard;
    }
    get() {
        return this.router.url.match(/connectivitySettings/g) ? this.tab() : [];
    }
    tab() {
        return toObservable(this.guard.canActivate(this.router.routerState.snapshot.root, this.router.routerState.snapshot)).pipe(map(canActivate => (canActivate ? this.config() : null)));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtY29ubmVjdGl2aXR5LXRhYi5mYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY29ubmVjdGl2aXR5L2Fic3RyYWN0LWNvbm5lY3Rpdml0eS10YWIuZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQW1CLFlBQVksRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXBFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVyQyxNQUFNLE9BQWdCLDhCQUE4QjtJQUNsRCxZQUFzQixNQUFjLEVBQVksS0FBa0I7UUFBNUMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUFZLFVBQUssR0FBTCxLQUFLLENBQWE7SUFBRyxDQUFDO0lBRXRFLEdBQUc7UUFDRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUMxRSxDQUFDO0lBRUQsR0FBRztRQUNELE9BQU8sWUFBWSxDQUNqQixJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FDcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksRUFDckMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUNqQyxDQUNGLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRSxDQUFDO0NBR0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYW5BY3RpdmF0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IFRhYiwgVGFiRmFjdG9yeSwgdG9PYnNlcnZhYmxlIH0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENvbm5lY3Rpdml0eVRhYkZhY3RvcnkgaW1wbGVtZW50cyBUYWJGYWN0b3J5IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJvdXRlcjogUm91dGVyLCBwcm90ZWN0ZWQgZ3VhcmQ6IENhbkFjdGl2YXRlKSB7fVxuXG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3V0ZXIudXJsLm1hdGNoKC9jb25uZWN0aXZpdHlTZXR0aW5ncy9nKSA/IHRoaXMudGFiKCkgOiBbXTtcbiAgfVxuXG4gIHRhYigpOiBUYWIgfCBPYnNlcnZhYmxlPFRhYj4ge1xuICAgIHJldHVybiB0b09ic2VydmFibGUoXG4gICAgICB0aGlzLmd1YXJkLmNhbkFjdGl2YXRlKFxuICAgICAgICB0aGlzLnJvdXRlci5yb3V0ZXJTdGF0ZS5zbmFwc2hvdC5yb290LFxuICAgICAgICB0aGlzLnJvdXRlci5yb3V0ZXJTdGF0ZS5zbmFwc2hvdFxuICAgICAgKVxuICAgICkucGlwZShtYXAoY2FuQWN0aXZhdGUgPT4gKGNhbkFjdGl2YXRlID8gdGhpcy5jb25maWcoKSA6IG51bGwpKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgY29uZmlnKCk6IFRhYjtcbn1cbiJdfQ==