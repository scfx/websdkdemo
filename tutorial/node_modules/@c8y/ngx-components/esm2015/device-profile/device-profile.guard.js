import { Injectable } from '@angular/core';
import { DeviceProfileOperation } from './device-profile.model';
import * as ɵngcc0 from '@angular/core';
export class DeviceProfileGuard {
    canActivate(route, state) {
        const contextData = route.data.contextData || route.parent.data.contextData;
        if (!contextData) {
            return false;
        }
        return this.hasSupportedOperation(contextData, DeviceProfileOperation.APPLY_PROFILE);
    }
    hasSupportedOperation(mo, operation) {
        const supported = mo.c8y_SupportedOperations || [];
        if (!supported) {
            return false;
        }
        return !!supported.find(supportedOperation => supportedOperation === operation);
    }
}
DeviceProfileGuard.ɵfac = function DeviceProfileGuard_Factory(t) { return new (t || DeviceProfileGuard)(); };
DeviceProfileGuard.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: DeviceProfileGuard, factory: DeviceProfileGuard.ɵfac });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DeviceProfileGuard, [{
        type: Injectable
    }], null, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV2aWNlLXByb2ZpbGUuZ3VhcmQuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2RldmljZS1wcm9maWxlL2RldmljZS1wcm9maWxlLmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7O0FBSWhFLE1BQU0sT0FBTyxrQkFBa0I7QUFBRyxJQUNoQyxXQUFXLENBQUMsS0FBNkIsRUFBRSxLQUEwQjtBQUN2RSxRQUFJLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztBQUNoRixRQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7QUFDdEIsWUFBTSxPQUFPLEtBQUssQ0FBQztBQUNuQixTQUFLO0FBQ0wsUUFBSSxPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLEVBQUUsc0JBQXNCLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDekYsSUFBRSxDQUFDO0FBQ0gsSUFDVSxxQkFBcUIsQ0FBQyxFQUFrQixFQUFFLFNBQWlDO0FBQ3JGLFFBQUksTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDLHVCQUF1QixJQUFJLEVBQUUsQ0FBQztBQUN2RCxRQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7QUFDcEIsWUFBTSxPQUFPLEtBQUssQ0FBQztBQUNuQixTQUFLO0FBQ0wsUUFBSSxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsS0FBSyxTQUFTLENBQUMsQ0FBQztBQUNwRixJQUFFLENBQUM7QUFDSDs4Q0FqQkMsVUFBVTs7OzswQkFDVDtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgQ2FuQWN0aXZhdGUsIFJvdXRlclN0YXRlU25hcHNob3QgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgRGV2aWNlUHJvZmlsZU9wZXJhdGlvbiB9IGZyb20gJy4vZGV2aWNlLXByb2ZpbGUubW9kZWwnO1xuaW1wb3J0IHsgSU1hbmFnZWRPYmplY3QgfSBmcm9tICdAYzh5L2NsaWVudCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBEZXZpY2VQcm9maWxlR3VhcmQgaW1wbGVtZW50cyBDYW5BY3RpdmF0ZSB7XG4gIGNhbkFjdGl2YXRlKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCkge1xuICAgIGNvbnN0IGNvbnRleHREYXRhID0gcm91dGUuZGF0YS5jb250ZXh0RGF0YSB8fCByb3V0ZS5wYXJlbnQuZGF0YS5jb250ZXh0RGF0YTtcbiAgICBpZiAoIWNvbnRleHREYXRhKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhc1N1cHBvcnRlZE9wZXJhdGlvbihjb250ZXh0RGF0YSwgRGV2aWNlUHJvZmlsZU9wZXJhdGlvbi5BUFBMWV9QUk9GSUxFKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFzU3VwcG9ydGVkT3BlcmF0aW9uKG1vOiBJTWFuYWdlZE9iamVjdCwgb3BlcmF0aW9uOiBEZXZpY2VQcm9maWxlT3BlcmF0aW9uKSB7XG4gICAgY29uc3Qgc3VwcG9ydGVkID0gbW8uYzh5X1N1cHBvcnRlZE9wZXJhdGlvbnMgfHwgW107XG4gICAgaWYgKCFzdXBwb3J0ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICEhc3VwcG9ydGVkLmZpbmQoc3VwcG9ydGVkT3BlcmF0aW9uID0+IHN1cHBvcnRlZE9wZXJhdGlvbiA9PT0gb3BlcmF0aW9uKTtcbiAgfVxufVxuIl19