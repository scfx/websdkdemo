import { Injectable } from '@angular/core';
import { gettext, OptionsService } from '@c8y/ngx-components';
import { BsModalService } from 'ngx-bootstrap/modal';
import { of } from 'rxjs';
import { SensorPhoneModalComponent } from './sensor-phone-modal.component';
export class ConnectSmartphoneFactory {
    constructor(optionsService, bsModalService) {
        this.optionsService = optionsService;
        this.bsModalService = bsModalService;
    }
    get() {
        if (this.optionsService.get('sensorPhone', false)) {
            return of([
                {
                    icon: 'c8y-icon c8y-icon-mobile-add',
                    type: 'quicklink',
                    label: gettext('Connect smartphone'),
                    url: undefined,
                    click: () => {
                        this.bsModalService.show(SensorPhoneModalComponent, {
                            backdrop: 'static',
                            class: 'lg'
                        });
                    }
                }
            ]);
        }
    }
}
ConnectSmartphoneFactory.decorators = [
    { type: Injectable }
];
ConnectSmartphoneFactory.ctorParameters = () => [
    { type: OptionsService },
    { type: BsModalService }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdC1zbWFydHBob25lLmZhY3RvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zZW5zb3ItcGhvbmUvY29ubmVjdC1zbWFydHBob25lLmZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQTZCLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN6RixPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDckQsT0FBTyxFQUFFLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUMxQixPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUczRSxNQUFNLE9BQU8sd0JBQXdCO0lBQ25DLFlBQ1UsY0FBOEIsRUFDOUIsY0FBOEI7UUFEOUIsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtJQUNyQyxDQUFDO0lBQ0osR0FBRztRQUNELElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQ2pELE9BQU8sRUFBRSxDQUFDO2dCQUNSO29CQUNFLElBQUksRUFBRSw4QkFBOEI7b0JBQ3BDLElBQUksRUFBRSxXQUFXO29CQUNqQixLQUFLLEVBQUUsT0FBTyxDQUFDLG9CQUFvQixDQUFDO29CQUNwQyxHQUFHLEVBQUUsU0FBUztvQkFDZCxLQUFLLEVBQUUsR0FBRyxFQUFFO3dCQUNWLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLHlCQUF5QixFQUFFOzRCQUNsRCxRQUFRLEVBQUUsUUFBUTs0QkFDbEIsS0FBSyxFQUFFLElBQUk7eUJBQ1osQ0FBQyxDQUFDO29CQUNMLENBQUM7aUJBQ1M7YUFDYixDQUFDLENBQUM7U0FDSjtJQUNILENBQUM7OztZQXZCRixVQUFVOzs7WUFMa0MsY0FBYztZQUNsRCxjQUFjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRG9jTGluaywgRXh0ZW5zaW9uRmFjdG9yeSwgZ2V0dGV4dCwgT3B0aW9uc1NlcnZpY2UgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcbmltcG9ydCB7IEJzTW9kYWxTZXJ2aWNlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9tb2RhbCc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgU2Vuc29yUGhvbmVNb2RhbENvbXBvbmVudCB9IGZyb20gJy4vc2Vuc29yLXBob25lLW1vZGFsLmNvbXBvbmVudCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb25uZWN0U21hcnRwaG9uZUZhY3RvcnkgaW1wbGVtZW50cyBFeHRlbnNpb25GYWN0b3J5PERvY0xpbms+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBvcHRpb25zU2VydmljZTogT3B0aW9uc1NlcnZpY2UsXG4gICAgcHJpdmF0ZSBic01vZGFsU2VydmljZTogQnNNb2RhbFNlcnZpY2VcbiAgKSB7fVxuICBnZXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uc1NlcnZpY2UuZ2V0KCdzZW5zb3JQaG9uZScsIGZhbHNlKSkge1xuICAgICAgcmV0dXJuIG9mKFtcbiAgICAgICAge1xuICAgICAgICAgIGljb246ICdjOHktaWNvbiBjOHktaWNvbi1tb2JpbGUtYWRkJyxcbiAgICAgICAgICB0eXBlOiAncXVpY2tsaW5rJyxcbiAgICAgICAgICBsYWJlbDogZ2V0dGV4dCgnQ29ubmVjdCBzbWFydHBob25lJyksXG4gICAgICAgICAgdXJsOiB1bmRlZmluZWQsXG4gICAgICAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnNNb2RhbFNlcnZpY2Uuc2hvdyhTZW5zb3JQaG9uZU1vZGFsQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcbiAgICAgICAgICAgICAgY2xhc3M6ICdsZydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBhcyBEb2NMaW5rXG4gICAgICBdKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==