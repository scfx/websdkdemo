import { Injectable } from '@angular/core';
import { gettext, OptionsService } from '@c8y/ngx-components';
import { BsModalService } from 'ngx-bootstrap/modal';
import { of } from 'rxjs';
import { SensorPhoneModalComponent } from './sensor-phone-modal.component';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@c8y/ngx-components';
import * as ɵngcc2 from 'ngx-bootstrap/modal';
export class ConnectSmartphoneFactory {
    constructor(optionsService, bsModalService) {
        this.optionsService = optionsService;
        this.bsModalService = bsModalService;
    }
    get() {
        if (this.optionsService.get('sensorPhone', false)) {
            return of([
                {
                    icon: 'c8y-icon c8y-icon-mobile-add',
                    type: 'quicklink',
                    label: gettext('Connect smartphone'),
                    url: undefined,
                    click: () => {
                        this.bsModalService.show(SensorPhoneModalComponent, {
                            backdrop: 'static',
                            class: 'lg'
                        });
                    }
                }
            ]);
        }
    }
}
ConnectSmartphoneFactory.ɵfac = function ConnectSmartphoneFactory_Factory(t) { return new (t || ConnectSmartphoneFactory)(ɵngcc0.ɵɵinject(ɵngcc1.OptionsService), ɵngcc0.ɵɵinject(ɵngcc2.BsModalService)); };
ConnectSmartphoneFactory.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ConnectSmartphoneFactory, factory: ConnectSmartphoneFactory.ɵfac });
ConnectSmartphoneFactory.ctorParameters = () => [
    { type: OptionsService },
    { type: BsModalService }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ConnectSmartphoneFactory, [{
        type: Injectable
    }], function () { return [{ type: ɵngcc1.OptionsService }, { type: ɵngcc2.BsModalService }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29ubmVjdC1zbWFydHBob25lLmZhY3RvcnkuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NlbnNvci1waG9uZS9jb25uZWN0LXNtYXJ0cGhvbmUuZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBNkIsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3pGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsRUFBRSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzFCLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLGdDQUFnQyxDQUFDOzs7O0FBRzNFLE1BQU0sT0FBTyx3QkFBd0I7QUFBRyxJQUN0QyxZQUNVLGNBQThCLEVBQzlCLGNBQThCO0FBQ3ZDLFFBRlMsbUJBQWMsR0FBZCxjQUFjLENBQWdCO0FBQUMsUUFDL0IsbUJBQWMsR0FBZCxjQUFjLENBQWdCO0FBQzFDLElBQUssQ0FBQztBQUNOLElBQUUsR0FBRztBQUNMLFFBQUksSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLEVBQUU7QUFDdkQsWUFBTSxPQUFPLEVBQUUsQ0FBQztBQUNoQixnQkFBUTtBQUNSLG9CQUFVLElBQUksRUFBRSw4QkFBOEI7QUFDOUMsb0JBQVUsSUFBSSxFQUFFLFdBQVc7QUFDM0Isb0JBQVUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztBQUM5QyxvQkFBVSxHQUFHLEVBQUUsU0FBUztBQUN4QixvQkFBVSxLQUFLLEVBQUUsR0FBRyxFQUFFO0FBQ3RCLHdCQUFZLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLHlCQUF5QixFQUFFO0FBQ2hFLDRCQUFjLFFBQVEsRUFBRSxRQUFRO0FBQ2hDLDRCQUFjLEtBQUssRUFBRSxJQUFJO0FBQ3pCLHlCQUFhLENBQUMsQ0FBQztBQUNmLG9CQUFVLENBQUM7QUFDWCxpQkFBb0I7QUFDcEIsYUFBTyxDQUFDLENBQUM7QUFDVCxTQUFLO0FBQ0wsSUFBRSxDQUFDO0FBQ0g7b0RBeEJDLFVBQVU7c0pBQ1Q7QUFBQztBQUFrRCxZQU5SLGNBQWM7QUFBSSxZQUN0RCxjQUFjO0FBQUc7OztnSEFBRTtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRG9jTGluaywgRXh0ZW5zaW9uRmFjdG9yeSwgZ2V0dGV4dCwgT3B0aW9uc1NlcnZpY2UgfSBmcm9tICdAYzh5L25neC1jb21wb25lbnRzJztcbmltcG9ydCB7IEJzTW9kYWxTZXJ2aWNlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcC9tb2RhbCc7XG5pbXBvcnQgeyBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgU2Vuc29yUGhvbmVNb2RhbENvbXBvbmVudCB9IGZyb20gJy4vc2Vuc29yLXBob25lLW1vZGFsLmNvbXBvbmVudCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb25uZWN0U21hcnRwaG9uZUZhY3RvcnkgaW1wbGVtZW50cyBFeHRlbnNpb25GYWN0b3J5PERvY0xpbms+IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBvcHRpb25zU2VydmljZTogT3B0aW9uc1NlcnZpY2UsXG4gICAgcHJpdmF0ZSBic01vZGFsU2VydmljZTogQnNNb2RhbFNlcnZpY2VcbiAgKSB7fVxuICBnZXQoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uc1NlcnZpY2UuZ2V0KCdzZW5zb3JQaG9uZScsIGZhbHNlKSkge1xuICAgICAgcmV0dXJuIG9mKFtcbiAgICAgICAge1xuICAgICAgICAgIGljb246ICdjOHktaWNvbiBjOHktaWNvbi1tb2JpbGUtYWRkJyxcbiAgICAgICAgICB0eXBlOiAncXVpY2tsaW5rJyxcbiAgICAgICAgICBsYWJlbDogZ2V0dGV4dCgnQ29ubmVjdCBzbWFydHBob25lJyksXG4gICAgICAgICAgdXJsOiB1bmRlZmluZWQsXG4gICAgICAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnNNb2RhbFNlcnZpY2Uuc2hvdyhTZW5zb3JQaG9uZU1vZGFsQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcbiAgICAgICAgICAgICAgY2xhc3M6ICdsZydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBhcyBEb2NMaW5rXG4gICAgICBdKTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==