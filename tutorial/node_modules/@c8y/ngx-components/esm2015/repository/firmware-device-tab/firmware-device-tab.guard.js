import { Injectable } from '@angular/core';
import { get, has, indexOf } from 'lodash-es';
import * as ɵngcc0 from '@angular/core';
const FIRMWARE_FRAGMENT = 'c8y_Firmware';
const SUPPORTED_OPERATIONS_FRAGMENT = 'c8y_SupportedOperations';
export class FirmwareDeviceTabGuard {
    canActivate(route) {
        const contextData = get(route, 'data.contextData') || get(route, 'parent.data.contextData');
        const supportedOperations = get(contextData, SUPPORTED_OPERATIONS_FRAGMENT);
        return ((!!supportedOperations ? indexOf(supportedOperations, FIRMWARE_FRAGMENT) >= 0 : false) ||
            has(contextData, 'c8y_Firmware'));
    }
}
FirmwareDeviceTabGuard.ɵfac = function FirmwareDeviceTabGuard_Factory(t) { return new (t || FirmwareDeviceTabGuard)(); };
FirmwareDeviceTabGuard.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: FirmwareDeviceTabGuard, factory: FirmwareDeviceTabGuard.ɵfac });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FirmwareDeviceTabGuard, [{
        type: Injectable
    }], null, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlybXdhcmUtZGV2aWNlLXRhYi5ndWFyZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcmVwb3NpdG9yeS9maXJtd2FyZS1kZXZpY2UtdGFiL2Zpcm13YXJlLWRldmljZS10YWIuZ3VhcmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUzQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxXQUFXLENBQUM7O0FBRTlDLE1BQU0saUJBQWlCLEdBQUcsY0FBYyxDQUFDO0FBQ3pDLE1BQU0sNkJBQTZCLEdBQUcseUJBQXlCLENBQUM7QUFHaEUsTUFBTSxPQUFPLHNCQUFzQjtBQUFHLElBQ3BDLFdBQVcsQ0FBQyxLQUFLO0FBQ25CLFFBQUksTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLEtBQUssRUFBRSxrQkFBa0IsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUUseUJBQXlCLENBQUMsQ0FBQztBQUNoRyxRQUFJLE1BQU0sbUJBQW1CLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO0FBQ2hGLFFBQUksT0FBTyxDQUNMLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsbUJBQW1CLEVBQUUsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUM1RixZQUFNLEdBQUcsQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLENBQ2pDLENBQUM7QUFDTixJQUFFLENBQUM7QUFDSDtrREFWQyxVQUFVOzs7OzBCQUNUO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYW5BY3RpdmF0ZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBnZXQsIGhhcywgaW5kZXhPZiB9IGZyb20gJ2xvZGFzaC1lcyc7XG5cbmNvbnN0IEZJUk1XQVJFX0ZSQUdNRU5UID0gJ2M4eV9GaXJtd2FyZSc7XG5jb25zdCBTVVBQT1JURURfT1BFUkFUSU9OU19GUkFHTUVOVCA9ICdjOHlfU3VwcG9ydGVkT3BlcmF0aW9ucyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGaXJtd2FyZURldmljZVRhYkd1YXJkIGltcGxlbWVudHMgQ2FuQWN0aXZhdGUge1xuICBjYW5BY3RpdmF0ZShyb3V0ZSkge1xuICAgIGNvbnN0IGNvbnRleHREYXRhID0gZ2V0KHJvdXRlLCAnZGF0YS5jb250ZXh0RGF0YScpIHx8IGdldChyb3V0ZSwgJ3BhcmVudC5kYXRhLmNvbnRleHREYXRhJyk7XG4gICAgY29uc3Qgc3VwcG9ydGVkT3BlcmF0aW9ucyA9IGdldChjb250ZXh0RGF0YSwgU1VQUE9SVEVEX09QRVJBVElPTlNfRlJBR01FTlQpO1xuICAgIHJldHVybiAoXG4gICAgICAoISFzdXBwb3J0ZWRPcGVyYXRpb25zID8gaW5kZXhPZihzdXBwb3J0ZWRPcGVyYXRpb25zLCBGSVJNV0FSRV9GUkFHTUVOVCkgPj0gMCA6IGZhbHNlKSB8fFxuICAgICAgaGFzKGNvbnRleHREYXRhLCAnYzh5X0Zpcm13YXJlJylcbiAgICApO1xuICB9XG59XG4iXX0=