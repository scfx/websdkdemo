import { Component, Input, ViewChild, ContentChild } from '@angular/core';
import { AlertService } from './alert.service';
import { AlertDetailsComponent } from './alert-details.component';
/**
 * Alert component allows creating alert with complex view.
 */
export class AlertComponent {
    /**
     * @ignore
     */
    constructor(alertService) {
        this.alertService = alertService;
    }
    /**
     * AlertComponent adds new alert to collection stored in alertService after view init.
     */
    ngAfterViewInit() {
        if (!this.containDetailsComponent) {
            this.detailedData = null;
        }
        this.viewInitTimeout = setTimeout(() => this.alertService.add(this));
    }
    /**
     * AlertComponent removes alert from collection stored in alertService on destroy component.
     */
    ngOnDestroy() {
        clearTimeout(this.viewInitTimeout);
        this.alertService.remove(this);
    }
}
AlertComponent.decorators = [
    { type: Component, args: [{
                selector: 'c8y-alert',
                template: "<ng-template #text>\r\n  <ng-content select=\"c8y-alert-text\"></ng-content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #detailedData>\r\n  <ng-content select=\"c8y-alert-details\"></ng-content>\r\n</ng-template>"
            },] }
];
AlertComponent.ctorParameters = () => [
    { type: AlertService }
];
AlertComponent.propDecorators = {
    type: [{ type: Input }],
    onDetail: [{ type: Input }],
    onClose: [{ type: Input }],
    detailedData: [{ type: ViewChild, args: ['detailedData', { static: false },] }],
    text: [{ type: ViewChild, args: ['text', { static: false },] }],
    containDetailsComponent: [{ type: ContentChild, args: [AlertDetailsComponent, { static: false },] }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29yZS9hbGVydC9hbGVydC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBYSxLQUFLLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVyRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFbEU7O0dBRUc7QUFPSCxNQUFNLE9BQU8sY0FBYztJQStCekI7O09BRUc7SUFDSCxZQUFtQixZQUEwQjtRQUExQixpQkFBWSxHQUFaLFlBQVksQ0FBYztJQUFHLENBQUM7SUFFakQ7O09BRUc7SUFDSCxlQUFlO1FBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsRUFBRTtZQUNqQyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztTQUMxQjtRQUNELElBQUksQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRSxDQUNyQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FDNUIsQ0FBQztJQUNKLENBQUM7SUFFRDs7T0FFRztJQUNILFdBQVc7UUFDVCxZQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7OztZQTNERixTQUFTLFNBQUM7Z0JBQ1QsUUFBUSxFQUFFLFdBQVc7Z0JBQ3JCLHNQQUFxQzthQUN0Qzs7O1lBVlEsWUFBWTs7O21CQWlCbEIsS0FBSzt1QkFJTCxLQUFLO3NCQUlMLEtBQUs7MkJBSUwsU0FBUyxTQUFDLGNBQWMsRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUM7bUJBSXpDLFNBQVMsU0FBQyxNQUFNLEVBQUUsRUFBQyxNQUFNLEVBQUUsS0FBSyxFQUFDO3NDQUlqQyxZQUFZLFNBQUMscUJBQXFCLEVBQUUsRUFBQyxNQUFNLEVBQUUsS0FBSyxFQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkRlc3Ryb3ksIElucHV0LCBWaWV3Q2hpbGQsIENvbnRlbnRDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWxlcnQgfSBmcm9tICcuL2FsZXJ0Lm1vZGVsJztcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4vYWxlcnQuc2VydmljZSc7XG5pbXBvcnQgeyBBbGVydERldGFpbHNDb21wb25lbnQgfSBmcm9tICcuL2FsZXJ0LWRldGFpbHMuY29tcG9uZW50JztcblxuLyoqXG4gKiBBbGVydCBjb21wb25lbnQgYWxsb3dzIGNyZWF0aW5nIGFsZXJ0IHdpdGggY29tcGxleCB2aWV3LlxuICovXG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2M4eS1hbGVydCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9hbGVydC5jb21wb25lbnQuaHRtbCdcbn0pXG5cbmV4cG9ydCBjbGFzcyBBbGVydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uRGVzdHJveSwgQWxlcnQge1xuXG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgYWxlcnQuXG4gICAqL1xuICBASW5wdXQoKSB0eXBlOiAnc3VjY2VzcycgfCAnd2FybmluZycgfCAnZGFuZ2VyJyB8ICdpbmZvJyB8ICdzeXN0ZW0nO1xuICAvKipcbiAgICogRnVuY3Rpb24gdG8gY2FsbCBpZiB1c2VyIGNsaWNrcyBvbiB0aGUgZGV0YWlsIGJ1dHRvbi5cbiAgICovXG4gIEBJbnB1dCgpIG9uRGV0YWlsOiAoKSA9PiB2b2lkO1xuICAvKipcbiAgICogRnVuY3Rpb24gdG8gY2FsbCBpZiB1c2VyIGNsaWNrcyBvbiB0aGUgY2xvc2UgYnV0dG9uLlxuICAgKi9cbiAgQElucHV0KCkgb25DbG9zZTogKCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIERldGFpbGVkIGluZm9ybWF0aW9uIHRvIGRpc3BsYXkuXG4gICAqL1xuICBAVmlld0NoaWxkKCdkZXRhaWxlZERhdGEnLCB7c3RhdGljOiBmYWxzZX0pIGRldGFpbGVkRGF0YTtcbiAgLyoqXG4gICAqIFRoZSB0ZXh0IHRlbXBsYXRlUmVmIHRvIGRpc3BsYXkgbWVzc2FnZS5cbiAgICovXG4gIEBWaWV3Q2hpbGQoJ3RleHQnLCB7c3RhdGljOiBmYWxzZX0pIHRleHQ7XG4gIC8qKlxuICAgKiBDb250ZW50IG9mIEFsZXJ0RGV0YWlsc0NvbXBvbmVudCBpcyBkaXNwbGF5ZWQgYXMgYWxlcnREZXRhaWxzLlxuICAgKi9cbiAgQENvbnRlbnRDaGlsZChBbGVydERldGFpbHNDb21wb25lbnQsIHtzdGF0aWM6IGZhbHNlfSkgY29udGFpbkRldGFpbHNDb21wb25lbnQ6IEFsZXJ0RGV0YWlsc0NvbXBvbmVudDtcbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHByaXZhdGUgdmlld0luaXRUaW1lb3V0O1xuXG4gIC8qKlxuICAgKiBAaWdub3JlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgYWxlcnRTZXJ2aWNlOiBBbGVydFNlcnZpY2UpIHt9XG5cbiAgLyoqXG4gICAqIEFsZXJ0Q29tcG9uZW50IGFkZHMgbmV3IGFsZXJ0IHRvIGNvbGxlY3Rpb24gc3RvcmVkIGluIGFsZXJ0U2VydmljZSBhZnRlciB2aWV3IGluaXQuXG4gICAqL1xuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5EZXRhaWxzQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLmRldGFpbGVkRGF0YSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMudmlld0luaXRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PlxuICAgICAgdGhpcy5hbGVydFNlcnZpY2UuYWRkKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGVydENvbXBvbmVudCByZW1vdmVzIGFsZXJ0IGZyb20gY29sbGVjdGlvbiBzdG9yZWQgaW4gYWxlcnRTZXJ2aWNlIG9uIGRlc3Ryb3kgY29tcG9uZW50LlxuICAgKi9cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudmlld0luaXRUaW1lb3V0KTtcbiAgICB0aGlzLmFsZXJ0U2VydmljZS5yZW1vdmUodGhpcyk7XG4gIH1cbn1cbiJdfQ==