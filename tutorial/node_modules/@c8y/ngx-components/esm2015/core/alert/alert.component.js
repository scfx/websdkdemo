import { Component, Input, ViewChild, ContentChild } from '@angular/core';
import { AlertService } from './alert.service';
import { AlertDetailsComponent } from './alert-details.component';
/**
 * Alert component allows creating alert with complex view.
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './alert.service';

const _c0 = ["detailedData"];
const _c1 = ["text"];
function AlertComponent_ng_template_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵprojection(0);
    ɵngcc0.ɵɵprojection(1, 1);
} }
function AlertComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵprojection(0, 2);
} }
const _c2 = [[["c8y-alert-text"]], "*", [["c8y-alert-details"]]];
const _c3 = ["c8y-alert-text", "*", "c8y-alert-details"];
export class AlertComponent {
    /**
     * @ignore
     */
    constructor(alertService) {
        this.alertService = alertService;
    }
    /**
     * AlertComponent adds new alert to collection stored in alertService after view init.
     */
    ngAfterViewInit() {
        if (!this.containDetailsComponent) {
            this.detailedData = null;
        }
        this.viewInitTimeout = setTimeout(() => this.alertService.add(this));
    }
    /**
     * AlertComponent removes alert from collection stored in alertService on destroy component.
     */
    ngOnDestroy() {
        clearTimeout(this.viewInitTimeout);
        this.alertService.remove(this);
    }
}
AlertComponent.ɵfac = function AlertComponent_Factory(t) { return new (t || AlertComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService)); };
AlertComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: AlertComponent, selectors: [["c8y-alert"]], contentQueries: function AlertComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        ɵngcc0.ɵɵcontentQuery(dirIndex, AlertDetailsComponent, 5);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.containDetailsComponent = _t.first);
    } }, viewQuery: function AlertComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(_c0, 5);
        ɵngcc0.ɵɵviewQuery(_c1, 5);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.detailedData = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.text = _t.first);
    } }, inputs: { type: "type", onDetail: "onDetail", onClose: "onClose" }, ngContentSelectors: _c3, decls: 4, vars: 0, consts: [["text", ""], ["detailedData", ""]], template: function AlertComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef(_c2);
        ɵngcc0.ɵɵtemplate(0, AlertComponent_ng_template_0_Template, 2, 0, "ng-template", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵtemplate(2, AlertComponent_ng_template_2_Template, 1, 0, "ng-template", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);
    } }, encapsulation: 2 });
AlertComponent.ctorParameters = () => [
    { type: AlertService }
];
AlertComponent.propDecorators = {
    type: [{ type: Input }],
    onDetail: [{ type: Input }],
    onClose: [{ type: Input }],
    detailedData: [{ type: ViewChild, args: ['detailedData', { static: false },] }],
    text: [{ type: ViewChild, args: ['text', { static: false },] }],
    containDetailsComponent: [{ type: ContentChild, args: [AlertDetailsComponent, { static: false },] }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AlertComponent, [{
        type: Component,
        args: [{
                selector: 'c8y-alert',
                template: "<ng-template #text>\r\n  <ng-content select=\"c8y-alert-text\"></ng-content>\r\n  <ng-content></ng-content>\r\n</ng-template>\r\n<ng-template #detailedData>\r\n  <ng-content select=\"c8y-alert-details\"></ng-content>\r\n</ng-template>"
            }]
    }], function () { return [{ type: ɵngcc1.AlertService }]; }, { detailedData: [{
            type: ViewChild,
            args: ['detailedData', { static: false }]
        }], type: [{
            type: Input
        }], onDetail: [{
            type: Input
        }], onClose: [{
            type: Input
        }], text: [{
            type: ViewChild,
            args: ['text', { static: false }]
        }], containDetailsComponent: [{
            type: ContentChild,
            args: [AlertDetailsComponent, { static: false }]
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnQuY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9jb3JlL2FsZXJ0L2FsZXJ0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFhLEtBQUssRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJGLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUscUJBQXFCLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUVsRTtBQUNBO0FBQ0EsR0FBRzs7Ozs7Ozs7Ozs7Ozs7O0FBT0gsTUFBTSxPQUFPLGNBQWM7QUFBRyxJQStCNUI7QUFDRjtBQUNFLE9BQUc7QUFDTCxJQUFFLFlBQW1CLFlBQTBCO0FBQUksUUFBOUIsaUJBQVksR0FBWixZQUFZLENBQWM7QUFBQyxJQUFFLENBQUM7QUFDbkQsSUFDRTtBQUNGO0FBQ0UsT0FBRztBQUNMLElBQUUsZUFBZTtBQUNqQixRQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUU7QUFDdkMsWUFBTSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztBQUMvQixTQUFLO0FBQ0wsUUFBSSxJQUFJLENBQUMsZUFBZSxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FDckMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQzVCLENBQUM7QUFDTixJQUFFLENBQUM7QUFDSCxJQUNFO0FBQ0Y7QUFDRSxPQUFHO0FBQ0wsSUFBRSxXQUFXO0FBQ2IsUUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3ZDLFFBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbkMsSUFBRSxDQUFDO0FBQ0g7MENBNURDLFNBQVMsU0FBQyxrQkFDVCxRQUFRLEVBQUUsV0FBVyxrQkFDckI7O2lCQUFxQyxjQUN0Qzs7Ozs7Ozs7Ozs7Ozs7OzZCQUVHO0FBQUM7QUFBd0MsWUFacEMsWUFBWTtBQUFHO0FBQUc7QUFDZCxtQkFnQlYsS0FBSztBQUFLLHVCQUlWLEtBQUs7QUFBSyxzQkFJVixLQUFLO0FBQUssMkJBSVYsU0FBUyxTQUFDLGNBQWMsRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUM7QUFBTyxtQkFJaEQsU0FBUyxTQUFDLE1BQU0sRUFBRSxFQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUM7QUFBTyxzQ0FJeEMsWUFBWSxTQUFDLHFCQUFxQixFQUFFLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBQztBQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUFFO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uRGVzdHJveSwgSW5wdXQsIFZpZXdDaGlsZCwgQ29udGVudENoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJy4vYWxlcnQubW9kZWwnO1xuaW1wb3J0IHsgQWxlcnRTZXJ2aWNlIH0gZnJvbSAnLi9hbGVydC5zZXJ2aWNlJztcbmltcG9ydCB7IEFsZXJ0RGV0YWlsc0NvbXBvbmVudCB9IGZyb20gJy4vYWxlcnQtZGV0YWlscy5jb21wb25lbnQnO1xuXG4vKipcbiAqIEFsZXJ0IGNvbXBvbmVudCBhbGxvd3MgY3JlYXRpbmcgYWxlcnQgd2l0aCBjb21wbGV4IHZpZXcuXG4gKi9cblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LWFsZXJ0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FsZXJ0LmNvbXBvbmVudC5odG1sJ1xufSlcblxuZXhwb3J0IGNsYXNzIEFsZXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25EZXN0cm95LCBBbGVydCB7XG5cbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIHRoZSBhbGVydC5cbiAgICovXG4gIEBJbnB1dCgpIHR5cGU6ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdkYW5nZXInIHwgJ2luZm8nIHwgJ3N5c3RlbSc7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBjYWxsIGlmIHVzZXIgY2xpY2tzIG9uIHRoZSBkZXRhaWwgYnV0dG9uLlxuICAgKi9cbiAgQElucHV0KCkgb25EZXRhaWw6ICgpID0+IHZvaWQ7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBjYWxsIGlmIHVzZXIgY2xpY2tzIG9uIHRoZSBjbG9zZSBidXR0b24uXG4gICAqL1xuICBASW5wdXQoKSBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICAvKipcbiAgICogRGV0YWlsZWQgaW5mb3JtYXRpb24gdG8gZGlzcGxheS5cbiAgICovXG4gIEBWaWV3Q2hpbGQoJ2RldGFpbGVkRGF0YScsIHtzdGF0aWM6IGZhbHNlfSkgZGV0YWlsZWREYXRhO1xuICAvKipcbiAgICogVGhlIHRleHQgdGVtcGxhdGVSZWYgdG8gZGlzcGxheSBtZXNzYWdlLlxuICAgKi9cbiAgQFZpZXdDaGlsZCgndGV4dCcsIHtzdGF0aWM6IGZhbHNlfSkgdGV4dDtcbiAgLyoqXG4gICAqIENvbnRlbnQgb2YgQWxlcnREZXRhaWxzQ29tcG9uZW50IGlzIGRpc3BsYXllZCBhcyBhbGVydERldGFpbHMuXG4gICAqL1xuICBAQ29udGVudENoaWxkKEFsZXJ0RGV0YWlsc0NvbXBvbmVudCwge3N0YXRpYzogZmFsc2V9KSBjb250YWluRGV0YWlsc0NvbXBvbmVudDogQWxlcnREZXRhaWxzQ29tcG9uZW50O1xuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgcHJpdmF0ZSB2aWV3SW5pdFRpbWVvdXQ7XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBhbGVydFNlcnZpY2U6IEFsZXJ0U2VydmljZSkge31cblxuICAvKipcbiAgICogQWxlcnRDb21wb25lbnQgYWRkcyBuZXcgYWxlcnQgdG8gY29sbGVjdGlvbiBzdG9yZWQgaW4gYWxlcnRTZXJ2aWNlIGFmdGVyIHZpZXcgaW5pdC5cbiAgICovXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBpZiAoIXRoaXMuY29udGFpbkRldGFpbHNDb21wb25lbnQpIHtcbiAgICAgIHRoaXMuZGV0YWlsZWREYXRhID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy52aWV3SW5pdFRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+XG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS5hZGQodGhpcylcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsZXJ0Q29tcG9uZW50IHJlbW92ZXMgYWxlcnQgZnJvbSBjb2xsZWN0aW9uIHN0b3JlZCBpbiBhbGVydFNlcnZpY2Ugb24gZGVzdHJveSBjb21wb25lbnQuXG4gICAqL1xuICBuZ09uRGVzdHJveSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3SW5pdFRpbWVvdXQpO1xuICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnJlbW92ZSh0aGlzKTtcbiAgfVxufVxuIl19