import { Component, Input, ViewChild, EventEmitter, Output } from '@angular/core';
import { UserMenuService } from './user-menu.service';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './user-menu.service';
import * as ɵngcc2 from '../common/icon.directive';
import * as ɵngcc3 from '../i18n/c8y-translate.pipe';

const _c0 = ["template"];
function UserMenuItemComponent_ng_template_0_Template(rf, ctx) { if (rf & 1) {
    const _r3 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "li", 1);
    ɵngcc0.ɵɵlistener("click", function UserMenuItemComponent_ng_template_0_Template_li_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r2 = ɵngcc0.ɵɵnextContext(); return ctx_r2.onClick(); });
    ɵngcc0.ɵɵelementStart(1, "a", 2);
    ɵngcc0.ɵɵelement(2, "i", 3);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵprojection(5);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵattribute("href", ctx_r1.link, ɵngcc0.ɵɵsanitizeUrl)("target", ctx_r1.target);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("c8yIcon", ctx_r1.icon);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 4, ctx_r1.label), " ");
} }
const _c1 = ["*"];
export class UserMenuItemComponent {
    constructor(userService) {
        this.userService = userService;
        this.priority = 0;
        this.click = new EventEmitter();
    }
    ngAfterViewInit() {
        this.viewInitTimeout = setTimeout(() => this.userService.add(this));
    }
    ngOnDestroy() {
        clearTimeout(this.viewInitTimeout);
        this.userService.remove(this);
    }
    onClick() {
        this.click.emit(this);
    }
}
UserMenuItemComponent.ɵfac = function UserMenuItemComponent_Factory(t) { return new (t || UserMenuItemComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.UserMenuService)); };
UserMenuItemComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: UserMenuItemComponent, selectors: [["c8y-user-menu-item"]], viewQuery: function UserMenuItemComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(_c0, 5);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.template = _t.first);
    } }, inputs: { priority: "priority", icon: "icon", label: "label", link: "link", target: "target" }, outputs: { click: "click" }, ngContentSelectors: _c1, decls: 2, vars: 0, consts: [["template", ""], [3, "click"], [1, "interact"], [3, "c8yIcon"]], template: function UserMenuItemComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵprojectionDef();
        ɵngcc0.ɵɵtemplate(0, UserMenuItemComponent_ng_template_0_Template, 6, 6, "ng-template", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);
    } }, directives: [ɵngcc2.IconDirective], pipes: [ɵngcc3.C8yTranslatePipe], encapsulation: 2 });
UserMenuItemComponent.ctorParameters = () => [
    { type: UserMenuService }
];
UserMenuItemComponent.propDecorators = {
    icon: [{ type: Input }],
    label: [{ type: Input }],
    link: [{ type: Input }],
    target: [{ type: Input }],
    priority: [{ type: Input }],
    template: [{ type: ViewChild, args: ['template', { static: false },] }],
    click: [{ type: Output }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(UserMenuItemComponent, [{
        type: Component,
        args: [{
                selector: 'c8y-user-menu-item',
                template: "<ng-template #template>\n  <li (click)=\"onClick()\">\n    <a class=\"interact\" [attr.href]=\"link\" [attr.target]=\"target\">\n      <i [c8yIcon]=\"icon\"></i>\n      {{ label | translate }}\n      <ng-content></ng-content>\n    </a>\n  </li>\n</ng-template>\n"
            }]
    }], function () { return [{ type: ɵngcc1.UserMenuService }]; }, { priority: [{
            type: Input
        }], click: [{
            type: Output
        }], icon: [{
            type: Input
        }], label: [{
            type: Input
        }], link: [{
            type: Input
        }], target: [{
            type: Input
        }], template: [{
            type: ViewChild,
            args: ['template', { static: false }]
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci1tZW51LWl0ZW0uY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9jb3JlL3VzZXIvdXNlci1tZW51LWl0ZW0uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRWxGLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU10RCxNQUFNLE9BQU8scUJBQXFCO0FBQUcsSUFpQm5DLFlBQW9CLFdBQTRCO0FBQUksUUFBaEMsZ0JBQVcsR0FBWCxXQUFXLENBQWlCO0FBQUMsUUFQakQsYUFBUSxHQUFHLENBQUMsQ0FBQztBQUNmLFFBR0UsVUFBSyxHQUFHLElBQUksWUFBWSxFQUFnQixDQUFDO0FBQzNDLElBRXNELENBQUM7QUFDdkQsSUFDRSxlQUFlO0FBQ2pCLFFBQUksSUFBSSxDQUFDLGVBQWUsR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQW9CLENBQUMsQ0FDM0MsQ0FBQztBQUNOLElBQUUsQ0FBQztBQUNILElBQ0UsV0FBVztBQUNiLFFBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUN2QyxRQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLElBQW9CLENBQUMsQ0FBQztBQUNsRCxJQUFFLENBQUM7QUFDSCxJQUNFLE9BQU87QUFDVCxRQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFCLElBQUUsQ0FBQztBQUNIO2lEQXJDQyxTQUFTLFNBQUMsa0JBQ1QsUUFBUSxFQUFFLG9CQUFvQixrQkFDOUI7OytCQUE4QztTQUMvQzs7Ozs7O21HQUNJO0FBQUM7QUFBK0MsWUFONUMsZUFBZTtBQUFHO0FBQUc7QUFHNUIsbUJBSUMsS0FBSztBQUNOLG9CQUNDLEtBQUs7QUFDTixtQkFDQyxLQUFLO0FBQ04scUJBQ0MsS0FBSztBQUNOLHVCQUNDLEtBQUs7QUFDTix1QkFDQyxTQUFTLFNBQUMsVUFBVSxFQUFFLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBQztBQUFPLG9CQUU1QyxNQUFNO0FBQ1I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFVzZXJNZW51SXRlbSB9IGZyb20gJy4vdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBVc2VyTWVudVNlcnZpY2UgfSBmcm9tICcuL3VzZXItbWVudS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LXVzZXItbWVudS1pdGVtJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3VzZXItbWVudS1pdGVtLmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBVc2VyTWVudUl0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBVc2VyTWVudUl0ZW0gIHtcbiAgQElucHV0KClcbiAgaWNvbjogc3RyaW5nO1xuICBASW5wdXQoKVxuICBsYWJlbDogc3RyaW5nO1xuICBASW5wdXQoKVxuICBsaW5rOiBzdHJpbmc7XG4gIEBJbnB1dCgpXG4gIHRhcmdldDogc3RyaW5nO1xuICBASW5wdXQoKVxuICBwcmlvcml0eSA9IDA7XG4gIEBWaWV3Q2hpbGQoJ3RlbXBsYXRlJywge3N0YXRpYzogZmFsc2V9KSB0ZW1wbGF0ZTogYW55O1xuXG4gIEBPdXRwdXQoKVxuICBjbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8VXNlck1lbnVJdGVtPigpO1xuICBwcml2YXRlIHZpZXdJbml0VGltZW91dDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHVzZXJTZXJ2aWNlOiBVc2VyTWVudVNlcnZpY2UpIHsgfVxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICB0aGlzLnZpZXdJbml0VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT5cbiAgICAgIHRoaXMudXNlclNlcnZpY2UuYWRkKHRoaXMgYXMgVXNlck1lbnVJdGVtKVxuICAgICk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3SW5pdFRpbWVvdXQpO1xuICAgIHRoaXMudXNlclNlcnZpY2UucmVtb3ZlKHRoaXMgYXMgVXNlck1lbnVJdGVtKTtcbiAgfVxuXG4gIG9uQ2xpY2soKSB7XG4gICAgdGhpcy5jbGljay5lbWl0KHRoaXMpO1xuICB9XG59XG4iXX0=