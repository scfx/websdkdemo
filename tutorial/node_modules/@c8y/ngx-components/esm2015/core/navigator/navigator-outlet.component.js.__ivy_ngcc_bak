import { Component, Input } from '@angular/core';
import { HeaderService } from '../header/header.service';
import { BehaviorSubject } from 'rxjs';
/**
 * The component shows all nodes that have been added to the navigator.
 * In addition, it allows you to add a header and a footer to the navigator.
 *
 * ## Example:
 * ```html
 * <c8y-navigator-outlet [nodes]="navigatorService.items$ | async" [open]="isOpen">
 *   <header class="navigator-slot-top"></header>
 *   <footer class="navigator-slot-bottom"></footer>
 * </c8y-navigator-outlet>
 * ```
 */
export class NavigatorOutletComponent {
    constructor(headerService) {
        this.headerService = headerService;
        /**
         * Determines whether the navigator menu should be open/closed.
         */
        this.open = true;
        /**
         * Determines whether the navigator pane should be rendered.
         */
        this.isShown$ = new BehaviorSubject(false);
    }
    /**
     * @ignore
     */
    ngOnChanges() {
        this.isShown$.next(this.nodes && this.nodes.length > 0);
    }
    /**
     * Closes the navigator menu after clicking an item in the menu, in case of insufficient screen width.
     */
    collapseNavigator(from) {
        if (from === 'link' && !this.headerService.largeWidth) {
            this.headerService.closeNavigator();
        }
    }
    /**
     * @ignore
     */
    trackByPathOrLabel(index, node) {
        return node.path ? node.path : node.label;
    }
}
NavigatorOutletComponent.decorators = [
    { type: Component, args: [{
                selector: 'c8y-navigator-outlet, c8y-ui-navigator',
                template: "<nav class=\"navigator\" *ngIf=\"isShown$ | async\" [ngClass]=\"{ open: open }\">\n  <ng-content select=\".navigator-slot-top\"></ng-content>\n  <ul class=\"navigatorContent\">\n    <c8y-navigator-node-display (nodeClick)=\"collapseNavigator($event)\" [node]=\"node\" *ngFor=\"let node of nodes trackBy trackByPathOrLabel\" [isRoot]=\"true\"></c8y-navigator-node-display>\n  </ul>\n  <ng-content select=\".navigator-slot-bottom\"></ng-content>\n</nav>\n"
            },] }
];
NavigatorOutletComponent.ctorParameters = () => [
    { type: HeaderService }
];
NavigatorOutletComponent.propDecorators = {
    nodes: [{ type: Input }],
    open: [{ type: Input }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2aWdhdG9yLW91dGxldC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9jb3JlL25hdmlnYXRvci9uYXZpZ2F0b3Itb3V0bGV0LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUVqRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDekQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUV2Qzs7Ozs7Ozs7Ozs7R0FXRztBQUtILE1BQU0sT0FBTyx3QkFBd0I7SUFjbkMsWUFBb0IsYUFBNEI7UUFBNUIsa0JBQWEsR0FBYixhQUFhLENBQWU7UUFUaEQ7O1dBRUc7UUFDTSxTQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ3JCOztXQUVHO1FBQ0gsYUFBUSxHQUE2QixJQUFJLGVBQWUsQ0FBVSxLQUFLLENBQUMsQ0FBQztJQUV0QixDQUFDO0lBRXBEOztPQUVHO0lBQ0gsV0FBVztRQUNULElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDMUQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsaUJBQWlCLENBQUMsSUFBa0M7UUFDbEQsSUFBSSxJQUFJLEtBQUssTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxVQUFVLEVBQUU7WUFDckQsSUFBSSxDQUFDLGFBQWEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUNyQztJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILGtCQUFrQixDQUFDLEtBQUssRUFBRSxJQUFJO1FBQzVCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUM1QyxDQUFDOzs7WUF6Q0YsU0FBUyxTQUFDO2dCQUNULFFBQVEsRUFBRSx3Q0FBd0M7Z0JBQ2xELGlkQUFnRDthQUNqRDs7O1lBbEJRLGFBQWE7OztvQkF1Qm5CLEtBQUs7bUJBSUwsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5hdmlnYXRvck5vZGUgfSBmcm9tICcuL25hdmlnYXRvci1ub2RlJztcbmltcG9ydCB7IEhlYWRlclNlcnZpY2UgfSBmcm9tICcuLi9oZWFkZXIvaGVhZGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbi8qKlxuICogVGhlIGNvbXBvbmVudCBzaG93cyBhbGwgbm9kZXMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gdGhlIG5hdmlnYXRvci5cbiAqIEluIGFkZGl0aW9uLCBpdCBhbGxvd3MgeW91IHRvIGFkZCBhIGhlYWRlciBhbmQgYSBmb290ZXIgdG8gdGhlIG5hdmlnYXRvci5cbiAqXG4gKiAjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPGM4eS1uYXZpZ2F0b3Itb3V0bGV0IFtub2Rlc109XCJuYXZpZ2F0b3JTZXJ2aWNlLml0ZW1zJCB8IGFzeW5jXCIgW29wZW5dPVwiaXNPcGVuXCI+XG4gKiAgIDxoZWFkZXIgY2xhc3M9XCJuYXZpZ2F0b3Itc2xvdC10b3BcIj48L2hlYWRlcj5cbiAqICAgPGZvb3RlciBjbGFzcz1cIm5hdmlnYXRvci1zbG90LWJvdHRvbVwiPjwvZm9vdGVyPlxuICogPC9jOHktbmF2aWdhdG9yLW91dGxldD5cbiAqIGBgYFxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktbmF2aWdhdG9yLW91dGxldCwgYzh5LXVpLW5hdmlnYXRvcicsXG4gIHRlbXBsYXRlVXJsOiAnLi9uYXZpZ2F0b3Itb3V0bGV0LmNvbXBvbmVudC5odG1sJ1xufSlcbmV4cG9ydCBjbGFzcyBOYXZpZ2F0b3JPdXRsZXRDb21wb25lbnQge1xuICAvKipcbiAgICogTmF2aWdhdG9yIG5vZGVzIGxpc3QuXG4gICAqL1xuICBASW5wdXQoKSBub2RlczogTmF2aWdhdG9yTm9kZVtdO1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBuYXZpZ2F0b3IgbWVudSBzaG91bGQgYmUgb3Blbi9jbG9zZWQuXG4gICAqL1xuICBASW5wdXQoKSBvcGVuID0gdHJ1ZTtcbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0aGUgbmF2aWdhdG9yIHBhbmUgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgKi9cbiAgaXNTaG93biQ6IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPiA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaGVhZGVyU2VydmljZTogSGVhZGVyU2VydmljZSkge31cblxuICAvKipcbiAgICogQGlnbm9yZVxuICAgKi9cbiAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XG4gICAgdGhpcy5pc1Nob3duJC5uZXh0KHRoaXMubm9kZXMgJiYgdGhpcy5ub2Rlcy5sZW5ndGggPiAwKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIG5hdmlnYXRvciBtZW51IGFmdGVyIGNsaWNraW5nIGFuIGl0ZW0gaW4gdGhlIG1lbnUsIGluIGNhc2Ugb2YgaW5zdWZmaWNpZW50IHNjcmVlbiB3aWR0aC5cbiAgICovXG4gIGNvbGxhcHNlTmF2aWdhdG9yKGZyb206ICdpY29uJyB8ICdleHBhbmRlcicgfCAnbGluaycpIHtcbiAgICBpZiAoZnJvbSA9PT0gJ2xpbmsnICYmICF0aGlzLmhlYWRlclNlcnZpY2UubGFyZ2VXaWR0aCkge1xuICAgICAgdGhpcy5oZWFkZXJTZXJ2aWNlLmNsb3NlTmF2aWdhdG9yKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBpZ25vcmVcbiAgICovXG4gIHRyYWNrQnlQYXRoT3JMYWJlbChpbmRleCwgbm9kZSkge1xuICAgIHJldHVybiBub2RlLnBhdGggPyBub2RlLnBhdGggOiBub2RlLmxhYmVsO1xuICB9XG59XG4iXX0=