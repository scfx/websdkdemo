/***************
PANEL DASHBOARD
****************/


/* it's used in the old UI version,
currently it's only being used in plugin dashboard (not dashboard2)
we're keeping it for backwards compatibility */

.panel.panel-dashboard {
  right: (@grid-gutter-width / 2); //background-color: @panel-bg;
  bottom: 0;
  left: (@grid-gutter-width / 2);
  overflow: inherit;
  margin-bottom: (@grid-gutter-width / 2);

  .card();
  +.ui-resizable-handle {
    right: 22px !important;
    bottom: 15px !important;
  }
  >.panel-heading {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding-left: 15px;
    height: @panel-heading-height;
    &::after {
      position: absolute;
      top: 50%;
      left: (@panel-heading-height / 2);
      margin-top: -5px;
      margin-left: -2px;
      width: 4px; // background-color: @brand-primary-css-var;
      height: 10px;
      content: '';
    }
    >span,
    >.panel-title {
      display: inline-block;
      overflow: hidden;
      margin-right: auto;
      padding-top: 4px;
      padding-right: 45px;
      padding-left: 0;
      color: @navbar-default-link-color;
      vertical-align: middle;
      text-transform: uppercase;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-size: 10px;
      opacity: .5;
    }
    .optionsBtn {
      .btnIcon {
        opacity: .2;
        [class^="dlt-c8y-icon-"],
        [class*=" dlt-c8y-icon-"]{
          font-size: 12px;
        }
        &:hover {
          color: @brand-primary-css-var;
          opacity: 1;
        }
      }
      &.open {
        .btnIcon {
          opacity: 1;
        }
      }
    }
    .btn-link {
      order: 30;
    }
    +.fixed-header {
      position: relative;
      z-index: 2;
      overflow: hidden;
      background-color: @component-background;
      table {
        margin-bottom: 0;
      }
    }
    +.panel-body,
    +.fixed-header+.panel-body {
      position: absolute;
      top: @panel-heading-height;
      right: 0;
      bottom: 0;
      left: 0;
      overflow: auto;
      padding: 0;
      >.lead,
      .panel-filters {
        padding: @panel-body-padding;
      }
    }
    +.panel-body,
    +.fixed-header+.panel-body,
    +.fixed-header {
      .table {
        h1,
        h2,
        h3,
        h4 {
          margin: 15px 0 0;
        }
        tr {
          td:first-child,
          th:first-child {
            padding-left: 15px;
          }
          td:last-child,
          th:last-child {
            padding-right: 15px;
          }
        }
        tbody tr:first-child td {
          border-top: 0;
        }
      }
    }
  }
}

.panel.panel-dashboard>.panel-heading+.fixed-header+.panel-body {
  // add margin on top of panel-body when fixed heade table exists for proper scroll bar position
  top: 82px;
  .table {
    // hide scrollable table header
    margin-top: -42px;
  }
}

.panel.panel-icon {
  background-color: @component-background;

  .box-shadow(0 1px 1px rgba(0, 0, 0, .1));
  >.panel-heading {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding-right: 15px;
    height: @panel-heading-height;
    span,
    [ng-show="title"] {
      display: flex;
      align-items: center;
      align-self: stretch;
      order: 1;
      margin-right: auto;
      padding-top: 4px;
      [class^="dlt-c8y-icon-"],
      [class*=" dlt-c8y-icon-"]{
        margin-right: 10px!important;
      }
    }
    .pull-right span {
      display: inline;
    }
    >[class^="dlt-c8y-icon-"],
    >[class*=" dlt-c8y-icon-"],
    span [class^="dlt-c8y-icon-"],
    span [class*=" dlt-c8y-icon-"],
    [ng-show="title"] [class^="dlt-c8y-icon-"],
    [ng-show="title"] [class*=" dlt-c8y-icon-"] {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: -4px;
      margin-right: auto;
      width: @panel-heading-height;
      height: @panel-heading-height;
      &.critical {
        background-color: @dark-danger;
        color: @component-background;
      }
      &.major {
        background-color: @dark-warning;
        color: @component-background;
      }
      &.minor {
        background-color: @brand-warning;
        color: @component-background;
      }
      &.warning {
        background-color: @brand-info;
        color: @component-background;
      }
    }
    .btn-link {
      color: @navbar-default-link-color;
      text-transform: none;
      font-size: inherit;
    }
    .btn {
      font-size: inherit;
    }
    .pull-right {
      order: 1000;
    }
  }
  .panel-body.text-muted {
    padding: 0 @panel-body-padding;
    >.text-muted {
      padding: 10px 0;
    }
  }
}
