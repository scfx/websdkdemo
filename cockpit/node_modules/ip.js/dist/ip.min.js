// Version 1.2.2 ip.js - https://github.com/vasturiano/ip.js
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t=t||self).Ip={})}(this,function(t){"use strict";function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}function r(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var o=function(t,i){return t(i={exports:{}},i.exports),i.exports}(function(t,i){t.exports=function(){function t(i){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function i(t,i){for(var e,n=0;n<i.length;n++)(e=i[n]).enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}function e(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function n(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&o(t,i)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,i){return(o=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function u(){return(u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,i,e){var n=[null];n.push.apply(n,i);var r=Function.bind.apply(t,n),u=new r;return e&&o(u,e.prototype),u}).apply(null,arguments)}function _(t){var i="function"==typeof Map?new Map:void 0;return(_=function(t){function e(){return u(t,arguments,r(this).constructor)}if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(t))return i.get(t);i.set(t,e)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)})(t)}function a(t,i){return!i||"object"!=typeof i&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}var s=function(i){var o=Math.abs,u=Math.max,_=Math.imul,s=Math.clz32;function l(t,i){var e;if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,l),t>l.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return(e=a(this,r(l).call(this,t))).sign=i,e}return n(l,i),e(l,[{key:"toDebugString",value:function(){var t=["BigInt["],i=!0,e=!1,n=void 0;try{for(var r,o,u=this[Symbol.iterator]();!(i=(r=u.next()).done);i=!0)o=r.value,t.push((o?(o>>>0).toString(16):o)+", ")}catch(t){e=!0,n=t}finally{try{i||null==u.return||u.return()}finally{if(e)throw n}}return t.push("]"),t.join("")}},{key:"toString",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(t&t-1)?l.__toStringBasePowerOfTwo(this,t):l.__toStringGeneric(this,t,!1)}},{key:"__copy",value:function(){for(var t=new l(this.length,this.sign),i=0;i<this.length;i++)t[i]=this[i];return t}},{key:"__trim",value:function(){for(var t=this.length,i=this[t-1];0===i;)i=this[--t-1],this.pop();return 0===t&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var t=0;t<this.length;t++)this[t]=0}},{key:"__clzmsd",value:function(){return s(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(t,i,e){e>this.length&&(e=this.length);for(var n=65535&t,r=t>>>16,o=0,u=65535&i,a=i>>>16,s=0;s<e;s++){var l=this.__digit(s),f=65535&l,g=l>>>16,h=_(f,n),c=_(f,r),v=_(g,n),d=_(g,r),p=u+(65535&h),b=a+o+(p>>>16)+(h>>>16)+(65535&c)+(65535&v);o=(u=(c>>>16)+(v>>>16)+(65535&d)+(b>>>16))>>>16,u&=65535,a=d>>>16,this.__setDigit(s,65535&p|b<<16)}if(0!==o||0!==u||0!==a)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(t,i,e){for(var n,r=0,o=0;o<e;o++)n=this.__halfDigit(i+o)+t.__halfDigit(o)+r,r=n>>>16,this.__setHalfDigit(i+o,n);return r}},{key:"__inplaceSub",value:function(t,i,e){var n=0;if(1&i){i>>=1;for(var r=this.__digit(i),o=65535&r,u=0;u<e-1>>>1;u++){var _=t.__digit(u),a=(r>>>16)-(65535&_)-n;n=1&a>>>16,this.__setDigit(i+u,a<<16|65535&o),r=this.__digit(i+u+1),n=1&(o=(65535&r)-(_>>>16)-n)>>>16}var s=t.__digit(u),l=(r>>>16)-(65535&s)-n;if(n=1&l>>>16,this.__setDigit(i+u,l<<16|65535&o),i+u+1>=this.length)throw new RangeError("out of bounds");0==(1&e)&&(r=this.__digit(i+u+1),n=1&(o=(65535&r)-(s>>>16)-n)>>>16,this.__setDigit(i+t.length,4294901760&r|65535&o))}else{i>>=1;for(var f=0;f<t.length-1;f++){var g=this.__digit(i+f),h=t.__digit(f),c=(65535&g)-(65535&h)-n,v=(g>>>16)-(h>>>16)-(n=1&c>>>16);n=1&v>>>16,this.__setDigit(i+f,v<<16|65535&c)}var d=this.__digit(i+f),p=t.__digit(f),b=(65535&d)-(65535&p)-n;n=1&b>>>16;var m=0;0==(1&e)&&(n=1&(m=(d>>>16)-(p>>>16)-n)>>>16),this.__setDigit(i+f,m<<16|65535&b)}return n}},{key:"__inplaceRightShift",value:function(t){if(0!==t){for(var i,e=this.__digit(0)>>>t,n=this.length-1,r=0;r<n;r++)i=this.__digit(r+1),this.__setDigit(r,i<<32-t|e),e=i>>>t;this.__setDigit(n,e)}}},{key:"__digit",value:function(t){return this[t]}},{key:"__unsignedDigit",value:function(t){return this[t]>>>0}},{key:"__setDigit",value:function(t,i){this[t]=0|i}},{key:"__setDigitGrow",value:function(t,i){this[t]=0|i}},{key:"__halfDigitLength",value:function(){var t=this.length;return 65535>=this.__unsignedDigit(t-1)?2*t-1:2*t}},{key:"__halfDigit",value:function(t){return 65535&this[t>>>1]>>>((1&t)<<4)}},{key:"__setHalfDigit",value:function(t,i){var e=t>>>1,n=this.__digit(e),r=1&t?65535&n|i<<16:4294901760&n|65535&i;this.__setDigit(e,r)}}],[{key:"BigInt",value:function(i){var e=Math.floor,n=Number.isFinite;if("number"==typeof i){if(0===i)return l.__zero();if((0|i)===i)return 0>i?l.__oneDigit(-i,!0):l.__oneDigit(i,!1);if(!n(i)||e(i)!==i)throw new RangeError("The number "+i+" cannot be converted to BigInt because it is not an integer");return l.__fromDouble(i)}if("string"==typeof i){var r=l.__fromString(i);if(null===r)throw new SyntaxError("Cannot convert "+i+" to a BigInt");return r}if("boolean"==typeof i)return!0===i?l.__oneDigit(1,!1):l.__zero();if("object"===t(i)){if(i.constructor===l)return i;var o=l.__toPrimitive(i);return l.BigInt(o)}throw new TypeError("Cannot convert "+i+" to a BigInt")}},{key:"toNumber",value:function(t){var i=t.length;if(0===i)return 0;if(1===i){var e=t.__unsignedDigit(0);return t.sign?-e:e}var n=t.__digit(i-1),r=s(n),o=32*i-r;if(1024<o)return t.sign?-1/0:1/0;var u=o-1,_=n,a=i-1,f=r+1,g=32===f?0:_<<f;g>>>=12;var h=f-12,c=12<=f?0:_<<20+f,v=20+f;0<h&&0<a&&(a--,_=t.__digit(a),g|=_>>>32-h,c=_<<h,v=h),0<v&&0<a&&(a--,_=t.__digit(a),c|=_>>>32-v,v-=32);var d=l.__decideRounding(t,v,a,_);if((1===d||0===d&&1==(1&c))&&0==(c=c+1>>>0)&&0!=++g>>>20&&(g=0,1023<++u))return t.sign?-1/0:1/0;var p=t.sign?-2147483648:0;return u=u+1023<<20,l.__kBitConversionInts[1]=p|u|g,l.__kBitConversionInts[0]=c,l.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(t){if(0===t.length)return t;var i=t.__copy();return i.sign=!t.sign,i}},{key:"bitwiseNot",value:function(t){return t.sign?l.__absoluteSubOne(t).__trim():l.__absoluteAddOne(t,!0)}},{key:"exponentiate",value:function(t,i){if(i.sign)throw new RangeError("Exponent must be positive");if(0===i.length)return l.__oneDigit(1,!1);if(0===t.length)return t;if(1===t.length&&1===t.__digit(0))return t.sign&&0==(1&i.__digit(0))?l.unaryMinus(t):t;if(1<i.length)throw new RangeError("BigInt too big");var e=i.__unsignedDigit(0);if(1===e)return t;if(e>=l.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===t.length&&2===t.__digit(0)){var n=1+(e>>>5),r=t.sign&&0!=(1&e),o=new l(n,r);o.__initializeDigits();var u=1<<(31&e);return o.__setDigit(n-1,u),o}var _=null,a=t;for(0!=(1&e)&&(_=t),e>>=1;0!==e;e>>=1)a=l.multiply(a,a),0!=(1&e)&&(_=null===_?a:l.multiply(_,a));return _}},{key:"multiply",value:function(t,i){if(0===t.length)return t;if(0===i.length)return i;var e=t.length+i.length;32<=t.__clzmsd()+i.__clzmsd()&&e--;var n=new l(e,t.sign!==i.sign);n.__initializeDigits();for(var r=0;r<t.length;r++)l.__multiplyAccumulate(i,t.__digit(r),n,r);return n.__trim()}},{key:"divide",value:function(t,i){if(0===i.length)throw new RangeError("Division by zero");if(0>l.__absoluteCompare(t,i))return l.__zero();var e,n=t.sign!==i.sign,r=i.__unsignedDigit(0);if(1===i.length&&65535>=r){if(1===r)return n===t.sign?t:l.unaryMinus(t);e=l.__absoluteDivSmall(t,r,null)}else e=l.__absoluteDivLarge(t,i,!0,!1);return e.sign=n,e.__trim()}},{key:"remainder",value:function(t,i){if(0===i.length)throw new RangeError("Division by zero");if(0>l.__absoluteCompare(t,i))return t;var e=i.__unsignedDigit(0);if(1===i.length&&65535>=e){if(1===e)return l.__zero();var n=l.__absoluteModSmall(t,e);return 0===n?l.__zero():l.__oneDigit(n,t.sign)}var r=l.__absoluteDivLarge(t,i,!1,!0);return r.sign=t.sign,r.__trim()}},{key:"add",value:function(t,i){var e=t.sign;return e===i.sign?l.__absoluteAdd(t,i,e):0<=l.__absoluteCompare(t,i)?l.__absoluteSub(t,i,e):l.__absoluteSub(i,t,!e)}},{key:"subtract",value:function(t,i){var e=t.sign;return e===i.sign?0<=l.__absoluteCompare(t,i)?l.__absoluteSub(t,i,e):l.__absoluteSub(i,t,!e):l.__absoluteAdd(t,i,e)}},{key:"leftShift",value:function(t,i){return 0===i.length||0===t.length?t:i.sign?l.__rightShiftByAbsolute(t,i):l.__leftShiftByAbsolute(t,i)}},{key:"signedRightShift",value:function(t,i){return 0===i.length||0===t.length?t:i.sign?l.__leftShiftByAbsolute(t,i):l.__rightShiftByAbsolute(t,i)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(t,i){return 0>l.__compareToBigInt(t,i)}},{key:"lessThanOrEqual",value:function(t,i){return 0>=l.__compareToBigInt(t,i)}},{key:"greaterThan",value:function(t,i){return 0<l.__compareToBigInt(t,i)}},{key:"greaterThanOrEqual",value:function(t,i){return 0<=l.__compareToBigInt(t,i)}},{key:"equal",value:function(t,i){if(t.sign!==i.sign)return!1;if(t.length!==i.length)return!1;for(var e=0;e<t.length;e++)if(t.__digit(e)!==i.__digit(e))return!1;return!0}},{key:"bitwiseAnd",value:function(t,i){if(!t.sign&&!i.sign)return l.__absoluteAnd(t,i).__trim();if(t.sign&&i.sign){var e=u(t.length,i.length)+1,n=l.__absoluteSubOne(t,e),r=l.__absoluteSubOne(i);return n=l.__absoluteOr(n,r,n),l.__absoluteAddOne(n,!0,n).__trim()}if(t.sign){var o=[i,t];t=o[0],i=o[1]}return l.__absoluteAndNot(t,l.__absoluteSubOne(i)).__trim()}},{key:"bitwiseXor",value:function(t,i){if(!t.sign&&!i.sign)return l.__absoluteXor(t,i).__trim();if(t.sign&&i.sign){var e=u(t.length,i.length),n=l.__absoluteSubOne(t,e),r=l.__absoluteSubOne(i);return l.__absoluteXor(n,r,n).__trim()}var o=u(t.length,i.length)+1;if(t.sign){var _=[i,t];t=_[0],i=_[1]}var a=l.__absoluteSubOne(i,o);return a=l.__absoluteXor(a,t,a),l.__absoluteAddOne(a,!0,a).__trim()}},{key:"bitwiseOr",value:function(t,i){var e=u(t.length,i.length);if(!t.sign&&!i.sign)return l.__absoluteOr(t,i).__trim();if(t.sign&&i.sign){var n=l.__absoluteSubOne(t,e),r=l.__absoluteSubOne(i);return n=l.__absoluteAnd(n,r,n),l.__absoluteAddOne(n,!0,n).__trim()}if(t.sign){var o=[i,t];t=o[0],i=o[1]}var _=l.__absoluteSubOne(i,e);return _=l.__absoluteAndNot(_,t,_),l.__absoluteAddOne(_,!0,_).__trim()}},{key:"ADD",value:function(t,i){if(t=l.__toPrimitive(t),i=l.__toPrimitive(i),"string"==typeof t)return"string"!=typeof i&&(i=i.toString()),t+i;if("string"==typeof i)return t.toString()+i;if(t=l.__toNumeric(t),i=l.__toNumeric(i),l.__isBigInt(t)&&l.__isBigInt(i))return l.add(t,i);if("number"==typeof t&&"number"==typeof i)return t+i;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(t,i){return l.__compare(t,i,0)}},{key:"LE",value:function(t,i){return l.__compare(t,i,1)}},{key:"GT",value:function(t,i){return l.__compare(t,i,2)}},{key:"GE",value:function(t,i){return l.__compare(t,i,3)}},{key:"EQ",value:function(i,e){for(;;){if(l.__isBigInt(i))return l.__isBigInt(e)?l.equal(i,e):l.EQ(e,i);if("number"==typeof i){if(l.__isBigInt(e))return l.__equalToNumber(e,i);if("object"!==t(e))return i==e;e=l.__toPrimitive(e)}else if("string"==typeof i){if(l.__isBigInt(e))return null!==(i=l.__fromString(i))&&l.equal(i,e);if("object"!==t(e))return i==e;e=l.__toPrimitive(e)}else if("boolean"==typeof i){if(l.__isBigInt(e))return l.__equalToNumber(e,+i);if("object"!==t(e))return i==e;e=l.__toPrimitive(e)}else if("symbol"===t(i)){if(l.__isBigInt(e))return!1;if("object"!==t(e))return i==e;e=l.__toPrimitive(e)}else{if("object"!==t(i))return i==e;if("object"===t(e)&&e.constructor!==l)return i==e;i=l.__toPrimitive(i)}}}},{key:"__zero",value:function(){return new l(0,!1)}},{key:"__oneDigit",value:function(t,i){var e=new l(1,i);return e.__setDigit(0,t),e}},{key:"__decideRounding",value:function(t,i,e,n){if(0<i)return-1;var r;if(0>i)r=-i-1;else{if(0===e)return-1;e--,n=t.__digit(e),r=31}var o=1<<r;if(0==(n&o))return-1;if(0!=(n&(o-=1)))return 1;for(;0<e;)if(e--,0!==t.__digit(e))return 1;return 0}},{key:"__fromDouble",value:function(t){l.__kBitConversionDouble[0]=t;var i,e=2047&l.__kBitConversionInts[1]>>>20,n=e-1023,r=1+(n>>>5),o=new l(r,0>t),u=1048575&l.__kBitConversionInts[1]|1048576,_=l.__kBitConversionInts[0],a=31&n,s=0;if(a<20){var f=20-a;s=f+32,i=u>>>f,u=u<<32-f|_>>>f,_<<=32-f}else if(20===a)s=32,i=u,u=_;else{var g=a-20;s=32-g,i=u<<g|_>>>32-g,u=_<<g}o.__setDigit(r-1,i);for(var h=r-2;0<=h;h--)0<s?(s-=32,i=u,u=_):i=0,o.__setDigit(h,i);return o.__trim()}},{key:"__isWhitespace",value:function(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}},{key:"__fromString",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=0,n=t.length,r=0;if(r===n)return l.__zero();for(var o=t.charCodeAt(r);l.__isWhitespace(o);){if(++r===n)return l.__zero();o=t.charCodeAt(r)}if(43===o){if(++r===n)return null;o=t.charCodeAt(r),e=1}else if(45===o){if(++r===n)return null;o=t.charCodeAt(r),e=-1}if(0===i){if(i=10,48===o){if(++r===n)return l.__zero();if(88===(o=t.charCodeAt(r))||120===o){if(i=16,++r===n)return null;o=t.charCodeAt(r)}else if(79===o||111===o){if(i=8,++r===n)return null;o=t.charCodeAt(r)}else if(66===o||98===o){if(i=2,++r===n)return null;o=t.charCodeAt(r)}}}else if(16===i&&48===o){if(++r===n)return l.__zero();if(88===(o=t.charCodeAt(r))||120===o){if(++r===n)return null;o=t.charCodeAt(r)}}for(;48===o;){if(++r===n)return l.__zero();o=t.charCodeAt(r)}var u=n-r,_=l.__kMaxBitsPerChar[i],a=l.__kBitsPerCharTableMultiplier-1;if(u>1073741824/_)return null;var s=_*u+a>>>l.__kBitsPerCharTableShift,f=new l(s+31>>>5,!1),g=10>i?i:10,h=10<i?i-10:0;if(0==(i&i-1)){_>>=l.__kBitsPerCharTableShift;var c=[],v=[],d=!1;do{for(var p,b=0,m=0;;){if(p=void 0,o-48>>>0<g)p=o-48;else{if(!((32|o)-97>>>0<h)){d=!0;break}p=(32|o)-87}if(m+=_,b=b<<_|p,++r===n){d=!0;break}if(o=t.charCodeAt(r),32<m+_)break}c.push(b),v.push(m)}while(!d);l.__fillFromParts(f,c,v)}else{f.__initializeDigits();var y=!1,w=0;do{for(var k,D=0,I=1;;){if(k=void 0,o-48>>>0<g)k=o-48;else{if(!((32|o)-97>>>0<h)){y=!0;break}k=(32|o)-87}var B=I*i;if(4294967295<B)break;if(I=B,D=D*i+k,w++,++r===n){y=!0;break}o=t.charCodeAt(r)}a=32*l.__kBitsPerCharTableMultiplier-1;var S=_*w+a>>>l.__kBitsPerCharTableShift+5;f.__inplaceMultiplyAdd(I,D,S)}while(!y)}for(;r!==n;){if(!l.__isWhitespace(o))return null;o=t.charCodeAt(r++)}return 0!==e&&10!==i?null:(f.sign=-1===e,f.__trim())}},{key:"__fillFromParts",value:function(t,i,e){for(var n=0,r=0,o=0,u=i.length-1;0<=u;u--){var _=i[u],a=e[u];r|=_<<o,32===(o+=a)?(t.__setDigit(n++,r),o=0,r=0):32<o&&(t.__setDigit(n++,r),r=_>>>a-(o-=32))}if(0!==r){if(n>=t.length)throw new Error("implementation bug");t.__setDigit(n++,r)}for(;n<t.length;n++)t.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(t,i){var e=t.length,n=i-1,r=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=i-1,u=t.__digit(e-1),_=s(u),a=0|(32*e-_+r-1)/r;if(t.sign&&a++,268435456<a)throw new Error("string too long");for(var f=Array(a),g=a-1,h=0,c=0,v=0;v<e-1;v++){var d=t.__digit(v),p=(h|d<<c)&o;f[g--]=l.__kConversionChars[p];var b=r-c;for(h=d>>>b,c=32-b;c>=r;)f[g--]=l.__kConversionChars[h&o],h>>>=r,c-=r}var m=(h|u<<c)&o;for(f[g--]=l.__kConversionChars[m],h=u>>>r-c;0!==h;)f[g--]=l.__kConversionChars[h&o],h>>>=r;if(t.sign&&(f[g--]="-"),-1!==g)throw new Error("implementation bug");return f.join("")}},{key:"__toStringGeneric",value:function(t,i,e){var n=t.length;if(0===n)return"";if(1===n){var r=t.__unsignedDigit(0).toString(i);return!1===e&&t.sign&&(r="-"+r),r}var o,u,_=32*n-s(t.__digit(n-1)),a=l.__kMaxBitsPerChar[i],f=a-1,g=_*l.__kBitsPerCharTableMultiplier,h=1+(g=0|(g+=f-1)/f)>>1,c=l.exponentiate(l.__oneDigit(i,!1),l.__oneDigit(h,!1)),v=c.__unsignedDigit(0);if(1===c.length&&65535>=v){(o=new l(t.length,!1)).__initializeDigits();for(var d,p=0,b=2*t.length-1;0<=b;b--)d=p<<16|t.__halfDigit(b),o.__setHalfDigit(b,0|d/v),p=0|d%v;u=p.toString(i)}else{var m=l.__absoluteDivLarge(t,c,!0,!0);o=m.quotient;var y=m.remainder.__trim();u=l.__toStringGeneric(y,i,!0)}o.__trim();for(var w=l.__toStringGeneric(o,i,!0);u.length<h;)u="0"+u;return!1===e&&t.sign&&(w="-"+w),w+u}},{key:"__unequalSign",value:function(t){return t?-1:1}},{key:"__absoluteGreater",value:function(t){return t?-1:1}},{key:"__absoluteLess",value:function(t){return t?1:-1}},{key:"__compareToBigInt",value:function(t,i){var e=t.sign;if(e!==i.sign)return l.__unequalSign(e);var n=l.__absoluteCompare(t,i);return 0<n?l.__absoluteGreater(e):0>n?l.__absoluteLess(e):0}},{key:"__compareToNumber",value:function(t,i){if(!0|i){var e=t.sign,n=0>i;if(e!==n)return l.__unequalSign(e);if(0===t.length){if(n)throw new Error("implementation bug");return 0===i?0:-1}if(1<t.length)return l.__absoluteGreater(e);var r=o(i),u=t.__unsignedDigit(0);return u>r?l.__absoluteGreater(e):u<r?l.__absoluteLess(e):0}return l.__compareToDouble(t,i)}},{key:"__compareToDouble",value:function(t,i){if(i!=i)return i;if(i===1/0)return-1;if(i===-1/0)return 1;var e=t.sign;if(e!==0>i)return l.__unequalSign(e);if(0===i)throw new Error("implementation bug: should be handled elsewhere");if(0===t.length)return-1;l.__kBitConversionDouble[0]=i;var n=2047&l.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var r=n-1023;if(0>r)return l.__absoluteGreater(e);var o=t.length,u=t.__digit(o-1),_=s(u),a=32*o-_,f=r+1;if(a<f)return l.__absoluteLess(e);if(a>f)return l.__absoluteGreater(e);var g=1048576|1048575&l.__kBitConversionInts[1],h=l.__kBitConversionInts[0],c=31-_;if(c!==(a-1)%31)throw new Error("implementation bug");var v,d=0;if(c<20){var p=20-c;d=p+32,v=g>>>p,g=g<<32-p|h>>>p,h<<=32-p}else if(20===c)d=32,v=g,g=h;else{var b=c-20;d=32-b,v=g<<b|h>>>32-b,g=h<<b}if((u>>>=0)>(v>>>=0))return l.__absoluteGreater(e);if(u<v)return l.__absoluteLess(e);for(var m=o-2;0<=m;m--){0<d?(d-=32,v=g>>>0,g=h,h=0):v=0;var y=t.__unsignedDigit(m);if(y>v)return l.__absoluteGreater(e);if(y<v)return l.__absoluteLess(e)}if(0!==g||0!==h){if(0===d)throw new Error("implementation bug");return l.__absoluteLess(e)}return 0}},{key:"__equalToNumber",value:function(t,i){return i|0===i?0===i?0===t.length:1===t.length&&t.sign===0>i&&t.__unsignedDigit(0)===o(i):0===l.__compareToDouble(t,i)}},{key:"__comparisonResultToBool",value:function(t,i){switch(i){case 0:return 0>t;case 1:return 0>=t;case 2:return 0<t;case 3:return 0<=t}throw new Error("unreachable")}},{key:"__compare",value:function(t,i,e){if(t=l.__toPrimitive(t),i=l.__toPrimitive(i),"string"==typeof t&&"string"==typeof i)switch(e){case 0:return t<i;case 1:return t<=i;case 2:return t>i;case 3:return t>=i}if(l.__isBigInt(t)&&"string"==typeof i)return null!==(i=l.__fromString(i))&&l.__comparisonResultToBool(l.__compareToBigInt(t,i),e);if("string"==typeof t&&l.__isBigInt(i))return null!==(t=l.__fromString(t))&&l.__comparisonResultToBool(l.__compareToBigInt(t,i),e);if(t=l.__toNumeric(t),i=l.__toNumeric(i),l.__isBigInt(t)){if(l.__isBigInt(i))return l.__comparisonResultToBool(l.__compareToBigInt(t,i),e);if("number"!=typeof i)throw new Error("implementation bug");return l.__comparisonResultToBool(l.__compareToNumber(t,i),e)}if("number"!=typeof t)throw new Error("implementation bug");if(l.__isBigInt(i))return l.__comparisonResultToBool(l.__compareToNumber(i,t),2^e);if("number"!=typeof i)throw new Error("implementation bug");return 0===e?t<i:1===e?t<=i:2===e?t>i:3===e?t>=i:void 0}},{key:"__absoluteAdd",value:function(t,i,e){if(t.length<i.length)return l.__absoluteAdd(i,t,e);if(0===t.length)return t;if(0===i.length)return t.sign===e?t:l.unaryMinus(t);var n=t.length;(0===t.__clzmsd()||i.length===t.length&&0===i.__clzmsd())&&n++;for(var r=new l(n,e),o=0,u=0;u<i.length;u++){var _=i.__digit(u),a=t.__digit(u),s=(65535&a)+(65535&_)+o,f=(a>>>16)+(_>>>16)+(s>>>16);o=f>>>16,r.__setDigit(u,65535&s|f<<16)}for(;u<t.length;u++){var g=t.__digit(u),h=(65535&g)+o,c=(g>>>16)+(h>>>16);o=c>>>16,r.__setDigit(u,65535&h|c<<16)}return u<r.length&&r.__setDigit(u,o),r.__trim()}},{key:"__absoluteSub",value:function(t,i,e){if(0===t.length)return t;if(0===i.length)return t.sign===e?t:l.unaryMinus(t);for(var n=new l(t.length,e),r=0,o=0;o<i.length;o++){var u=t.__digit(o),_=i.__digit(o),a=(65535&u)-(65535&_)-r,s=(u>>>16)-(_>>>16)-(r=1&a>>>16);r=1&s>>>16,n.__setDigit(o,65535&a|s<<16)}for(;o<t.length;o++){var f=t.__digit(o),g=(65535&f)-r,h=(f>>>16)-(r=1&g>>>16);r=1&h>>>16,n.__setDigit(o,65535&g|h<<16)}return n.__trim()}},{key:"__absoluteAddOne",value:function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length;null===e?e=new l(n,i):e.sign=i;for(var r=!0,o=0;o<n;o++){var u=t.__digit(o),_=-1===u;r&&(u=0|u+1),r=_,e.__setDigit(o,u)}return r&&e.__setDigitGrow(n,1),e}},{key:"__absoluteSubOne",value:function(t,i){for(var e=t.length,n=new l(i=i||e,!1),r=!0,o=0;o<e;o++){var u=t.__digit(o),_=0===u;r&&(u=0|u-1),r=_,n.__setDigit(o,u)}for(var a=e;a<i;a++)n.__setDigit(a,0);return n}},{key:"__absoluteAnd",value:function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,r=i.length,o=r;if(n<r){o=n;var u=t,_=n;t=i,n=r,i=u,r=_}var a=o;null===e?e=new l(a,!1):a=e.length;for(var s=0;s<o;s++)e.__setDigit(s,t.__digit(s)&i.__digit(s));for(;s<a;s++)e.__setDigit(s,0);return e}},{key:"__absoluteAndNot",value:function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,r=i.length,o=r;n<r&&(o=n);var u=n;null===e?e=new l(u,!1):u=e.length;for(var _=0;_<o;_++)e.__setDigit(_,t.__digit(_)&~i.__digit(_));for(;_<n;_++)e.__setDigit(_,t.__digit(_));for(;_<u;_++)e.__setDigit(_,0);return e}},{key:"__absoluteOr",value:function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,r=i.length,o=r;if(n<r){o=n;var u=t,_=n;t=i,n=r,i=u,r=_}var a=n;null===e?e=new l(a,!1):a=e.length;for(var s=0;s<o;s++)e.__setDigit(s,t.__digit(s)|i.__digit(s));for(;s<n;s++)e.__setDigit(s,t.__digit(s));for(;s<a;s++)e.__setDigit(s,0);return e}},{key:"__absoluteXor",value:function(t,i){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=t.length,r=i.length,o=r;if(n<r){o=n;var u=t,_=n;t=i,n=r,i=u,r=_}var a=n;null===e?e=new l(a,!1):a=e.length;for(var s=0;s<o;s++)e.__setDigit(s,t.__digit(s)^i.__digit(s));for(;s<n;s++)e.__setDigit(s,t.__digit(s));for(;s<a;s++)e.__setDigit(s,0);return e}},{key:"__absoluteCompare",value:function(t,i){var e=t.length-i.length;if(0!=e)return e;for(var n=t.length-1;0<=n&&t.__digit(n)===i.__digit(n);)n--;return 0>n?0:t.__unsignedDigit(n)>i.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(t,i,e,n){if(0!==i){for(var r=65535&i,o=i>>>16,u=0,a=0,s=0,l=0;l<t.length;l++,n++){var f=e.__digit(n),g=65535&f,h=f>>>16,c=t.__digit(l),v=65535&c,d=c>>>16,p=_(v,r),b=_(v,o),m=_(d,r),y=_(d,o);u=(a=(b>>>16)+(m>>>16)+(65535&y)+(u=(h+=s+u+((g+=a+(65535&p))>>>16)+(p>>>16)+(65535&b)+(65535&m))>>>16))>>>16,a&=65535,s=y>>>16,f=65535&g|h<<16,e.__setDigit(n,f)}for(;0!==u||0!==a||0!==s;n++){var w=e.__digit(n),k=(65535&w)+a,D=(w>>>16)+(k>>>16)+s+u;a=0,s=0,u=D>>>16,w=65535&k|D<<16,e.__setDigit(n,w)}}}},{key:"__internalMultiplyAdd",value:function(t,i,e,n,r){for(var o=e,u=0,a=0;a<n;a++){var s=t.__digit(a),l=_(65535&s,i),f=(65535&l)+u+o;o=f>>>16;var g=_(s>>>16,i),h=(65535&g)+(l>>>16)+o;o=h>>>16,u=g>>>16,r.__setDigit(a,h<<16|65535&f)}if(r.length>n)for(r.__setDigit(n++,o+u);n<r.length;)r.__setDigit(n++,0);else if(0!==o+u)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(t,i,e){null===e&&(e=new l(t.length,!1));for(var n=0,r=2*t.length-1;0<=r;r-=2){var o=(n<<16|t.__halfDigit(r))>>>0,u=0|o/i,_=0|(o=((n=0|o%i)<<16|t.__halfDigit(r-1))>>>0)/i;n=0|o%i,e.__setDigit(r>>>1,u<<16|_)}return e}},{key:"__absoluteModSmall",value:function(t,i){for(var e,n=0,r=2*t.length-1;0<=r;r--)e=(n<<16|t.__halfDigit(r))>>>0,n=0|e%i;return n}},{key:"__absoluteDivLarge",value:function(t,i,e,n){var r=i.__halfDigitLength(),o=i.length,u=t.__halfDigitLength()-r,a=null;e&&(a=new l(u+2>>>1,!1)).__initializeDigits();var s=new l(r+2>>>1,!1);s.__initializeDigits();var f=l.__clz16(i.__halfDigit(r-1));0<f&&(i=l.__specialLeftShift(i,f,0));for(var g=l.__specialLeftShift(t,f,1),h=i.__halfDigit(r-1),c=0,v=u;0<=v;v--){var d=65535,p=g.__halfDigit(v+r);if(p!==h){var b=(p<<16|g.__halfDigit(v+r-1))>>>0;d=0|b/h;for(var m=0|b%h,y=i.__halfDigit(r-2),w=g.__halfDigit(v+r-2);_(d,y)>>>0>(m<<16|w)>>>0&&(d--,!(65535<(m+=h))););}l.__internalMultiplyAdd(i,d,0,o,s);var k=g.__inplaceSub(s,v,r+1);0!==k&&(k=g.__inplaceAdd(i,v,r),g.__setHalfDigit(v+r,g.__halfDigit(v+r)+k),d--),e&&(1&v?c=d<<16:a.__setDigit(v>>>1,c|d))}return n?(g.__inplaceRightShift(f),e?{quotient:a,remainder:g}:g):e?a:void 0}},{key:"__clz16",value:function(t){return s(t)-16}},{key:"__specialLeftShift",value:function(t,i,e){var n=t.length,r=new l(n+e,!1);if(0===i){for(var o=0;o<n;o++)r.__setDigit(o,t.__digit(o));return 0<e&&r.__setDigit(n,0),r}for(var u,_=0,a=0;a<n;a++)u=t.__digit(a),r.__setDigit(a,u<<i|_),_=u>>>32-i;return 0<e&&r.__setDigit(n,_),r}},{key:"__leftShiftByAbsolute",value:function(t,i){var e=l.__toShiftAmount(i);if(0>e)throw new RangeError("BigInt too big");var n=e>>>5,r=31&e,o=t.length,u=0!==r&&0!=t.__digit(o-1)>>>32-r,_=o+n+(u?1:0),a=new l(_,t.sign);if(0===r){for(var s=0;s<n;s++)a.__setDigit(s,0);for(;s<_;s++)a.__setDigit(s,t.__digit(s-n))}else{for(var f=0,g=0;g<n;g++)a.__setDigit(g,0);for(var h,c=0;c<o;c++)h=t.__digit(c),a.__setDigit(c+n,h<<r|f),f=h>>>32-r;if(u)a.__setDigit(o+n,f);else if(0!==f)throw new Error("implementation bug")}return a.__trim()}},{key:"__rightShiftByAbsolute",value:function(t,i){var e=t.length,n=t.sign,r=l.__toShiftAmount(i);if(0>r)return l.__rightShiftByMaximum(n);var o=r>>>5,u=31&r,_=e-o;if(0>=_)return l.__rightShiftByMaximum(n);var a=!1;if(n)if(0!=(t.__digit(o)&(1<<u)-1))a=!0;else for(var s=0;s<o;s++)if(0!==t.__digit(s)){a=!0;break}if(a&&0===u){var f=t.__digit(e-1);0==~f&&_++}var g=new l(_,n);if(0===u)for(var h=o;h<e;h++)g.__setDigit(h-o,t.__digit(h));else{for(var c,v=t.__digit(o)>>>u,d=e-o-1,p=0;p<d;p++)c=t.__digit(p+o+1),g.__setDigit(p,c<<32-u|v),v=c>>>u;g.__setDigit(d,v)}return a&&(g=l.__absoluteAddOne(g,!0,g)),g.__trim()}},{key:"__rightShiftByMaximum",value:function(t){return t?l.__oneDigit(1,!0):l.__zero()}},{key:"__toShiftAmount",value:function(t){if(1<t.length)return-1;var i=t.__unsignedDigit(0);return i>l.__kMaxLengthBits?-1:i}},{key:"__toPrimitive",value:function(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==t(i))return i;if(i.constructor===l)return i;var n=i[Symbol.toPrimitive];if(n){var r=n(e);if("object"!==t(r))return r;throw new TypeError("Cannot convert object to primitive value")}var o=i.valueOf;if(o){var u=o.call(i);if("object"!==t(u))return u}var _=i.toString;if(_){var a=_.call(i);if("object"!==t(a))return a}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(t){return l.__isBigInt(t)?t:+t}},{key:"__isBigInt",value:function(i){return"object"===t(i)&&i.constructor===l}},{key:"__digitPow",value:function(t,i){for(var e=1;0<i;)1&i&&(e*=t),i>>>=1,t*=t;return e}}]),l}(_(Array));return s.__kMaxLength=33554432,s.__kMaxLengthBits=s.__kMaxLength<<5,s.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],s.__kBitsPerCharTableShift=5,s.__kBitsPerCharTableMultiplier=1<<s.__kBitsPerCharTableShift,s.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],s.__kBitConversionBuffer=new ArrayBuffer(8),s.__kBitConversionDouble=new Float64Array(s.__kBitConversionBuffer),s.__kBitConversionInts=new Int32Array(s.__kBitConversionBuffer),s}()}),u=function(t){return t instanceof o};function _(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?{num:o.BigInt,toNum:o.toNumber,toBigInt:function(t){return t},toString:function(t,i){return t.toString(i)},add:o.add,sub:o.subtract,mult:o.multiply,div:o.divide,rem:o.remainder,exp:o.exponentiate,neg:o.unaryMinus,inc:function(t){return o.add(t,o.BigInt(1))},dec:function(t){return o.subtract(t,o.BigInt(1))},bitNeg:o.bitwiseNot,bitAnd:o.bitwiseAnd,bitOr:o.bitwiseOr,bitXor:o.bitwiseXor,shiftLeft:o.leftShift,shiftRight:o.signedRightShift,eq:o.equal,lt:o.lessThan,leq:o.lessThanOrEqual,gt:o.greaterThan,geq:o.greaterThanOrEqual}:{num:function(t){return t},toNum:Number,toBigInt:o.BigInt,toString:function(t,i){return t.toString(i)},add:function(t,i){return t+i},sub:function(t,i){return t-i},mult:function(t,i){return t*i},div:function(t,i){return Math.floor(t/i)},rem:function(t,i){return t%i},exp:function(t,i){return Math.pow(t,i)},neg:function(t){return-t},inc:function(t){return t+1},dec:function(t){return t-1},bitNeg:function(t){return~t},bitAnd:function(t,i){return t&i},bitOr:function(t,i){return t|i},bitXor:function(t,i){return t^i},shiftLeft:function(t,i){return t<<i},shiftRight:function(t,i){return t>>i},eq:function(t,i){return t===i},lt:function(t,i){return t<i},leq:function(t,i){return t<=i},gt:function(t,i){return t>i},geq:function(t,i){return t>=i}}}var a=_(!1),s=_(!0),l=function(){function t(e,n){var o=this;i(this,t),r(this,"version",function(){return o.isV4?4:6}),r(this,"isIPv4",function(){return o.isV4}),r(this,"toNum",function(){return o.num}),r(this,"addIp",function(i){return new t(o.op.add(o.toNum(),i.toNum()))}),r(this,"subIp",function(i){return new t(o.op.sub(o.toNum(),i.toNum()))});var _=void 0===n;if(!_&&(this.isV4=!!n),e instanceof t)_&&(this.isV4=e.isIPv4()),this.num=e.toNum();else if("number"==typeof e)_&&(this.isV4=e<Math.pow(2,32)),this.num=e;else if(u(e))_&&(this.isV4=s.lt(e,Math.pow(2,32))),this.num=e;else{var l=-1===e.indexOf(":"),f=l?a:s,g=f.num(0),h=l?24:112,c=Math.pow(2,l?8:16)-1,v=l?0:(e.split("::")[1]||"").split(":").length,d=e.split(l?".":":");if(d.length>(l?4:16))throw new Error("Failed to parse ".concat(e,": too many octets."));d.forEach(function(t){if(!t.length)return h=(v-1)*(l?4:16);var i=parseInt(t,l?10:16);if(isNaN(i))throw new Error('Unable to parse address portion "'.concat(t,'" from ').concat(e));if(i<0||i>c)throw new Error('Octet "'.concat(t,'" outside bounds in ').concat(e));g=f.add(g,f.mult(f.num(i),f.num(Math.pow(2,h)))),h-=l?8:16}),_&&(this.isV4=l),this.num=g}this.op=this.isV4?a:s,this.num=(u(this.num)?s:a)[this.isV4?"toNum":"toBigInt"](this.num)}return n(t,[{key:"toString",value:function(){for(var t=this.op,i=t.num(Math.pow(2,this.isV4?8:16)),e=this.num,n=t.toString(t.rem(e,i),this.isV4?10:16),r=1;r<(this.isV4?4:8);r++)e=t.div(e,i),n="".concat(t.toString(t.rem(e,i),this.isV4?10:16)).concat(this.isV4?".":":").concat(n);return this.isV4?n:function(t){for(var i=t.split(/:/),e="",n=0;n<i.length;n++){var r=i[n].replace(/^0+/,"");r||(r=0),e+="".concat(r,":")}(e=(e=(e=(e=e.replace(/(:0)+/,":")).replace(/^0/,"")).replace(/:0$/,":")).substr(0,e.length-1)).match(/::/)||e.match(/:$/)&&(e+=":");return e}(n)}},{key:"toBin",value:function(){for(var t=this.op.toString(this.num,2);t.length<(this.isV4?32:128);)t="0".concat(t);return t}},{key:"compare2Ip",value:function(t){var i,e,n=this.op;return this.version()!==t.version()?null:(i=this.toNum(),e=t.toNum(),n.eq(i,e)?0:n.lt(i,e)?-1:1)}}]),t}(),f=function(){function t(e,n,o){var u=this;if(i(this,t),r(this,"isIPv4",function(){return u.ip.isIPv4()}),r(this,"toString",function(){return"".concat(u.ip.toString(),"/").concat(u.cidr)}),r(this,"getCidr",function(){return u.cidr}),r(this,"firstIp",function(){return u.ip}),r(this,"lastIp",function(){return new l(u.op.sub(u.op.add(u.ip.toNum(),u.countIps()),u.op.num(1)),u.isIPv4())}),r(this,"toRange",function(){return new g(u.firstIp(),u.lastIp(),u.isIPv4())}),void 0!==n)this.ip=new l(e,o),this.cidr=n;else{var _=e.split("/");this.ip=new l(_[0],o),this.cidr=_.length>1?+_[1]:this.ip.isIPv4()?32:128}if(isNaN(this.cidr))throw new Error("Invalid numeric CIDR in prefix ".concat(e));if(this.cidr<0||this.cidr>(this.ip.isIPv4()?32:128))throw new Error("Cidr /".concat(this.cidr," outside bounds in prefix ").concat(e));this.op=this.ip.op}return n(t,[{key:"countIps",value:function(){var t=this.op;return t.exp(t.num(2),t.num((this.isIPv4()?32:128)-this.cidr))}},{key:"correctBitBoundary",value:function(){var i=this.op,e=i.sub(i.exp(i.num(2),i.num((this.isIPv4()?32:128)-this.cidr)),i.num(1)),n=i.bitAnd(this.ip.toNum(),i.bitNeg(e));return new t(new l(n),this.cidr,this.isIPv4())}},{key:"slice",value:function(i){if(this.cidr>=i)return[this];for(var e=new l(1,this.isIPv4()),n=[],r=this.ip,o=0,u=Math.pow(2,i-this.cidr);o<u;o++){var _=new t(r,i,this.isIPv4());n.push(_),r=_.lastIp().addIp(e)}return n}}]),t}(),g=function(){function t(e,n,o){var u=this;if(i(this,t),r(this,"isIPv4",function(){return u.start.isIPv4()}),r(this,"toString",function(){return"".concat(u.start.toString()," - ").concat(u.end.toString())}),r(this,"countIps",function(){return u.op.add(u.op.sub(u.end.toNum(),u.start.toNum()),u.op.num(1))}),r(this,"firstIp",function(){return u.start}),r(this,"lastIp",function(){return u.end}),this.start=new l(e,o),this.end=new l(n,o),this.start.version()!==this.end.version())throw new Error("Range addresses have different families: ".concat(this.start.toString()," - ").concat(this.end.toString()));this.op=this.start.op}return n(t,[{key:"cidrCount",value:function(){return(this.isIPv4()?32:128)-Math.log(this.op.toNum(this.countIps()))/Math.log(2)}},{key:"toPrefixes",value:function(){for(var t=this.end,i=Math.ceil(this.cidrCount()),e=new l(0,this.isIPv4()),n=new l(1,this.isIPv4()),r=[],o=this.start;o.compare2Ip(t)<=0;){for(var u=i,_=new f(o,u,this.isIPv4());0!==_.correctBitBoundary().firstIp().compare2Ip(o)||_.lastIp().compare2Ip(t)>0;)_=new f(o,++u,this.isIPv4());if(r.push(_),0===(o=_.lastIp().addIp(n)).compare2Ip(e))break}return r}},{key:"toEncompassingPrefix",value:function(){for(var t=this.start,i=this.end,e=Math.floor(this.cidrCount()),n=new f(t,e,this.isIPv4()).correctBitBoundary();n.lastIp().compare2Ip(i)<0;)n=new f(t,--e,this.isIPv4()).correctBitBoundary();return n}},{key:"ipRelPosition",value:function(t,i){var e=this.op;if(i||(i=!1),t.isIPv4()!==this.isIPv4())return null;var n,r,o,u=t.toNum(),_=this.start.toNum(),a=this.end.toNum();return n=e.add(u,e.num(i?1:0)),r=_,o=a,e.toNum(e.sub(n,r))/(e.toNum(e.sub(o,r))+1)}},{key:"ipAtPerc",value:function(t){var i=this.op;return new l(function(t,e,n){return i.add(e,i.num(Math.round(i.toNum(i.sub(n,e))*(t/100))))}(t,this.start.toNum(),i.add(this.end.toNum(),i.num(1))),this.isIPv4())}},{key:"overlapPerc",value:function(t){return[100*this.ipRelPosition(t.firstIp()),100*this.ipRelPosition(t.lastIp(),!0)]}},{key:"getNeighborPrefixes",value:function(){var t=this.cidrCount(),i=0===Math.ceil(t),e=Math.floor(t)===(this.isIPv4()?32:128),n=-1===this.firstIp().toBin().indexOf("1"),r=-1===this.lastIp().toBin().indexOf("0"),o={up:null,left:null,right:null,downleft:null,downright:null};if(!i){var u=Math.ceil(t)-1;o.up=new f(this.firstIp(),u,this.isIPv4()).correctBitBoundary()}var _=Math.ceil(t),a=new l(1,this.isIPv4());if(n||(o.left=new f(this.firstIp().subIp(a),_,this.isIPv4()).correctBitBoundary()),r||(o.right=new f(this.lastIp().addIp(a),_,this.isIPv4()).correctBitBoundary()),!e){var s=Math.min(this.isIPv4()?32:128,Math.floor(t)+1);o.downleft=new f(this.firstIp(),s,this.isIPv4()).correctBitBoundary(),o.downright=new f(this.lastIp(),s,this.isIPv4()).correctBitBoundary()}return o}}]),t}();t.Addr=l,t.Prefix=f,t.Range=g,Object.defineProperty(t,"__esModule",{value:!0})});