{"version":3,"file":"c8y-ngx-components-tenants.js","sources":["../../tenants/tenant-list/tenant-list.guard.ts","../../tenants/tenants.model.ts","../../tenants/tenants-navigation.factory.ts","../../tenants/tenant-list/status.filtering-form-renderer.component.ts","../../tenants/tenant-list/creation-time.filtering-form-renderer.component.ts","../../tenants/tenant-list/tenant-list.component.ts","../../tenants/tenants.module.ts","../../tenants/c8y-ngx-components-tenants.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\nimport { TenantUiService } from '@c8y/ngx-components';\n\n@Injectable()\nexport class TenantListGuard implements CanActivate {\n  private active: boolean;\n\n  constructor(private tenantUiService: TenantUiService) {}\n\n  /**\n   * Checks if tenant list should be active,\n   * i.e. whether the current tenant can read other tenants.\n   * **Note: the check is executed only once in the runtime.**\n   *\n   * @returns True, if the feature should be active.\n   */\n  canActivate(): boolean {\n    if (this.active === undefined) {\n      this.active = this.tenantUiService.canReadTenants();\n    }\n    return this.active;\n  }\n}\n","import { InjectionToken } from '@angular/core';\nimport { NavigatorNode } from '@c8y/ngx-components';\n\nexport const TENANTS_MODULE_CONFIG = new InjectionToken<TenantsModuleConfig>('TenantsModuleConfig');\n\n/**\n * Configuration object for `TenantsModule`.\n */\nexport interface TenantsModuleConfig {\n  /**\n   * Allows for hiding or customizing \"Subtenants\" navigator node:\n   * - `subtenantsNavigatorNode: true` - shows the default navigator node (default),\n   * - `subtenantsNavigatorNode: false` - hides the navigator node,\n   * - `subtenantsNavigatorNode: { label: 'My subtenants' }` - overrides default navigator node,\n   * - `subtenantsNavigatorNode: new NavigatorNode({ label: 'My subtenants' })` - overrides default navigator node.\n   */\n   subtenantsNavigatorNode?: boolean | Partial<NavigatorNode>;\n}\n","import { Inject, Injectable, Optional } from '@angular/core';\nimport { gettext, NavigatorNode, NavigatorNodeFactory } from '@c8y/ngx-components';\nimport { TenantListGuard } from './tenant-list/tenant-list.guard';\nimport { TenantsModuleConfig, TENANTS_MODULE_CONFIG } from './tenants.model';\n\n@Injectable()\nexport class TenantsNavigationFactory implements NavigatorNodeFactory {\n  private navs: NavigatorNode[] = [];\n\n  constructor(\n    private tenantListGuard: TenantListGuard,\n    @Optional() @Inject(TENANTS_MODULE_CONFIG) private config: TenantsModuleConfig\n  ) {}\n\n  async get(): Promise<NavigatorNode[]> {\n    const canActivateTenantList = await this.tenantListGuard.canActivate();\n    if (!this.navs.length) {\n      const subtenantsNavigatorNode = this.config?.subtenantsNavigatorNode ?? true;\n      if (subtenantsNavigatorNode !== false) {\n        this.navs.push(\n          new NavigatorNode({\n            parent: gettext('Tenants'),\n            label: gettext('Subtenants'),\n            icon: 'c8y-sub-tenants',\n            path: 'tenants',\n            routerLinkExact: false,\n            priority: 4000,\n            hidden: !canActivateTenantList,\n            ...(subtenantsNavigatorNode === true ? {} : subtenantsNavigatorNode)\n          })\n        );\n      }\n    }\n    return this.navs;\n  }\n}\n","import { Component } from '@angular/core';\nimport { ITenant, TenantStatus } from '@c8y/client';\nimport { FilteringFormRendererContext } from '@c8y/ngx-components';\n\n@Component({\n  templateUrl: './status.filtering-form-renderer.component.html'\n})\nexport class StatusFilteringFormRendererComponent {\n  model: {\n    active: boolean;\n    suspended: boolean;\n  };\n\n  constructor(public context: FilteringFormRendererContext) {\n    this.model = (this.context.property.externalFilterQuery || {}).model || {};\n  }\n\n  applyFilter() {\n    this.context.applyFilter({\n      externalFilterQuery: {\n        model: this.model\n      },\n      filterPredicate: (tenant: ITenant) =>\n        Boolean(\n          (!this.model.active && !this.model.suspended) ||\n            (this.model.active && tenant.status === TenantStatus.ACTIVE) ||\n            (this.model.suspended && tenant.status === TenantStatus.SUSPENDED)\n        )\n    });\n  }\n\n  resetFilter() {\n    this.context.resetFilter();\n  }\n}\n","import { Component } from '@angular/core';\nimport { ITenant } from '@c8y/client';\nimport { FilteringFormRendererContext } from '@c8y/ngx-components';\n\n@Component({\n  templateUrl: './creation-time.filtering-form-renderer.component.html'\n})\nexport class CreationTimeFilteringFormRendererComponent {\n  model: {\n    dateFrom: Date;\n    dateTo: Date;\n  };\n\n  constructor(public context: FilteringFormRendererContext) {\n    this.model = (this.context.property.externalFilterQuery || {}).model || {};\n  }\n\n  applyFilter() {\n    this.context.applyFilter({\n      externalFilterQuery: {\n        model: this.model\n      },\n      filterPredicate: (tenant: ITenant) => {\n        const creationTime = new Date(tenant.creationTime);\n        let dateFrom;\n        let dateTo;\n\n        if (this.model.dateFrom) {\n          dateFrom = this.model.dateFrom;\n          dateFrom.setHours(0, 0, 0, 0);\n        }\n\n        if (this.model.dateTo) {\n          dateTo = this.model.dateTo;\n          dateTo.setHours(23, 59, 59, 999);\n        }\n\n        return Boolean(\n          (!dateFrom && !dateTo) ||\n            (dateFrom && !dateTo && dateFrom <= creationTime) ||\n            (!dateFrom && dateTo && creationTime <= dateTo) ||\n            (dateFrom && dateTo && dateFrom <= creationTime && creationTime <= dateTo)\n        );\n      }\n    });\n  }\n\n  resetFilter() {\n    this.context.resetFilter();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Location } from '@angular/common';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BehaviorSubject, from } from 'rxjs';\nimport { expand, reduce, shareReplay, takeWhile } from 'rxjs/operators';\nimport { saveAs } from 'file-saver';\n\nimport { ICurrentTenant, IResultList, ITenant, TenantService, TenantStatus, UserService } from '@c8y/client';\nimport {\n  ActionControl,\n  AlertService,\n  AppStateService,\n  BuiltInActionType,\n  Column,\n  SortOrder,\n  DisplayOptions,\n  gettext,\n  ModalService,\n  Pagination,\n  Status,\n  TenantUiService,\n  PasswordService\n} from '@c8y/ngx-components';\n\nimport { StatusFilteringFormRendererComponent } from './status.filtering-form-renderer.component';\nimport { CreationTimeFilteringFormRendererComponent } from './creation-time.filtering-form-renderer.component';\n\n@Component({\n  selector: 'c8y-tenant-list',\n  templateUrl: './tenant-list.component.html'\n})\nexport class TenantListComponent implements OnInit {\n  tenants$: BehaviorSubject<ITenant[]> = new BehaviorSubject(undefined);\n  currentTenant: ICurrentTenant;\n  isManagementTenant: boolean;\n  TOP_TENANT_NAME: string = 'management';\n\n  title: string = null;\n  loadMoreItemsLabel: string = gettext('Load more tenants');\n  loadingItemsLabel: string = gettext('Loading tenants…');\n\n  displayOptions: DisplayOptions = {\n    bordered: false,\n    striped: true,\n    filter: true,\n    gridHeader: true\n  };\n\n  columns: Column[] = this.getColumns();\n  pagination: Pagination = this.getPagination();\n  showSearch: boolean = true;\n  actionControls: ActionControl[] = this.getActionControls();\n\n  TenantStatus = TenantStatus;\n\n  constructor(\n    public appState: AppStateService,\n    private alertService: AlertService,\n    private modalService: ModalService,\n    private translateService: TranslateService,\n    private tenantService: TenantService,\n    private tenantUiService: TenantUiService,\n    private location: Location,\n    private passwordService: PasswordService,\n    private userService: UserService\n  ) {}\n\n  async ngOnInit() {\n    this.currentTenant = this.appState.currentTenant.value;\n    this.isManagementTenant = await this.tenantUiService.isManagementTenant();\n    this.loadTenants();\n  }\n\n  loadTenants() {\n    this.tenants$.next(undefined);\n    from(this.tenantService.list({ pageSize: 2000, withTotalPages: true, withApps: false }))\n      .pipe(\n        expand(resultList => resultList.paging.nextPage !== null && resultList.paging.next()),\n        takeWhile(resultList => resultList.paging.nextPage !== null, true),\n        reduce(\n          (tenants: ITenant[], resultList: IResultList<ITenant>) => [\n            ...tenants,\n            ...resultList.data\n          ],\n          []\n        ),\n        shareReplay(1)\n      )\n      .subscribe(tenants => this.tenants$.next(tenants));\n  }\n\n  getColumns(): Column[] {\n    return [\n      {\n        name: 'company',\n        header: gettext('Tenant'),\n        path: 'company',\n        filterable: true,\n        sortable: true,\n        sortOrder: 'asc' as SortOrder\n      },\n      {\n        name: 'id',\n        header: gettext('ID'),\n        path: 'id',\n        filterable: true,\n        sortable: true\n      },\n      {\n        name: 'domain',\n        header: gettext('Domain'),\n        path: 'domain',\n        filterable: true,\n        sortable: true\n      },\n      {\n        name: 'parent',\n        header: gettext('Parent tenant'),\n        path: 'parent',\n        filterable: true,\n        sortable: true\n      },\n      {\n        name: 'contactName',\n        header: gettext('Contact name'),\n        path: 'contactName',\n        filterable: true,\n        sortable: true\n      },\n      {\n        name: 'creationTime',\n        header: gettext('Created'),\n        path: 'creationTime',\n        filterable: true,\n        filteringFormRendererComponent: CreationTimeFilteringFormRendererComponent,\n        sortable: true\n      },\n      {\n        name: 'externalReference',\n        header: gettext('External reference'),\n        path: 'customProperties.externalReference',\n        filterable: true,\n        sortable: true\n      },\n      {\n        name: 'status',\n        header: gettext('Status'),\n        path: 'status',\n        filterable: true,\n        filteringFormRendererComponent: StatusFilteringFormRendererComponent,\n        sortable: true\n      }\n    ];\n  }\n\n  getPagination(): Pagination {\n    return {\n      pageSize: 10,\n      currentPage: 1\n    };\n  }\n\n  getActionControls(): ActionControl[] {\n    return [\n      {\n        type: BuiltInActionType.Edit,\n        text: gettext('Edit`tenant`'),\n        callback: tenant => this.goToDetails(tenant)\n      },\n      {\n        type: 'activateTenantAction',\n        icon: 'power-off',\n        text: gettext('Activate`tenant`'),\n        callback: (tenant: ITenant) => this.activateTenant(tenant),\n        showIf: (tenant: ITenant) => this.isSuspended(tenant)\n      },\n      {\n        type: 'suspendTenantAction',\n        icon: 'power-off',\n        text: gettext('Suspend`tenant`'),\n        callback: (tenant: ITenant) => this.suspendTenant(tenant),\n        showIf: (tenant: ITenant) => this.isActive(tenant)\n      },\n      {\n        type: BuiltInActionType.Delete,\n        text: gettext('Delete`tenant`'),\n        callback: tenant => this.delete(tenant),\n        showIf: () => this.isManagementTenant\n      }\n    ];\n  }\n\n  createTenant() {\n    this.location.go('/tenants/new');\n  }\n\n  goToDetails(tenant: ITenant) {\n    this.location.go(`/tenants/${tenant.id}`);\n  }\n\n  async activateTenant(tenant) {\n    try {\n      const { data: savedTenant } = await this.tenantService.update({\n        id: tenant.id,\n        status: TenantStatus.ACTIVE\n      });\n      Object.assign(tenant, savedTenant);\n      this.alertService.success(gettext('Tenant activated.'));\n    } catch (ex) {\n      if (ex) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n  }\n\n  async suspendTenant(tenant) {\n    const title = gettext('Suspend tenant');\n    const confirmationText = gettext(\n      'You are about to suspend tenant \"{{ company }}\" (ID \"{{ id }}\").'\n    );\n    const proceed = gettext('Do you want to proceed?');\n    const body = [\n      this.translateService.instant(confirmationText, {\n        company: tenant.company,\n        id: tenant.id\n      }),\n      this.translateService.instant(proceed)\n    ].join(' ');\n    const labels = {\n      ok: gettext('Suspend`tenant`')\n    };\n    try {\n      await this.modalService.confirm(title, body, Status.DANGER, labels);\n      const confirmed = await this.passwordService.confirmPassword().toPromise();\n      if (confirmed === true) {\n        const { data: savedTenant } = await this.tenantService.update({\n          id: tenant.id,\n          status: TenantStatus.SUSPENDED\n        });\n        Object.assign(tenant, savedTenant);\n        this.alertService.success(gettext('Tenant suspended.'));\n      }\n    } catch (ex) {\n      if (ex) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n  }\n\n  async delete(tenant) {\n    const title = gettext('Delete tenant');\n    const confirmationText = gettext(\n      'You are about to delete tenant \"{{ company }}\" (ID \"{{ id }}\").'\n    );\n    const hint = gettext('This operation is irreversible.');\n    const proceed = gettext('Do you want to proceed?');\n    const body = [\n      this.translateService.instant(confirmationText, {\n        company: tenant.company,\n        id: tenant.id\n      }),\n      this.translateService.instant(hint),\n      this.translateService.instant(proceed)\n    ].join(' ');\n    const labels = {\n      ok: gettext('Delete`tenant`')\n    };\n    try {\n      await this.modalService.confirm(title, body, Status.DANGER, labels);\n      const confirmed = await this.passwordService.confirmPassword().toPromise();\n      if (confirmed === true) {\n        await this.tenantService.delete(tenant);\n        const tenantsWithoutRemovedOne = this.tenants$.value.filter(t => t !== tenant);\n        this.tenants$.next(tenantsWithoutRemovedOne);\n        this.alertService.success(\n          gettext('Tenant is being deleted in the background. This might take a while…')\n        );\n      }\n    } catch (ex) {\n      if (ex) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n  }\n\n  isActive(tenant: ITenant) {\n    return tenant.status === TenantStatus.ACTIVE;\n  }\n\n  isSuspended(tenant: ITenant) {\n    return tenant.status === TenantStatus.SUSPENDED;\n  }\n\n  async downloadNewsletterEmails() {\n    const { res, data } = await this.userService.getNewsletterEmails();\n    const contentType = res.headers.get('content-type');\n    const contentDisposition = res.headers.get('content-disposition');\n    const filename = /filename=\"(.*)\"/.exec(contentDisposition)[1];\n    const blob = new Blob([data], { type: contentType });\n    saveAs(blob, filename);\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\n\nimport { CoreModule, HOOK_NAVIGATOR_NODES, HOOK_ROUTE, Route } from '@c8y/ngx-components';\nimport { TenantsNavigationFactory } from './tenants-navigation.factory';\nimport { TenantListComponent } from './tenant-list/tenant-list.component';\nimport { CreationTimeFilteringFormRendererComponent } from './tenant-list/creation-time.filtering-form-renderer.component';\nimport { StatusFilteringFormRendererComponent } from './tenant-list/status.filtering-form-renderer.component';\nimport { TenantsModuleConfig, TENANTS_MODULE_CONFIG } from './tenants.model';\nimport { TenantListGuard } from './tenant-list/tenant-list.guard';\n\n@NgModule({\n  imports: [\n    RouterModule,\n    BsDatepickerModule,\n    CoreModule\n  ],\n  exports: [],\n  declarations: [\n    TenantListComponent,\n    CreationTimeFilteringFormRendererComponent,\n    StatusFilteringFormRendererComponent\n  ],\n  entryComponents: [\n    TenantListComponent,\n    CreationTimeFilteringFormRendererComponent,\n    StatusFilteringFormRendererComponent\n  ],\n  providers: [\n    TenantListGuard,\n    {\n      provide: HOOK_NAVIGATOR_NODES,\n      useClass: TenantsNavigationFactory,\n      multi: true\n    },\n    {\n      provide: HOOK_ROUTE,\n      useValue: [\n        {\n          path: 'tenants',\n          component: TenantListComponent,\n          canActivate: [TenantListGuard]\n        }\n      ] as Route[],\n      multi: true\n    }\n  ]\n})\nexport class TenantsModule {\n  static config(config: TenantsModuleConfig = {}): ModuleWithProviders<TenantsModule> {\n    return {\n      ngModule: TenantsModule,\n      providers: [\n        {\n          provide: TENANTS_MODULE_CONFIG,\n          useValue: config\n        }\n      ]\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}