{"__symbolic":"module","version":4,"metadata":{"DiagnosticsModule":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"NgModule","line":12,"character":1},"arguments":[{"imports":[{"__symbolic":"reference","module":"@c8y/ngx-components","name":"CoreModule","line":14,"character":4},{"__symbolic":"reference","module":"@angular/router","name":"RouterModule","line":15,"character":4},{"__symbolic":"reference","module":"@angular/common","name":"CommonModule","line":16,"character":4},{"__symbolic":"reference","module":"@c8y/ngx-components","name":"ListGroupModule","line":17,"character":4},{"__symbolic":"reference","module":"@c8y/ngx-components/repository","name":"RepositoryModule","line":18,"character":4},{"__symbolic":"reference","module":"ngx-bootstrap/dropdown","name":"BsDropdownModule","line":19,"character":4},{"__symbolic":"reference","module":"ngx-bootstrap/tooltip","name":"TooltipModule","line":20,"character":4}],"declarations":[{"__symbolic":"reference","name":"DiagnosticsComponent"}],"exports":[{"__symbolic":"reference","name":"DiagnosticsComponent"}],"providers":[{"__symbolic":"reference","name":"DiagnosticsService"},{"__symbolic":"reference","module":"ngx-bootstrap/dropdown","name":"BsDropdownConfig","line":26,"character":4},{"__symbolic":"reference","name":"DiagnosticsTabGuard"},{"provide":{"__symbolic":"reference","module":"@c8y/ngx-components","name":"HOOK_ROUTE","line":29,"character":15},"useValue":[{"context":{"__symbolic":"select","expression":{"__symbolic":"reference","module":"@c8y/ngx-components","name":"ViewContext","line":32,"character":19},"member":"Device"},"path":"diagnostics","component":{"__symbolic":"reference","name":"DiagnosticsComponent"},"label":{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@c8y/ngx-components","name":"gettext","line":35,"character":17},"arguments":["Diagnostics"]},"icon":"stethoscope","canActivate":[{"__symbolic":"reference","name":"DiagnosticsTabGuard"}],"priority":200}],"multi":true}]}]}],"members":{}},"DiagnosticsComponent":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Component","line":12,"character":1},"arguments":[{"selector":"c8y-diagnostics","template":"<c8y-action-bar-item [placement]=\"'right'\">\n  <button\n    title=\"{{ 'Request diagnostic file' | translate }}\"\n    class=\"btn btn-link\"\n    (click)=\"onDiagnosticRequest()\"\n  >\n    <i c8yIcon=\"stethoscope\"></i> <span translate>Request diagnostic file</span>\n  </button>\n</c8y-action-bar-item>\n\n<div\n  class=\"page-sticky-header hidden-xs c8y-list__item c8y-list--timeline\"\n  *ngIf=\"operationCount > 0\"\n>\n  <div class=\"d-flex\">\n    <div class=\"c8y-list--timeline__item__date flex-item-v-center\">\n      <label>{{ 'Date' | translate }}</label>\n    </div>\n    <div class=\"c8y-list__item__block flex-grow\">\n      <div class=\"c8y-list__item__icon\">\n        <i class=\"p-l-24\"></i>\n      </div>\n      <div class=\"c8y-list__item__body\">\n        <div class=\"content-flex-40\">\n          <div class=\"col-4\">{{ 'Event' | translate }}</div>\n          <div class=\"col-5 m-l-8\">{{ 'File' | translate }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<c8y-list-group>\n  <ng-template\n    c8yFor\n    let-operation\n    [c8yForOf]=\"operations$\"\n    [c8yForPipe]=\"operationsPipe\"\n    [c8yForRealtime]=\"operationRealtime\"\n    [c8yForRealtimeOptions]=\"realtimeOptions\"\n    (c8yForCount)=\"operationCount = $event\"\n  >\n    <c8y-li-timeline>\n      {{ operation.creationTime | c8yDate }}\n      <c8y-li>\n        <c8y-li-icon>\n          <i\n            [c8yIcon]=\"statusIcons[operation.status]\"\n            [ngClass]=\"statusClasses[operation.status]\"\n            [tooltip]=\"operation.status?.toString() | translate\"\n          ></i>\n        </c8y-li-icon>\n        <c8y-li-body class=\"content-flex-40\">\n          <div class=\"col-4\">\n            <p class=\"text-truncate-wrap\" title=\"{{ operation.description | translate }}\">\n              {{ operation.description | translate }}\n            </p>\n          </div>\n          <div class=\"col-5\" *ngIf=\"operation.c8y_DiagnosticReport?.file\">\n            <div class=\"text-truncate-wrap m-t-xs-8\">\n              <span class=\"text-label-small visible-xs\" translate> File </span>\n              <span title=\"{{ operation.c8y_DiagnosticReport.file }}\">\n                <c8y-file-download\n                  url=\"{{ operation.c8y_DiagnosticReport.file }}\"\n                ></c8y-file-download>\n              </span>\n            </div>\n          </div>\n        </c8y-li-body>\n        <c8y-li-action\n          (click)=\"onCancel(operation)\"\n          *ngIf=\"operation.status === 'PENDING'\"\n          icon=\"times\"\n          label=\"{{ 'Cancel' | translate }}\"\n        >\n        </c8y-li-action>\n        <c8y-li-action\n          (click)=\"onDelete(operation)\"\n          *ngIf=\"operation.status === 'SUCCESSFUL'\"\n          icon=\"trash\"\n          label=\"{{ 'Delete' | translate }}\"\n        >\n        </c8y-li-action>\n      </c8y-li>\n    </c8y-li-timeline>\n  </ng-template>\n</c8y-list-group>\n\n<!-- EMPTY STATE -->\n\n<div class=\"c8y-empty-state m-t-40\" *ngIf=\"operationCount === 0\">\n  <h1 class=\"c8y-icon\">\n    <i c8yIcon=\"stethoscope\"></i>\n  </h1>\n  <h3 translate>No diagnostic files available.</h3>\n</div>\n"}]}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@angular/router","name":"ActivatedRoute","line":33,"character":19},{"__symbolic":"reference","name":"DiagnosticsService"},{"__symbolic":"reference","module":"@c8y/ngx-components","name":"OperationRealtimeService","line":35,"character":30}]}],"onDiagnosticRequest":[{"__symbolic":"method"}],"onDelete":[{"__symbolic":"method"}],"onCancel":[{"__symbolic":"method"}]}},"DiagnosticsService":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":14,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","module":"@c8y/client","name":"OperationService","line":18,"character":30},{"__symbolic":"reference","module":"@c8y/client","name":"InventoryBinaryService","line":19,"character":29},{"__symbolic":"reference","module":"@c8y/ngx-components","name":"ModalService","line":20,"character":26},{"__symbolic":"reference","module":"@c8y/ngx-components","name":"AlertService","line":21,"character":26}]}],"isSupportedDevice":[{"__symbolic":"method"}],"getOperations$":[{"__symbolic":"method"}],"createOperation":[{"__symbolic":"method"}],"deleteOperation":[{"__symbolic":"method"}],"cancelOperation":[{"__symbolic":"method"}],"getOperation":[{"__symbolic":"method"}],"deleteDiagnosticsBinary":[{"__symbolic":"method"}],"deleteDiagnosticsFragment":[{"__symbolic":"method"}]}},"DiagnosticsTabGuard":{"__symbolic":"class","decorators":[{"__symbolic":"call","expression":{"__symbolic":"reference","module":"@angular/core","name":"Injectable","line":4,"character":1}}],"members":{"__ctor__":[{"__symbolic":"constructor","parameters":[{"__symbolic":"reference","name":"DiagnosticsService"}]}],"canActivate":[{"__symbolic":"method"}]}}},"origins":{"DiagnosticsModule":"./diagnostics.module","DiagnosticsComponent":"./diagnostics.component","DiagnosticsService":"./diagnostics.service","DiagnosticsTabGuard":"./diagnostics-tab.guard"},"importAs":"@c8y/ngx-components/diagnostics"}