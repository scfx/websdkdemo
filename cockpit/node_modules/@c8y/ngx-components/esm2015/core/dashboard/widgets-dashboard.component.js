import { Component, EventEmitter, Input, Output } from '@angular/core';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';
import * as ɵngcc2 from '../header/title/title.component';
import * as ɵngcc3 from '../breadcrumb/breadcrumb.component';
import * as ɵngcc4 from '../breadcrumb/breadcrumb-item.component';
import * as ɵngcc5 from '../action-bar/action-bar-item.component';
import * as ɵngcc6 from '../common/icon.directive';
import * as ɵngcc7 from '../i18n/c8y-translate.directive';
import * as ɵngcc8 from '../docs/guide-docs.component';
import * as ɵngcc9 from '../docs/guide-href.directive';
import * as ɵngcc10 from './dashboard.component';
import * as ɵngcc11 from './dashboard-child.component';
import * as ɵngcc12 from './dashboard-child-title.component';
import * as ɵngcc13 from './dashboard-child-action.component';
import * as ɵngcc14 from '../dynamic-component/dynamic-component.component';
import * as ɵngcc15 from '../i18n/c8y-translate.pipe';

function WidgetsDashboardComponent_c8y_title_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-title");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r0.settings.title), "\n");
} }
function WidgetsDashboardComponent_c8y_breadcrumb_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-breadcrumb");
    ɵngcc0.ɵɵelement(1, "c8y-breadcrumb-item", 7);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("icon", ctx_r1.breadcrumb.icon)("label", ctx_r1.breadcrumb.label)("path", ctx_r1.breadcrumb.path);
} }
function WidgetsDashboardComponent_c8y_action_bar_item_2_Template(rf, ctx) { if (rf & 1) {
    const _r11 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-action-bar-item", 8);
    ɵngcc0.ɵɵelementStart(1, "button", 9);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_c8y_action_bar_item_2_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r11); const ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.onAddWidget.emit(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 10);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("placement", "right");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 4, "Add widget"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r2.settings.isFrozen || ctx_r2.settings.isDisabled);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(5, 6, "Add widget"), " ");
} }
function WidgetsDashboardComponent_c8y_action_bar_item_3_Template(rf, ctx) { if (rf & 1) {
    const _r13 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-action-bar-item", 8);
    ɵngcc0.ɵɵelementStart(1, "button", 9);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_c8y_action_bar_item_3_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r13); const ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.onEditDashboard.emit(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 11);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r3 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("placement", "right");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 4, "Edit"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r3.settings.isFrozen || ctx_r3.settings.isDisabled);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(5, 6, "Edit"), " ");
} }
function WidgetsDashboardComponent_c8y_action_bar_item_4_Template(rf, ctx) { if (rf & 1) {
    const _r15 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-action-bar-item", 8);
    ɵngcc0.ɵɵelementStart(1, "button", 12);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_c8y_action_bar_item_4_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r15); const ctx_r14 = ɵngcc0.ɵɵnextContext(); return ctx_r14.toggleFullscreen(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 13);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("placement", "right");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 4, "Full screen"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("c8yIcon", ctx_r4.fullScreen() ? "compress" : "expand");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(5, 6, "Full screen"), " ");
} }
const _c0 = function (a0) { return { active: a0 }; };
function WidgetsDashboardComponent_c8y_action_bar_item_5_Template(rf, ctx) { if (rf & 1) {
    const _r17 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-action-bar-item", 14);
    ɵngcc0.ɵɵelementStart(1, "button", 15);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_c8y_action_bar_item_5_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r17); const ctx_r16 = ɵngcc0.ɵɵnextContext(); return ctx_r16.onFreeze.emit(ctx_r16.settings); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 13);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r5 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("placement", "right");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 5, "Lock/unlock this dashboard"));
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(7, _c0, ctx_r5.settings.isFrozen))("disabled", ctx_r5.settings.isDisabled);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("c8yIcon", ctx_r5.settings.isFrozen ? "lock" : "unlock");
} }
function WidgetsDashboardComponent_c8y_action_bar_item_6_Template(rf, ctx) { if (rf & 1) {
    const _r19 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-action-bar-item", 16);
    ɵngcc0.ɵɵelementStart(1, "button", 17);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_c8y_action_bar_item_6_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r19); const ctx_r18 = ɵngcc0.ɵɵnextContext(); return ctx_r18.onDeleteDashboard.emit(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 18);
    ɵngcc0.ɵɵelementStart(4, "span", 19);
    ɵngcc0.ɵɵtext(5, "Delete dashboard");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r6 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("placement", "more")("priority", -3000);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 4, "Delete dashboard"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r6.settings.isFrozen || ctx_r6.settings.isDisabled);
} }
function WidgetsDashboardComponent_div_7_div_4_Template(rf, ctx) { if (rf & 1) {
    const _r22 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "p", 22);
    ɵngcc0.ɵɵtext(2, "Add widgets to this dashboard.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(3, "div");
    ɵngcc0.ɵɵelementStart(4, "button", 23);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_div_7_div_4_Template_button_click_4_listener() { ɵngcc0.ɵɵrestoreView(_r22); const ctx_r21 = ɵngcc0.ɵɵnextContext(2); return ctx_r21.onAddWidget.emit(); });
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵtext(6, " Add widget ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(7, "p", 24);
    ɵngcc0.ɵɵelementStart(8, "small", 22);
    ɵngcc0.ɵɵdisableBindings();
    ɵngcc0.ɵɵtext(9, " Find out more in the ");
    ɵngcc0.ɵɵelementStart(10, "a", 25);
    ɵngcc0.ɵɵtext(11, " User guide`KEEP_ORIGINAL` ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtext(12, ". ");
    ɵngcc0.ɵɵenableBindings();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r20 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(5, 2, "Add widget"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r20.settings.isFrozen || ctx_r20.settings.isDisabled);
} }
function WidgetsDashboardComponent_div_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 20);
    ɵngcc0.ɵɵelement(1, "h1", 21);
    ɵngcc0.ɵɵelementStart(2, "h3", 22);
    ɵngcc0.ɵɵtext(3, "No widgets to display.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(4, WidgetsDashboardComponent_div_7_div_4_Template, 13, 4, "div", 0);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r7 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r7.settings.isFrozen && ctx_r7.onAddWidget.observers.length);
} }
function WidgetsDashboardComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 26);
    ɵngcc0.ɵɵelementStart(1, "div", 27);
    ɵngcc0.ɵɵelement(2, "div", 28);
    ɵngcc0.ɵɵelement(3, "div", 29);
    ɵngcc0.ɵɵelement(4, "div", 30);
    ɵngcc0.ɵɵelement(5, "div", 31);
    ɵngcc0.ɵɵelement(6, "div", 32);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} }
function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_span_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const widget_r25 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, widget_r25.title), " ");
} }
function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_span_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const widget_r25 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", widget_r25.title, " ");
} }
function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dashboard_child_action_5_Template(rf, ctx) { if (rf & 1) {
    const _r36 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-dashboard-child-action");
    ɵngcc0.ɵɵelementStart(1, "button", 39);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dashboard_child_action_5_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r36); const widget_r25 = ɵngcc0.ɵɵnextContext().$implicit; const _r26 = ɵngcc0.ɵɵreference(1); ɵngcc0.ɵɵnextContext(); const _r23 = ɵngcc0.ɵɵreference(1); const ctx_r34 = ɵngcc0.ɵɵnextContext(); return ctx_r34.onEditWidget.emit({ widget: widget_r25, source: _r26, dashboard: _r23 }); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 11);
    ɵngcc0.ɵɵelementStart(4, "span", 19);
    ɵngcc0.ɵɵtext(5, "Edit");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 1, "Edit widget"));
} }
function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dashboard_child_action_6_Template(rf, ctx) { if (rf & 1) {
    const _r39 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-dashboard-child-action");
    ɵngcc0.ɵɵelementStart(1, "button", 39);
    ɵngcc0.ɵɵlistener("click", function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dashboard_child_action_6_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r39); const widget_r25 = ɵngcc0.ɵɵnextContext().$implicit; const _r26 = ɵngcc0.ɵɵreference(1); ɵngcc0.ɵɵnextContext(); const _r23 = ɵngcc0.ɵɵreference(1); const ctx_r37 = ɵngcc0.ɵɵnextContext(); return ctx_r37.onDeleteWidget.emit({ widget: widget_r25, source: _r26, dashboard: _r23 }); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 18);
    ɵngcc0.ɵɵelementStart(4, "span", 19);
    ɵngcc0.ɵɵtext(5, "Remove");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 1, "Remove widget"));
} }
const _c1 = function (a0, a1, a2) { return { child: a0, dashboard: a1, context: a2 }; };
function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dynamic_component_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-dynamic-component", 40);
} if (rf & 2) {
    const widget_r25 = ɵngcc0.ɵɵnextContext().$implicit;
    const ctx_r31 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("componentId", widget_r25.componentId || widget_r25.name)("config", widget_r25.templateUrl || widget_r25.widgetComponent ? ɵngcc0.ɵɵpureFunction3(2, _c1, widget_r25, ctx_r31.contextDashboard, ctx_r31.context) : widget_r25.config);
} }
function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_Template(rf, ctx) { if (rf & 1) {
    const _r42 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-dashboard-child", 36, 37);
    ɵngcc0.ɵɵlistener("changeStart", function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_Template_c8y_dashboard_child_changeStart_0_listener() { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r42); const widget_r25 = restoredCtx.$implicit; const _r26 = ɵngcc0.ɵɵreference(1); ɵngcc0.ɵɵnextContext(); const _r23 = ɵngcc0.ɵɵreference(1); const ctx_r41 = ɵngcc0.ɵɵnextContext(); return ctx_r41.onChangeStart.emit({ widget: widget_r25, source: _r26, dashboard: _r23 }); })("changeEnd", function WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_Template_c8y_dashboard_child_changeEnd_0_listener() { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r42); const widget_r25 = restoredCtx.$implicit; const _r26 = ɵngcc0.ɵɵreference(1); ɵngcc0.ɵɵnextContext(); const _r23 = ɵngcc0.ɵɵreference(1); const ctx_r43 = ɵngcc0.ɵɵnextContext(); return ctx_r43.onChangeEnd.emit({ widget: widget_r25, source: _r26, dashboard: _r23 }); });
    ɵngcc0.ɵɵelementStart(2, "c8y-dashboard-child-title");
    ɵngcc0.ɵɵtemplate(3, WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_span_3_Template, 3, 3, "span", 0);
    ɵngcc0.ɵɵtemplate(4, WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_span_4_Template, 2, 1, "span", 0);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(5, WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dashboard_child_action_5_Template, 6, 3, "c8y-dashboard-child-action", 0);
    ɵngcc0.ɵɵtemplate(6, WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dashboard_child_action_6_Template, 6, 3, "c8y-dashboard-child-action", 0);
    ɵngcc0.ɵɵtemplate(7, WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_c8y_dynamic_component_7_Template, 1, 6, "c8y-dynamic-component", 38);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const widget_r25 = ctx.$implicit;
    const _r26 = ɵngcc0.ɵɵreference(1);
    const ctx_r24 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵclassMap(widget_r25.classes);
    ɵngcc0.ɵɵproperty("x", widget_r25._x)("y", widget_r25._y)("width", widget_r25._width || ctx_r24.settings.defaultWidth)("height", widget_r25._height || ctx_r24.settings.defaultHeight)("margin", ctx_r24.settings.widgetMargin)("isFrozen", ctx_r24.settings.isFrozen || ctx_r24.settings.isDisabled)("data", widget_r25)("useIntersection", true);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r24.settings.translateWidgetTitle);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r24.settings.translateWidgetTitle);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r24.onEditWidget.observers.length);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r24.onDeleteWidget.observers.length);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", _r26.intersected);
} }
function WidgetsDashboardComponent_c8y_dashboard_9_Template(rf, ctx) { if (rf & 1) {
    const _r45 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-dashboard", 33, 34);
    ɵngcc0.ɵɵlistener("dashboardChange", function WidgetsDashboardComponent_c8y_dashboard_9_Template_c8y_dashboard_dashboardChange_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r45); const ctx_r44 = ɵngcc0.ɵɵnextContext(); return ctx_r44.onChangeDashboard.emit($event); });
    ɵngcc0.ɵɵtemplate(2, WidgetsDashboardComponent_c8y_dashboard_9_c8y_dashboard_child_2_Template, 8, 15, "c8y-dashboard-child", 35);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r9 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngForOf", ctx_r9.widgets);
} }
export class WidgetsDashboardComponent {
    constructor() {
        this.contextDashboard = { updateTarget: true };
        this.settings = {
            isFrozen: false,
            isDisabled: false,
            widgetMargin: 12,
            translateWidgetTitle: false,
            defaultHeight: 4,
            defaultWidth: 4,
            allowFullscreen: false,
            canDelete: true,
            isLoading: false
        };
        this.onAddWidget = new EventEmitter();
        this.onEditWidget = new EventEmitter();
        this.onDeleteWidget = new EventEmitter();
        this.onChangeDashboard = new EventEmitter();
        this.onEditDashboard = new EventEmitter();
        this.onDeleteDashboard = new EventEmitter();
        this.onFreeze = new EventEmitter();
        this.onChangeStart = new EventEmitter();
        this.onChangeEnd = new EventEmitter();
    }
    set _settings(settings) {
        this.settings = Object.assign(Object.assign({}, this.settings), settings);
    }
    toggleFullscreen() {
        const elem = document.body;
        const doc = document;
        if (!this.fullScreen()) {
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            }
            else if (elem.msRequestFullscreen) {
                elem.msRequestFullscreen();
            }
            else if (elem.mozRequestFullScreen) {
                elem.mozRequestFullScreen();
            }
            else if (elem.webkitRequestFullscreen) {
                elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
            }
        }
        else if (doc.exitFullscreen) {
            doc.exitFullscreen();
        }
        else if (doc.msExitFullscreen) {
            doc.msExitFullscreen();
        }
        else if (doc.mozCancelFullScreen) {
            doc.mozCancelFullScreen();
        }
        else if (doc.webkitExitFullscreen) {
            doc.webkitExitFullscreen();
        }
    }
    fullScreen() {
        const doc = document;
        return !!(doc.fullscreenElement ||
            doc.mozFullScreenElement ||
            doc.webkitFullscreenElement ||
            doc.msFullscreenElement);
    }
}
WidgetsDashboardComponent.ɵfac = function WidgetsDashboardComponent_Factory(t) { return new (t || WidgetsDashboardComponent)(); };
WidgetsDashboardComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: WidgetsDashboardComponent, selectors: [["c8y-widgets-dashboard"]], hostAttrs: [1, "dashboard", "c8y-grid-dashboard", 2, "display", "block"], inputs: { contextDashboard: "contextDashboard", _settings: ["settings", "_settings"], widgets: "widgets", context: "context", breadcrumb: "breadcrumb" }, outputs: { onAddWidget: "onAddWidget", onEditWidget: "onEditWidget", onDeleteWidget: "onDeleteWidget", onChangeDashboard: "onChangeDashboard", onEditDashboard: "onEditDashboard", onDeleteDashboard: "onDeleteDashboard", onFreeze: "onFreeze", onChangeStart: "onChangeStart", onChangeEnd: "onChangeEnd" }, decls: 10, vars: 10, consts: [[4, "ngIf"], [3, "placement", 4, "ngIf"], ["itemClass", "navbar-form", 3, "placement", 4, "ngIf"], [3, "placement", "priority", 4, "ngIf"], ["class", "c8y-empty-state text-center", 4, "ngIf"], ["class", "col-xs-12 text-center", 4, "ngIf"], [3, "dashboardChange", 4, "ngIf"], [3, "icon", "label", "path"], [3, "placement"], [1, "btn", "btn-link", 3, "title", "disabled", "click"], ["c8yIcon", "plus-circle"], ["c8yIcon", "pencil"], [1, "btn", "btn-link", 3, "title", "click"], [3, "c8yIcon"], ["itemClass", "navbar-form", 3, "placement"], ["uib-btn-checkbox", "", 1, "btn", "btn-default", 3, "title", "ngClass", "disabled", "click"], [3, "placement", "priority"], [3, "title", "disabled", "click"], ["c8yIcon", "trash"], ["translate", "", 1, "m-l-4"], [1, "c8y-empty-state", "text-center"], [1, "c8y-icon", "c8y-icon-device", "c8y-icon-duocolor"], ["translate", ""], ["translate", "", 1, "btn", "btn-primary", 3, "title", "disabled", "click"], ["c8y-guide-docs", ""], ["c8y-guide-href", "users-guide/cockpit/#dashboards"], [1, "col-xs-12", "text-center"], [1, "spinner", "p-relative"], [1, "rect1"], [1, "rect2"], [1, "rect3"], [1, "rect4"], [1, "rect5"], [3, "dashboardChange"], ["dashboard", ""], [3, "x", "y", "width", "height", "margin", "isFrozen", "class", "data", "useIntersection", "changeStart", "changeEnd", 4, "ngFor", "ngForOf"], [3, "x", "y", "width", "height", "margin", "isFrozen", "data", "useIntersection", "changeStart", "changeEnd"], ["child", ""], [3, "componentId", "config", 4, "ngIf"], [3, "title", "click"], [3, "componentId", "config"]], template: function WidgetsDashboardComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵtemplate(0, WidgetsDashboardComponent_c8y_title_0_Template, 3, 3, "c8y-title", 0);
        ɵngcc0.ɵɵtemplate(1, WidgetsDashboardComponent_c8y_breadcrumb_1_Template, 2, 3, "c8y-breadcrumb", 0);
        ɵngcc0.ɵɵtemplate(2, WidgetsDashboardComponent_c8y_action_bar_item_2_Template, 6, 8, "c8y-action-bar-item", 1);
        ɵngcc0.ɵɵtemplate(3, WidgetsDashboardComponent_c8y_action_bar_item_3_Template, 6, 8, "c8y-action-bar-item", 1);
        ɵngcc0.ɵɵtemplate(4, WidgetsDashboardComponent_c8y_action_bar_item_4_Template, 6, 8, "c8y-action-bar-item", 1);
        ɵngcc0.ɵɵtemplate(5, WidgetsDashboardComponent_c8y_action_bar_item_5_Template, 4, 9, "c8y-action-bar-item", 2);
        ɵngcc0.ɵɵtemplate(6, WidgetsDashboardComponent_c8y_action_bar_item_6_Template, 6, 6, "c8y-action-bar-item", 3);
        ɵngcc0.ɵɵtemplate(7, WidgetsDashboardComponent_div_7_Template, 5, 1, "div", 4);
        ɵngcc0.ɵɵtemplate(8, WidgetsDashboardComponent_div_8_Template, 7, 0, "div", 5);
        ɵngcc0.ɵɵtemplate(9, WidgetsDashboardComponent_c8y_dashboard_9_Template, 3, 1, "c8y-dashboard", 6);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngIf", !!ctx.settings.title);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !!ctx.breadcrumb);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.onAddWidget.observers.length);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.onEditDashboard.observers.length);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.settings.allowFullscreen);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.onFreeze.observers.length);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.settings.canDelete && ctx.onDeleteDashboard.observers.length);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.settings.isLoading && (ctx.widgets == null ? null : ctx.widgets.length) === 0);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.settings.isLoading);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.settings.isLoading);
    } }, directives: [ɵngcc1.NgIf, ɵngcc2.TitleComponent, ɵngcc3.BreadcrumbComponent, ɵngcc4.BreadcrumbItemComponent, ɵngcc5.ActionBarItemComponent, ɵngcc6.IconDirective, ɵngcc1.NgClass, ɵngcc7.C8yTranslateDirective, ɵngcc8.GuideDocsComponent, ɵngcc9.GuideHrefDirective, ɵngcc10.DashboardComponent, ɵngcc1.NgForOf, ɵngcc11.DashboardChildComponent, ɵngcc12.DashboardChildTitleComponent, ɵngcc13.DashboardChildActionComponent, ɵngcc14.DynamicComponentComponent], pipes: [ɵngcc15.C8yTranslatePipe], encapsulation: 2 });
WidgetsDashboardComponent.propDecorators = {
    widgets: [{ type: Input }],
    context: [{ type: Input }],
    contextDashboard: [{ type: Input }],
    _settings: [{ type: Input, args: ['settings',] }],
    breadcrumb: [{ type: Input }],
    onAddWidget: [{ type: Output }],
    onEditWidget: [{ type: Output }],
    onDeleteWidget: [{ type: Output }],
    onChangeDashboard: [{ type: Output }],
    onEditDashboard: [{ type: Output }],
    onDeleteDashboard: [{ type: Output }],
    onFreeze: [{ type: Output }],
    onChangeStart: [{ type: Output }],
    onChangeEnd: [{ type: Output }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WidgetsDashboardComponent, [{
        type: Component,
        args: [{
                selector: 'c8y-widgets-dashboard',
                template: "<c8y-title *ngIf=\"!!settings.title\">\n  {{ settings.title | translate }}\n</c8y-title>\n\n<c8y-breadcrumb *ngIf=\"!!breadcrumb\">\n  <c8y-breadcrumb-item\n    [icon]=\"breadcrumb.icon\"\n    [label]=\"breadcrumb.label\"\n    [path]=\"breadcrumb.path\"\n  ></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-action-bar-item [placement]=\"'right'\" *ngIf=\"onAddWidget.observers.length\">\n  <button\n    title=\"{{ 'Add widget' | translate }}\"\n    class=\"btn btn-link\"\n    [disabled]=\"settings.isFrozen || settings.isDisabled\"\n    (click)=\"onAddWidget.emit()\"\n  >\n    <i c8yIcon=\"plus-circle\"></i>\n    {{ 'Add widget' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'right'\" *ngIf=\"onEditDashboard.observers.length\">\n  <button\n    title=\"{{ 'Edit' | translate }}\"\n    class=\"btn btn-link\"\n    [disabled]=\"settings.isFrozen || settings.isDisabled\"\n    (click)=\"onEditDashboard.emit()\"\n  >\n    <i c8yIcon=\"pencil\"></i>\n    {{ 'Edit' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'right'\" *ngIf=\"settings.allowFullscreen\">\n  <button\n    title=\"{{ 'Full screen' | translate }}\"\n    class=\"btn btn-link\"\n    (click)=\"toggleFullscreen()\"\n    >\n    <i [c8yIcon]=\"fullScreen() ? 'compress' : 'expand'\"></i>\n    {{ 'Full screen' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item\n  [placement]=\"'right'\"\n  itemClass=\"navbar-form\"\n  *ngIf=\"onFreeze.observers.length\"\n>\n  <button\n    title=\"{{ 'Lock/unlock this dashboard' | translate }}\"\n    class=\"btn btn-default\"\n    [ngClass]=\"{ active: settings.isFrozen }\"\n    (click)=\"onFreeze.emit(settings)\"\n    [disabled]=\"settings.isDisabled\"\n    uib-btn-checkbox\n  >\n    <i [c8yIcon]=\"settings.isFrozen ? 'lock' : 'unlock'\"></i>\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item\n  [placement]=\"'more'\"\n  [priority]=\"-3000\"\n  *ngIf=\"settings.canDelete && onDeleteDashboard.observers.length\"\n>\n  <button\n    title=\"{{ 'Delete dashboard' | translate }}\"\n    (click)=\"onDeleteDashboard.emit()\"\n    [disabled]=\"settings.isFrozen || settings.isDisabled\"\n  >\n    <i c8yIcon=\"trash\"></i>\n    <span class=\"m-l-4\" translate>Delete dashboard</span>\n  </button>\n</c8y-action-bar-item>\n\n<!-- empty state -->\n<div class=\"c8y-empty-state text-center\" *ngIf=\"!settings.isLoading && widgets?.length === 0\">\n  <h1 class=\"c8y-icon c8y-icon-device c8y-icon-duocolor\"></h1>\n  <h3 translate>No widgets to display.</h3>\n  <div *ngIf=\"!settings.isFrozen && onAddWidget.observers.length\">\n    <p translate>Add widgets to this dashboard.</p>\n    <div>\n      <button\n        title=\"{{ 'Add widget' | translate }}\"\n        [disabled]=\"settings.isFrozen || settings.isDisabled\"\n        (click)=\"onAddWidget.emit()\"\n        class=\"btn btn-primary\"\n        translate\n      >\n        Add widget\n      </button>\n    </div>\n    <p c8y-guide-docs>\n      <small translate ngNonBindable>\n        Find out more in the\n        <a c8y-guide-href=\"users-guide/cockpit/#dashboards\">\n          User guide`KEEP_ORIGINAL`\n        </a>.\n      </small>\n    </p>\n  </div>\n</div>\n<!-- /.empty settings -->\n\n<div class=\"col-xs-12 text-center\" *ngIf=\"settings.isLoading\">\n  <div class=\"spinner p-relative\">\n    <div class=\"rect1\"></div>\n    <div class=\"rect2\"></div>\n    <div class=\"rect3\"></div>\n    <div class=\"rect4\"></div>\n    <div class=\"rect5\"></div>\n  </div>\n</div>\n\n<c8y-dashboard\n  (dashboardChange)=\"onChangeDashboard.emit($event)\"\n  #dashboard\n  *ngIf=\"!settings.isLoading\"\n>\n  <c8y-dashboard-child\n    *ngFor=\"let widget of widgets\"\n    [x]=\"widget._x\"\n    [y]=\"widget._y\"\n    [width]=\"widget._width || settings.defaultWidth\"\n    [height]=\"widget._height || settings.defaultHeight\"\n    [margin]=\"settings.widgetMargin\"\n    [isFrozen]=\"settings.isFrozen || settings.isDisabled\"\n    [class]=\"widget.classes\"\n    [data]=\"widget\"\n    [useIntersection]=\"true\"\n    (changeStart)=\"onChangeStart.emit({ widget: widget, source: child, dashboard: dashboard })\"\n    (changeEnd)=\"onChangeEnd.emit({ widget: widget, source: child, dashboard: dashboard })\"\n    #child\n  >\n    <c8y-dashboard-child-title>\n      <span *ngIf=\"settings.translateWidgetTitle\">\n        {{ widget.title | translate }}\n      </span>\n      <span *ngIf=\"!settings.translateWidgetTitle\">\n        {{ widget.title }}\n      </span>\n    </c8y-dashboard-child-title>\n    <c8y-dashboard-child-action *ngIf=\"onEditWidget.observers.length\">\n      <button\n        title=\"{{ 'Edit widget' | translate }}\"\n        (click)=\"onEditWidget.emit({ widget: widget, source: child, dashboard: dashboard })\"\n      >\n        <i c8yIcon=\"pencil\"></i>\n        <span class=\"m-l-4\" translate>Edit</span>\n      </button>\n    </c8y-dashboard-child-action>\n    <c8y-dashboard-child-action *ngIf=\"onDeleteWidget.observers.length\">\n      <button\n        title=\"{{ 'Remove widget' | translate }}\"\n        (click)=\"onDeleteWidget.emit({ widget: widget, source: child, dashboard: dashboard })\"\n      >\n        <i c8yIcon=\"trash\"></i>\n        <span class=\"m-l-4\" translate>Remove</span>\n      </button>\n    </c8y-dashboard-child-action>\n    <c8y-dynamic-component\n      [componentId]=\"widget.componentId || widget.name\"\n      [config]=\"\n        widget.templateUrl || widget.widgetComponent\n          ? { child: widget, dashboard: contextDashboard, context: context }\n          : widget.config\n      \"\n      *ngIf=\"child.intersected\"\n    ></c8y-dynamic-component>\n  </c8y-dashboard-child>\n</c8y-dashboard>\n",
                host: {
                    style: `
      display: block;
    `,
                    class: 'dashboard c8y-grid-dashboard'
                }
            }]
    }], function () { return []; }, { contextDashboard: [{
            type: Input
        }], onAddWidget: [{
            type: Output
        }], onEditWidget: [{
            type: Output
        }], onDeleteWidget: [{
            type: Output
        }], onChangeDashboard: [{
            type: Output
        }], onEditDashboard: [{
            type: Output
        }], onDeleteDashboard: [{
            type: Output
        }], onFreeze: [{
            type: Output
        }], onChangeStart: [{
            type: Output
        }], onChangeEnd: [{
            type: Output
        }], _settings: [{
            type: Input,
            args: ['settings']
        }], widgets: [{
            type: Input
        }], context: [{
            type: Input
        }], breadcrumb: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy1kYXNoYm9hcmQuY29tcG9uZW50LmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9jb3JlL2Rhc2hib2FyZC93aWRnZXRzLWRhc2hib2FyZC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFldkUsTUFBTSxPQUFPLHlCQUF5QjtBQUN0QyxJQVhBO0FBQ0csUUFpQkQscUJBQWdCLEdBQVEsRUFBRSxZQUFZLEVBQUUsSUFBSSxFQUFFLENBQUM7QUFDakQsUUFTRSxhQUFRLEdBQXNCO0FBQ2hDLFlBQUksUUFBUSxFQUFFLEtBQUs7QUFDbkIsWUFBSSxVQUFVLEVBQUUsS0FBSztBQUNyQixZQUFJLFlBQVksRUFBRSxFQUFFO0FBQ3BCLFlBQUksb0JBQW9CLEVBQUUsS0FBSztBQUMvQixZQUFJLGFBQWEsRUFBRSxDQUFDO0FBQ3BCLFlBQUksWUFBWSxFQUFFLENBQUM7QUFDbkIsWUFBSSxlQUFlLEVBQUUsS0FBSztBQUMxQixZQUFJLFNBQVMsRUFBRSxJQUFJO0FBQ25CLFlBQUksU0FBUyxFQUFFLEtBQUs7QUFDcEIsU0FBRyxDQUFDO0FBQ0osUUFFRSxnQkFBVyxHQUFxQyxJQUFJLFlBQVks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NkJBRUMsTUFBTTtBQUNQLGdDQUVDLE1BQU07QUFDUCw4QkFFQyxNQUFNO0FBQ1AsZ0NBRUMsTUFBTTtBQUNQLHVCQUVDLE1BQU07QUFDUCw0QkFFQyxNQUFNO0FBQ1AsMEJBRUMsTUFBTTtBQUNSOzs7OztDQS9Ea0Qsa0JBQ2pELElBQUksRUFBRSxzQkFDSixLQUFLLEVBQUUsNkJBRU4sc0JBQ0QsS0FBSyxFQUFFLDhCQUE4QixrQkFDdEMsY0FDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkF3REU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCcmVhZGNydW1iSXRlbSB9IGZyb20gJy4uLy4uJztcbmltcG9ydCB7IERhc2hib2FyZENvbXBvbmVudCB9IGZyb20gJy4vZGFzaGJvYXJkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBEYXNoYm9hcmRDaGFuZ2UsIERhc2hib2FyZFNldHRpbmdzLCBXaWRnZXQsIFdpZGdldENoYW5nZSB9IGZyb20gJy4vZGFzaGJvYXJkLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYzh5LXdpZGdldHMtZGFzaGJvYXJkJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3dpZGdldHMtZGFzaGJvYXJkLmNvbXBvbmVudC5odG1sJyxcbiAgaG9zdDoge1xuICAgIHN0eWxlOiBgXG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICBgLFxuICAgIGNsYXNzOiAnZGFzaGJvYXJkIGM4eS1ncmlkLWRhc2hib2FyZCdcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBXaWRnZXRzRGFzaGJvYXJkQ29tcG9uZW50IHtcbiAgQElucHV0KClcbiAgd2lkZ2V0czogV2lkZ2V0W107XG5cbiAgQElucHV0KClcbiAgY29udGV4dDogYW55O1xuXG4gIEBJbnB1dCgpXG4gIGNvbnRleHREYXNoYm9hcmQ6IGFueSA9IHsgdXBkYXRlVGFyZ2V0OiB0cnVlIH07XG5cbiAgQElucHV0KCdzZXR0aW5ncycpXG4gIHNldCBfc2V0dGluZ3Moc2V0dGluZ3M6IFBhcnRpYWw8RGFzaGJvYXJkU2V0dGluZ3M+KSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4udGhpcy5zZXR0aW5ncywgLi4uc2V0dGluZ3MgfTtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGJyZWFkY3J1bWI6IEJyZWFkY3J1bWJJdGVtO1xuXG4gIHNldHRpbmdzOiBEYXNoYm9hcmRTZXR0aW5ncyA9IHtcbiAgICBpc0Zyb3plbjogZmFsc2UsXG4gICAgaXNEaXNhYmxlZDogZmFsc2UsXG4gICAgd2lkZ2V0TWFyZ2luOiAxMixcbiAgICB0cmFuc2xhdGVXaWRnZXRUaXRsZTogZmFsc2UsXG4gICAgZGVmYXVsdEhlaWdodDogNCxcbiAgICBkZWZhdWx0V2lkdGg6IDQsXG4gICAgYWxsb3dGdWxsc2NyZWVuOiBmYWxzZSxcbiAgICBjYW5EZWxldGU6IHRydWUsXG4gICAgaXNMb2FkaW5nOiBmYWxzZVxuICB9O1xuXG4gIEBPdXRwdXQoKVxuICBvbkFkZFdpZGdldDogRXZlbnRFbWl0dGVyPERhc2hib2FyZENvbXBvbmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQE91dHB1dCgpXG4gIG9uRWRpdFdpZGdldDogRXZlbnRFbWl0dGVyPFdpZGdldENoYW5nZT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQE91dHB1dCgpXG4gIG9uRGVsZXRlV2lkZ2V0OiBFdmVudEVtaXR0ZXI8V2lkZ2V0Q2hhbmdlPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBAT3V0cHV0KClcbiAgb25DaGFuZ2VEYXNoYm9hcmQ6IEV2ZW50RW1pdHRlcjxEYXNoYm9hcmRDaGFuZ2U+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoKVxuICBvbkVkaXREYXNoYm9hcmQ6IEV2ZW50RW1pdHRlcjxEYXNoYm9hcmRDb21wb25lbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoKVxuICBvbkRlbGV0ZURhc2hib2FyZDogRXZlbnRFbWl0dGVyPERhc2hib2FyZENvbXBvbmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQE91dHB1dCgpXG4gIG9uRnJlZXplOiBFdmVudEVtaXR0ZXI8RGFzaGJvYXJkU2V0dGluZ3M+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoKVxuICBvbkNoYW5nZVN0YXJ0OiBFdmVudEVtaXR0ZXI8V2lkZ2V0Q2hhbmdlPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBAT3V0cHV0KClcbiAgb25DaGFuZ2VFbmQ6IEV2ZW50RW1pdHRlcjxXaWRnZXRDaGFuZ2U+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHRvZ2dsZUZ1bGxzY3JlZW4oKSB7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmJvZHkgYXMgYW55O1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50IGFzIGFueTtcbiAgICBpZiAoIXRoaXMuZnVsbFNjcmVlbigpKSB7XG4gICAgICBpZiAoZWxlbS5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW0ubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICBlbGVtLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbS5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICBlbGVtLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICB9IGVsc2UgaWYgKGVsZW0ud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgZWxlbS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigoRWxlbWVudCBhcyBhbnkpLkFMTE9XX0tFWUJPQVJEX0lOUFVUKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvYy5leGl0RnVsbHNjcmVlbikge1xuICAgICAgZG9jLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgfSBlbHNlIGlmIChkb2MubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgZG9jLm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2UgaWYgKGRvYy5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICBkb2MubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgIH0gZWxzZSBpZiAoZG9jLndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICBkb2Mud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9XG4gIH1cblxuICBmdWxsU2NyZWVuKCkge1xuICAgIGNvbnN0IGRvYzogYW55ID0gZG9jdW1lbnQ7XG4gICAgcmV0dXJuICEhKFxuICAgICAgZG9jLmZ1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICBkb2MubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcbiAgICAgIGRvYy53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgZG9jLm1zRnVsbHNjcmVlbkVsZW1lbnRcbiAgICApO1xuICB9XG59XG4iXX0=