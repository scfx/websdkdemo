import { CdkStep } from '@angular/cdk/stepper';
import { Component, EventEmitter, Host, Input, Output } from '@angular/core';
import { C8yStepper } from './stepper.component';
/**
 * C8yStepperButtons provides a convinient way to have, according to
 * the C8yStepper and each cdk-step, buttons to navigate between steps or to cancel the whole
 * step-process. Buttons rendered with the help of this component will use the branding css.
 *
 * By default all steps with this component in use will render a next button, expect the last step.
 * The other way around, every step using this component will render a back button, expect the first step.
 * To get a cancel button rendered you need to handle the onCancel event.
 * For next and back button you don't need to handle the available events onNext and onBack because default behavior
 * is implemented. The default will just call, according to the button, the stepper.next() or stepper.previous()
 * methods and moves the stepper forth or back. Using the EventEmitter onNext and onBack will emit for you the following
 * object: {stepper: C8yStepper, step: CdkStep}. This is useful if you need to implement custom logic before moving
 * to the next step or sending data to a backend. In this case you need to tell the stepper to move forward or back
 * on your own.
 *
 * With the component input [labels] you can change the label of each button in each step. It takes an object like this:
 * {next?: string, back?: string, cancel?: string}
 *
 * The [pending] input is of type boolean and will enable css animation for the next button when true.
 *
 * If the cdk-step provides a stepControl the component will set the next button disabled when the formGroup
 * behind it is invalid. As long as the [pending] input is true the back and next button is also disabled.
 * This will prevent multiple clicks while running a request or stepping back while a request is ongoing.
 *
 * **Example**
 * ```
 * <c8y-stepper>
 *  <cdk-step>
 *    <!--
 *      your html code
 *          ...
 *          ...    -->
 *    <c8y-stepper-buttons
 *     (onNext)="save()"
 *     [labels]="{ next: 'Save' }"
 *     [pending]="pendingStatus"
 *     ></c8y-stepper-buttons>
 *  </cdk-step>
 * </c8y-stepper>
 *
 * // in your component:
 * async save() {
 *   this.pendingStatus = true;
 *   // your async request goes here ...
 *   // await something();
 *   this.pendingStatus = false;
 *   this.stepper.next();
 * }
 * ```
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './stepper.component';
import * as ɵngcc2 from '@angular/cdk/stepper';
import * as ɵngcc3 from '@angular/common';
import * as ɵngcc4 from '../i18n/c8y-translate.pipe';

function C8yStepperButtons_button_1_span_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r4 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, ctx_r4.labels == null ? null : ctx_r4.labels.cancel));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, ctx_r4.labels == null ? null : ctx_r4.labels.cancel));
} }
function C8yStepperButtons_button_1_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, "Cancel"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, "Cancel"));
} }
function C8yStepperButtons_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 5);
    ɵngcc0.ɵɵlistener("click", function C8yStepperButtons_button_1_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r8); const ctx_r7 = ɵngcc0.ɵɵnextContext(); return ctx_r7.cancel(); });
    ɵngcc0.ɵɵtemplate(1, C8yStepperButtons_button_1_span_1_Template, 4, 6, "span", 6);
    ɵngcc0.ɵɵtemplate(2, C8yStepperButtons_button_1_ng_template_2_Template, 4, 6, "ng-template", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const _r5 = ɵngcc0.ɵɵreference(3);
    const ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.labels == null ? null : ctx_r0.labels.cancel)("ngIfElse", _r5);
} }
function C8yStepperButtons_button_2_span_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r9 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, ctx_r9.labels == null ? null : ctx_r9.labels.back));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, ctx_r9.labels == null ? null : ctx_r9.labels.back));
} }
function C8yStepperButtons_button_2_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, "Back"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, "Back"));
} }
function C8yStepperButtons_button_2_Template(rf, ctx) { if (rf & 1) {
    const _r13 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 9);
    ɵngcc0.ɵɵlistener("click", function C8yStepperButtons_button_2_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r13); const ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.back(); });
    ɵngcc0.ɵɵtemplate(1, C8yStepperButtons_button_2_span_1_Template, 4, 6, "span", 6);
    ɵngcc0.ɵɵtemplate(2, C8yStepperButtons_button_2_ng_template_2_Template, 4, 6, "ng-template", null, 10, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const _r10 = ɵngcc0.ɵɵreference(3);
    const ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("disabled", ctx_r1.pending);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r1.labels == null ? null : ctx_r1.labels.back)("ngIfElse", _r10);
} }
function C8yStepperButtons_button_3_span_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r14 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, ctx_r14.labels == null ? null : ctx_r14.labels.custom));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, ctx_r14.labels == null ? null : ctx_r14.labels.custom));
} }
function C8yStepperButtons_button_3_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, "Complete"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, "Complete"));
} }
const _c0 = function (a0, a1, a2) { return { "btn-default": a0, "btn-primary": a1, "btn-pending": a2 }; };
function C8yStepperButtons_button_3_Template(rf, ctx) { if (rf & 1) {
    const _r18 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 11);
    ɵngcc0.ɵɵlistener("click", function C8yStepperButtons_button_3_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r18); const ctx_r17 = ɵngcc0.ɵɵnextContext(); return ctx_r17.custom(); });
    ɵngcc0.ɵɵtemplate(1, C8yStepperButtons_button_3_span_1_Template, 4, 6, "span", 6);
    ɵngcc0.ɵɵtemplate(2, C8yStepperButtons_button_3_ng_template_2_Template, 4, 6, "ng-template", null, 12, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const _r15 = ɵngcc0.ɵɵreference(3);
    const ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction3(4, _c0, ctx_r2.showBtns.next, !ctx_r2.showBtns.next, ctx_r2.pending))("disabled", ctx_r2.pending || ctx_r2.disabled);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.labels == null ? null : ctx_r2.labels.custom)("ngIfElse", _r15);
} }
function C8yStepperButtons_button_4_span_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r19 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, ctx_r19.labels == null ? null : ctx_r19.labels.next));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, ctx_r19.labels == null ? null : ctx_r19.labels.next));
} }
function C8yStepperButtons_button_4_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, "Next"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, "Next"));
} }
const _c1 = function (a0) { return { "btn-pending": a0 }; };
function C8yStepperButtons_button_4_Template(rf, ctx) { if (rf & 1) {
    const _r23 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 13);
    ɵngcc0.ɵɵlistener("click", function C8yStepperButtons_button_4_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r23); const ctx_r22 = ɵngcc0.ɵɵnextContext(); return ctx_r22.next(); });
    ɵngcc0.ɵɵtemplate(1, C8yStepperButtons_button_4_span_1_Template, 4, 6, "span", 6);
    ɵngcc0.ɵɵtemplate(2, C8yStepperButtons_button_4_ng_template_2_Template, 4, 6, "ng-template", null, 14, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const _r20 = ɵngcc0.ɵɵreference(3);
    const ctx_r3 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(4, _c1, ctx_r3.pending))("disabled", ctx_r3.disabled);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.labels == null ? null : ctx_r3.labels.next)("ngIfElse", _r20);
} }
export class C8yStepperButtons {
    constructor(stepper, step) {
        this.stepper = stepper;
        this.step = step;
        /**
         * Optional
         * Indicates if a request is pending and sets the next button
         * to disabled when true
         */
        this.pending = false;
        /**
         * Disabled state of a button
         */
        this.disabled = false;
        /**
         * EventEmitter which emits when cancel button is clicked
         */
        this.onCancel = new EventEmitter();
        /**
         * EventEmitter which emits {stepper: C8yStepper; step: CdkStep} when next button is clicked.
         */
        this.onNext = new EventEmitter();
        /**
         * EventEmitter which emits {stepper: C8yStepper; step: CdkStep} when back button is clicked.
         */
        this.onBack = new EventEmitter();
        /**
         * EventEmitter which emits when the optional custom button is clicked
         */
        this.onCustom = new EventEmitter();
        /**
         * Indicator which button should be shown.
         * Based on the cdk-steps within the c8y-stepper
         * next and back buttons are rendered.
         */
        this.showBtns = {
            cancel: false,
            back: false,
            next: false,
            custom: false
        };
        /**
         * Flag that indicates that the default settings defined in the showBtns have been overwritten.
         */
        this.forceShowBtns = false;
    }
    /**
     * This option forces the display of the buttons passed by the input.
     * It will override the default settings and take precedence over the standard settings.
     * @param btns An object that contains options for displaying buttons.
     *
     * **Example**
     * ```html
     *
     * <c8y-stepper-buttons
     *   [labels]="{ custom: 'Custom btn', cancel: 'Cancel btn' }"
     *   [showButtons]="{ custom: true, cancel: true }"
     * ></c8y-stepper-buttons>
     *
     * ```
     */
    set showButtons(btns) {
        if (btns) {
            this.showBtns = btns;
            this.forceShowBtns = true;
        }
    }
    ngAfterContentInit() {
        if (!this.forceShowBtns) {
            this.showBtns.cancel = this.onCancel.observers.length > 0;
            this.showBtns.custom = this.onCustom.observers.length > 0;
        }
        if (this.stepper && this.stepper._steps && this.step && !this.forceShowBtns) {
            this.showBtns.back = this.stepper._steps.first !== this.step;
            this.showBtns.next = this.stepper._steps.last !== this.step;
        }
        if (this.step && this.step.stepControl) {
            this.disabled = this.step.stepControl.invalid;
            this.statusChangeSubscription = this.step.stepControl.statusChanges.subscribe(status => {
                this.disabled = this.step.stepControl.invalid;
            });
        }
    }
    ngOnChanges(changes) {
        /**
         * Disable save/next button while the status is pending
         * This will prevent multiple clicks and therefore multiple requests
         */
        if (changes && changes.pending) {
            this.disabled = changes.pending.currentValue;
        }
    }
    ngOnDestroy() {
        if (this.statusChangeSubscription && !this.statusChangeSubscription.closed) {
            this.statusChangeSubscription.unsubscribe();
        }
    }
    /**
     * Gets called when cancel button is clicked.
     * It will emit immediate.
     */
    cancel() {
        this.onCancel.emit();
    }
    /**
     * Gets called when next button is clicked. When onNext EventEmitter has an observer registered
     * it will emit the following object {stepper: C8yStepper; step: CdkStep}.
     * Otherwise it will call stepper.next() as default.
     */
    next() {
        if (this.onNext.observers.length > 0) {
            this.onNext.emit({ stepper: this.stepper, step: this.step });
        }
        else {
            this.stepper.next();
        }
    }
    /**
     * Gets called when back button is clicked. When onBack EventEmitter has an observer registered
     * it will emit the following object {stepper: C8yStepper; step: CdkStep}.
     * Otherwise it will call stepper.previous() as default.
     */
    back() {
        this.stepper.selected.completed = false;
        if (this.onBack.observers.length > 0) {
            this.onBack.emit({ stepper: this.stepper, step: this.step });
        }
        else {
            this.stepper.previous();
        }
    }
    /**
     * Gets called when the custom button is clicked.
     * It will emit immediately.
     */
    custom() {
        this.onCustom.emit();
    }
}
C8yStepperButtons.ɵfac = function C8yStepperButtons_Factory(t) { return new (t || C8yStepperButtons)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.C8yStepper, 1), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.CdkStep, 1)); };
C8yStepperButtons.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: C8yStepperButtons, selectors: [["c8y-stepper-buttons"]], inputs: { pending: "pending", disabled: "disabled", showButtons: "showButtons", labels: "labels" }, outputs: { onCancel: "onCancel", onNext: "onNext", onBack: "onBack", onCustom: "onCustom" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 5, vars: 4, consts: [[1, "text-center"], ["type", "button", "class", "btn btn-default", 3, "click", 4, "ngIf"], ["type", "button", "class", "btn btn-default", 3, "disabled", "click", 4, "ngIf"], ["type", "button", "class", "btn", 3, "ngClass", "disabled", "click", 4, "ngIf"], ["type", "button", "class", "btn btn-primary", 3, "ngClass", "disabled", "click", 4, "ngIf"], ["type", "button", 1, "btn", "btn-default", 3, "click"], [3, "title", 4, "ngIf", "ngIfElse"], ["cancelLabel", ""], [3, "title"], ["type", "button", 1, "btn", "btn-default", 3, "disabled", "click"], ["backLabel", ""], ["type", "button", 1, "btn", 3, "ngClass", "disabled", "click"], ["customLabel", ""], ["type", "button", 1, "btn", "btn-primary", 3, "ngClass", "disabled", "click"], ["nextLabel", ""]], template: function C8yStepperButtons_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵtemplate(1, C8yStepperButtons_button_1_Template, 4, 2, "button", 1);
        ɵngcc0.ɵɵtemplate(2, C8yStepperButtons_button_2_Template, 4, 3, "button", 2);
        ɵngcc0.ɵɵtemplate(3, C8yStepperButtons_button_3_Template, 4, 8, "button", 3);
        ɵngcc0.ɵɵtemplate(4, C8yStepperButtons_button_4_Template, 4, 6, "button", 4);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showBtns.cancel);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showBtns.back);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showBtns.custom);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.showBtns.next);
    } }, directives: [ɵngcc3.NgIf, ɵngcc3.NgClass], pipes: [ɵngcc4.C8yTranslatePipe], encapsulation: 2 });
C8yStepperButtons.ctorParameters = () => [
    { type: C8yStepper, decorators: [{ type: Host }] },
    { type: CdkStep, decorators: [{ type: Host }] }
];
C8yStepperButtons.propDecorators = {
    labels: [{ type: Input }],
    pending: [{ type: Input }],
    disabled: [{ type: Input }],
    onCancel: [{ type: Output }],
    onNext: [{ type: Output }],
    onBack: [{ type: Output }],
    onCustom: [{ type: Output }],
    showButtons: [{ type: Input }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(C8yStepperButtons, [{
        type: Component,
        args: [{
                selector: 'c8y-stepper-buttons',
                template: "<div class=\"text-center\">\n  <button *ngIf=\"showBtns.cancel\" (click)=\"cancel()\" type=\"button\" class=\"btn btn-default\">\n    <span *ngIf=\"labels?.cancel; else cancelLabel\" title=\"{{ labels?.cancel | translate }}\">{{\n      labels?.cancel | translate\n    }}</span>\n    <ng-template #cancelLabel>\n      <span title=\"{{ 'Cancel' | translate }}\">{{ 'Cancel' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    *ngIf=\"showBtns.back\"\n    type=\"button\"\n    (click)=\"back()\"\n    class=\"btn btn-default\"\n    [disabled]=\"pending\"\n  >\n    <span *ngIf=\"labels?.back; else backLabel\" title=\"{{ labels?.back | translate }}\">{{\n      labels?.back | translate\n    }}</span>\n    <ng-template #backLabel>\n      <span title=\"{{ 'Back' | translate }}\">{{ 'Back' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    *ngIf=\"showBtns.custom\"\n    (click)=\"custom()\"\n    type=\"button\"\n    class=\"btn\"\n    [ngClass]=\"{\n      'btn-default': showBtns.next,\n      'btn-primary': !showBtns.next,\n      'btn-pending': pending\n    }\"\n    [disabled]=\"pending || disabled\"\n  >\n    <span *ngIf=\"labels?.custom; else customLabel\" title=\"{{ labels?.custom | translate }}\">{{\n      labels?.custom | translate\n    }}</span>\n    <ng-template #customLabel>\n      <span title=\"{{ 'Complete' | translate }}\">{{ 'Complete' | translate }}</span>\n    </ng-template>\n  </button>\n  <button\n    (click)=\"next()\"\n    *ngIf=\"showBtns.next\"\n    type=\"button\"\n    class=\"btn btn-primary\"\n    [ngClass]=\"{ 'btn-pending': pending }\"\n    [disabled]=\"disabled\"\n  >\n    <span *ngIf=\"labels?.next; else nextLabel\" title=\"{{ labels?.next | translate }}\">{{\n      labels?.next | translate\n    }}</span>\n    <ng-template #nextLabel>\n      <span title=\"{{ 'Next' | translate }}\">{{ 'Next' | translate }}</span>\n    </ng-template>\n  </button>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc1.C8yStepper, decorators: [{
                type: Host
            }] }, { type: ɵngcc2.CdkStep, decorators: [{
                type: Host
            }] }]; }, { pending: [{
            type: Input
        }], disabled: [{
            type: Input
        }], onCancel: [{
            type: Output
        }], onNext: [{
            type: Output
        }], onBack: [{
            type: Output
        }], onCustom: [{
            type: Output
        }], showButtons: [{
            type: Input
        }], labels: [{
            type: Input
        }] }); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RlcHBlci1idXR0b25zLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vY29yZS9zdGVwcGVyL3N0ZXBwZXItYnV0dG9ucy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQy9DLE9BQU8sRUFFTCxTQUFTLEVBQ1QsWUFBWSxFQUNaLElBQUksRUFDSixLQUFLLEVBR0wsTUFBTSxFQUVQLE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUdqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtILE1BQU0sT0FBTyxpQkFBaUI7QUFBRyxJQXNEL0IsWUFBNEIsT0FBbUIsRUFBa0IsSUFBYTtBQUFJLFFBQXRELFlBQU8sR0FBUCxPQUFPLENBQVk7QUFBQyxRQUFpQixTQUFJLEdBQUosSUFBSSxDQUFTO0FBQUMsUUFoRC9FO0FBQ0Y7QUFDTTtBQUNNO0FBRUEsV0FEUDtBQUNMLFFBQVcsWUFBTyxHQUFhLEtBQUss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QUFHLENBQUMsRUFBRTtBQUMxQyxZQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQ25FLFNBQUs7QUFBQyxhQUFLO0FBQ1gsWUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQzlCLFNBQUs7QUFDTCxJQUFFLENBQUM7QUFDSCxJQUNFO0FBQ0Y7QUFDRTtBQUNFLE9BQUM7QUFDTCxJQUFFLE1BQU07QUFDUixRQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDekIsSUFBRSxDQUFDO0FBQ0g7NkNBaEtDLFNBQVMsU0FBQyxrQkFDVCxRQUFRLEVBQUUscUJBQXFCLGtCQUMvQjs7Ozs7Ozs7Ozs7Ozs7OEJBQStDLGNBQ2hEOzs7MEdBQ0k7QUFBQztBQUEyQyxZQXpEeEMsVUFBVSx1QkErR0osSUFBSTtBQUFPLFlBNUhqQixPQUFPLHVCQTRIb0MsSUFBSTtBQUFNO0FBQUc7QUFHdkQscUJBcERQLEtBQUs7QUFBSyxzQkFNVixLQUFLO0FBQUssdUJBS1YsS0FBSztBQUFLLHVCQUtWLE1BQU07QUFBSyxxQkFJWCxNQUFNO0FBQUsscUJBS1gsTUFBTTtBQUFLLHVCQUtYLE1BQU07QUFBSywwQkFvQ1gsS0FBSztBQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBQUU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENka1N0ZXAgfSBmcm9tICdAYW5ndWxhci9jZGsvc3RlcHBlcic7XG5pbXBvcnQge1xuICBBZnRlckNvbnRlbnRJbml0LFxuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgSG9zdCxcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZXNcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEM4eVN0ZXBwZXIgfSBmcm9tICcuL3N0ZXBwZXIuY29tcG9uZW50JztcbmltcG9ydCB7IFN0ZXBwZXJCdXR0b25zVmlzaWJpbGl0eSB9IGZyb20gJy4vc3RlcHBlci5tb2RlbCc7XG5cbi8qKlxuICogQzh5U3RlcHBlckJ1dHRvbnMgcHJvdmlkZXMgYSBjb252aW5pZW50IHdheSB0byBoYXZlLCBhY2NvcmRpbmcgdG9cbiAqIHRoZSBDOHlTdGVwcGVyIGFuZCBlYWNoIGNkay1zdGVwLCBidXR0b25zIHRvIG5hdmlnYXRlIGJldHdlZW4gc3RlcHMgb3IgdG8gY2FuY2VsIHRoZSB3aG9sZVxuICogc3RlcC1wcm9jZXNzLiBCdXR0b25zIHJlbmRlcmVkIHdpdGggdGhlIGhlbHAgb2YgdGhpcyBjb21wb25lbnQgd2lsbCB1c2UgdGhlIGJyYW5kaW5nIGNzcy5cbiAqXG4gKiBCeSBkZWZhdWx0IGFsbCBzdGVwcyB3aXRoIHRoaXMgY29tcG9uZW50IGluIHVzZSB3aWxsIHJlbmRlciBhIG5leHQgYnV0dG9uLCBleHBlY3QgdGhlIGxhc3Qgc3RlcC5cbiAqIFRoZSBvdGhlciB3YXkgYXJvdW5kLCBldmVyeSBzdGVwIHVzaW5nIHRoaXMgY29tcG9uZW50IHdpbGwgcmVuZGVyIGEgYmFjayBidXR0b24sIGV4cGVjdCB0aGUgZmlyc3Qgc3RlcC5cbiAqIFRvIGdldCBhIGNhbmNlbCBidXR0b24gcmVuZGVyZWQgeW91IG5lZWQgdG8gaGFuZGxlIHRoZSBvbkNhbmNlbCBldmVudC5cbiAqIEZvciBuZXh0IGFuZCBiYWNrIGJ1dHRvbiB5b3UgZG9uJ3QgbmVlZCB0byBoYW5kbGUgdGhlIGF2YWlsYWJsZSBldmVudHMgb25OZXh0IGFuZCBvbkJhY2sgYmVjYXVzZSBkZWZhdWx0IGJlaGF2aW9yXG4gKiBpcyBpbXBsZW1lbnRlZC4gVGhlIGRlZmF1bHQgd2lsbCBqdXN0IGNhbGwsIGFjY29yZGluZyB0byB0aGUgYnV0dG9uLCB0aGUgc3RlcHBlci5uZXh0KCkgb3Igc3RlcHBlci5wcmV2aW91cygpXG4gKiBtZXRob2RzIGFuZCBtb3ZlcyB0aGUgc3RlcHBlciBmb3J0aCBvciBiYWNrLiBVc2luZyB0aGUgRXZlbnRFbWl0dGVyIG9uTmV4dCBhbmQgb25CYWNrIHdpbGwgZW1pdCBmb3IgeW91IHRoZSBmb2xsb3dpbmdcbiAqIG9iamVjdDoge3N0ZXBwZXI6IEM4eVN0ZXBwZXIsIHN0ZXA6IENka1N0ZXB9LiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3UgbmVlZCB0byBpbXBsZW1lbnQgY3VzdG9tIGxvZ2ljIGJlZm9yZSBtb3ZpbmdcbiAqIHRvIHRoZSBuZXh0IHN0ZXAgb3Igc2VuZGluZyBkYXRhIHRvIGEgYmFja2VuZC4gSW4gdGhpcyBjYXNlIHlvdSBuZWVkIHRvIHRlbGwgdGhlIHN0ZXBwZXIgdG8gbW92ZSBmb3J3YXJkIG9yIGJhY2tcbiAqIG9uIHlvdXIgb3duLlxuICpcbiAqIFdpdGggdGhlIGNvbXBvbmVudCBpbnB1dCBbbGFiZWxzXSB5b3UgY2FuIGNoYW5nZSB0aGUgbGFiZWwgb2YgZWFjaCBidXR0b24gaW4gZWFjaCBzdGVwLiBJdCB0YWtlcyBhbiBvYmplY3QgbGlrZSB0aGlzOlxuICoge25leHQ/OiBzdHJpbmcsIGJhY2s/OiBzdHJpbmcsIGNhbmNlbD86IHN0cmluZ31cbiAqXG4gKiBUaGUgW3BlbmRpbmddIGlucHV0IGlzIG9mIHR5cGUgYm9vbGVhbiBhbmQgd2lsbCBlbmFibGUgY3NzIGFuaW1hdGlvbiBmb3IgdGhlIG5leHQgYnV0dG9uIHdoZW4gdHJ1ZS5cbiAqXG4gKiBJZiB0aGUgY2RrLXN0ZXAgcHJvdmlkZXMgYSBzdGVwQ29udHJvbCB0aGUgY29tcG9uZW50IHdpbGwgc2V0IHRoZSBuZXh0IGJ1dHRvbiBkaXNhYmxlZCB3aGVuIHRoZSBmb3JtR3JvdXBcbiAqIGJlaGluZCBpdCBpcyBpbnZhbGlkLiBBcyBsb25nIGFzIHRoZSBbcGVuZGluZ10gaW5wdXQgaXMgdHJ1ZSB0aGUgYmFjayBhbmQgbmV4dCBidXR0b24gaXMgYWxzbyBkaXNhYmxlZC5cbiAqIFRoaXMgd2lsbCBwcmV2ZW50IG11bHRpcGxlIGNsaWNrcyB3aGlsZSBydW5uaW5nIGEgcmVxdWVzdCBvciBzdGVwcGluZyBiYWNrIHdoaWxlIGEgcmVxdWVzdCBpcyBvbmdvaW5nLlxuICpcbiAqICoqRXhhbXBsZSoqXG4gKiBgYGBcbiAqIDxjOHktc3RlcHBlcj5cbiAqICA8Y2RrLXN0ZXA+XG4gKiAgICA8IS0tXG4gKiAgICAgIHlvdXIgaHRtbCBjb2RlXG4gKiAgICAgICAgICAuLi5cbiAqICAgICAgICAgIC4uLiAgICAtLT5cbiAqICAgIDxjOHktc3RlcHBlci1idXR0b25zXG4gKiAgICAgKG9uTmV4dCk9XCJzYXZlKClcIlxuICogICAgIFtsYWJlbHNdPVwieyBuZXh0OiAnU2F2ZScgfVwiXG4gKiAgICAgW3BlbmRpbmddPVwicGVuZGluZ1N0YXR1c1wiXG4gKiAgICAgPjwvYzh5LXN0ZXBwZXItYnV0dG9ucz5cbiAqICA8L2Nkay1zdGVwPlxuICogPC9jOHktc3RlcHBlcj5cbiAqXG4gKiAvLyBpbiB5b3VyIGNvbXBvbmVudDpcbiAqIGFzeW5jIHNhdmUoKSB7XG4gKiAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IHRydWU7XG4gKiAgIC8vIHlvdXIgYXN5bmMgcmVxdWVzdCBnb2VzIGhlcmUgLi4uXG4gKiAgIC8vIGF3YWl0IHNvbWV0aGluZygpO1xuICogICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBmYWxzZTtcbiAqICAgdGhpcy5zdGVwcGVyLm5leHQoKTtcbiAqIH1cbiAqIGBgYFxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjOHktc3RlcHBlci1idXR0b25zJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3N0ZXBwZXItYnV0dG9ucy5jb21wb25lbnQuaHRtbCdcbn0pXG5leHBvcnQgY2xhc3MgQzh5U3RlcHBlckJ1dHRvbnMgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0LCBPbkRlc3Ryb3ksIE9uQ2hhbmdlcyB7XG4gIC8qKlxuICAgKiBPcHRpb25hbFxuICAgKiBTcGVjaWZ5IGN1c3RvbSBsYWJlbHMgZm9yIGVhY2ggYnV0dG9uIChjYW5jZWwsIGJhY2sgb3IgbmV4dClcbiAgICovXG4gIEBJbnB1dCgpIGxhYmVscz86IHsgY2FuY2VsPzogc3RyaW5nOyBiYWNrPzogc3RyaW5nOyBuZXh0Pzogc3RyaW5nOyBjdXN0b20/OiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqIE9wdGlvbmFsXG4gICAqIEluZGljYXRlcyBpZiBhIHJlcXVlc3QgaXMgcGVuZGluZyBhbmQgc2V0cyB0aGUgbmV4dCBidXR0b25cbiAgICogdG8gZGlzYWJsZWQgd2hlbiB0cnVlXG4gICAqL1xuICBASW5wdXQoKSBwZW5kaW5nPzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBEaXNhYmxlZCBzdGF0ZSBvZiBhIGJ1dHRvblxuICAgKi9cbiAgQElucHV0KCkgZGlzYWJsZWQ/OiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEV2ZW50RW1pdHRlciB3aGljaCBlbWl0cyB3aGVuIGNhbmNlbCBidXR0b24gaXMgY2xpY2tlZFxuICAgKi9cbiAgQE91dHB1dCgpIG9uQ2FuY2VsID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAvKipcbiAgICogRXZlbnRFbWl0dGVyIHdoaWNoIGVtaXRzIHtzdGVwcGVyOiBDOHlTdGVwcGVyOyBzdGVwOiBDZGtTdGVwfSB3aGVuIG5leHQgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqL1xuICBAT3V0cHV0KCkgb25OZXh0ID0gbmV3IEV2ZW50RW1pdHRlcjx7IHN0ZXBwZXI6IEM4eVN0ZXBwZXI7IHN0ZXA6IENka1N0ZXAgfT4oKTtcblxuICAvKipcbiAgICogRXZlbnRFbWl0dGVyIHdoaWNoIGVtaXRzIHtzdGVwcGVyOiBDOHlTdGVwcGVyOyBzdGVwOiBDZGtTdGVwfSB3aGVuIGJhY2sgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqL1xuICBAT3V0cHV0KCkgb25CYWNrID0gbmV3IEV2ZW50RW1pdHRlcjx7IHN0ZXBwZXI6IEM4eVN0ZXBwZXI7IHN0ZXA6IENka1N0ZXAgfT4oKTtcblxuICAvKipcbiAgICogRXZlbnRFbWl0dGVyIHdoaWNoIGVtaXRzIHdoZW4gdGhlIG9wdGlvbmFsIGN1c3RvbSBidXR0b24gaXMgY2xpY2tlZFxuICAgKi9cbiAgQE91dHB1dCgpIG9uQ3VzdG9tID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKlxuICAgKiBJbmRpY2F0b3Igd2hpY2ggYnV0dG9uIHNob3VsZCBiZSBzaG93bi5cbiAgICogQmFzZWQgb24gdGhlIGNkay1zdGVwcyB3aXRoaW4gdGhlIGM4eS1zdGVwcGVyXG4gICAqIG5leHQgYW5kIGJhY2sgYnV0dG9ucyBhcmUgcmVuZGVyZWQuXG4gICAqL1xuICBzaG93QnRuczogU3RlcHBlckJ1dHRvbnNWaXNpYmlsaXR5ID0ge1xuICAgIGNhbmNlbDogZmFsc2UsXG4gICAgYmFjazogZmFsc2UsXG4gICAgbmV4dDogZmFsc2UsXG4gICAgY3VzdG9tOiBmYWxzZVxuICB9O1xuICAvKipcbiAgICogRmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBkZWZhdWx0IHNldHRpbmdzIGRlZmluZWQgaW4gdGhlIHNob3dCdG5zIGhhdmUgYmVlbiBvdmVyd3JpdHRlbi5cbiAgICovXG4gIGZvcmNlU2hvd0J0bnM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwcml2YXRlIHN0YXR1c0NoYW5nZVN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICBjb25zdHJ1Y3RvcihASG9zdCgpIHByaXZhdGUgc3RlcHBlcjogQzh5U3RlcHBlciwgQEhvc3QoKSBwcml2YXRlIHN0ZXA6IENka1N0ZXApIHt9XG5cbiAgLyoqXG4gICAqIFRoaXMgb3B0aW9uIGZvcmNlcyB0aGUgZGlzcGxheSBvZiB0aGUgYnV0dG9ucyBwYXNzZWQgYnkgdGhlIGlucHV0LlxuICAgKiBJdCB3aWxsIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHNldHRpbmdzIGFuZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciB0aGUgc3RhbmRhcmQgc2V0dGluZ3MuXG4gICAqIEBwYXJhbSBidG5zIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIG9wdGlvbnMgZm9yIGRpc3BsYXlpbmcgYnV0dG9ucy5cbiAgICpcbiAgICogKipFeGFtcGxlKipcbiAgICogYGBgaHRtbFxuICAgKlxuICAgKiA8Yzh5LXN0ZXBwZXItYnV0dG9uc1xuICAgKiAgIFtsYWJlbHNdPVwieyBjdXN0b206ICdDdXN0b20gYnRuJywgY2FuY2VsOiAnQ2FuY2VsIGJ0bicgfVwiXG4gICAqICAgW3Nob3dCdXR0b25zXT1cInsgY3VzdG9tOiB0cnVlLCBjYW5jZWw6IHRydWUgfVwiXG4gICAqID48L2M4eS1zdGVwcGVyLWJ1dHRvbnM+XG4gICAqXG4gICAqIGBgYFxuICAgKi9cbiAgQElucHV0KCkgc2V0IHNob3dCdXR0b25zKGJ0bnM6IFN0ZXBwZXJCdXR0b25zVmlzaWJpbGl0eSkge1xuICAgIGlmIChidG5zKSB7XG4gICAgICB0aGlzLnNob3dCdG5zID0gYnRucztcbiAgICAgIHRoaXMuZm9yY2VTaG93QnRucyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgIGlmICghdGhpcy5mb3JjZVNob3dCdG5zKSB7XG4gICAgICB0aGlzLnNob3dCdG5zLmNhbmNlbCA9IHRoaXMub25DYW5jZWwub2JzZXJ2ZXJzLmxlbmd0aCA+IDA7XG4gICAgICB0aGlzLnNob3dCdG5zLmN1c3RvbSA9IHRoaXMub25DdXN0b20ub2JzZXJ2ZXJzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RlcHBlciAmJiB0aGlzLnN0ZXBwZXIuX3N0ZXBzICYmIHRoaXMuc3RlcCAmJiAhdGhpcy5mb3JjZVNob3dCdG5zKSB7XG4gICAgICB0aGlzLnNob3dCdG5zLmJhY2sgPSB0aGlzLnN0ZXBwZXIuX3N0ZXBzLmZpcnN0ICE9PSB0aGlzLnN0ZXA7XG4gICAgICB0aGlzLnNob3dCdG5zLm5leHQgPSB0aGlzLnN0ZXBwZXIuX3N0ZXBzLmxhc3QgIT09IHRoaXMuc3RlcDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGVwICYmIHRoaXMuc3RlcC5zdGVwQ29udHJvbCkge1xuICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMuc3RlcC5zdGVwQ29udHJvbC5pbnZhbGlkO1xuXG4gICAgICB0aGlzLnN0YXR1c0NoYW5nZVN1YnNjcmlwdGlvbiA9IHRoaXMuc3RlcC5zdGVwQ29udHJvbC5zdGF0dXNDaGFuZ2VzLnN1YnNjcmliZShzdGF0dXMgPT4ge1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5zdGVwLnN0ZXBDb250cm9sLmludmFsaWQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBzYXZlL25leHQgYnV0dG9uIHdoaWxlIHRoZSBzdGF0dXMgaXMgcGVuZGluZ1xuICAgICAqIFRoaXMgd2lsbCBwcmV2ZW50IG11bHRpcGxlIGNsaWNrcyBhbmQgdGhlcmVmb3JlIG11bHRpcGxlIHJlcXVlc3RzXG4gICAgICovXG4gICAgaWYgKGNoYW5nZXMgJiYgY2hhbmdlcy5wZW5kaW5nKSB7XG4gICAgICB0aGlzLmRpc2FibGVkID0gY2hhbmdlcy5wZW5kaW5nLmN1cnJlbnRWYWx1ZTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5zdGF0dXNDaGFuZ2VTdWJzY3JpcHRpb24gJiYgIXRoaXMuc3RhdHVzQ2hhbmdlU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgdGhpcy5zdGF0dXNDaGFuZ2VTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBjYWxsZWQgd2hlbiBjYW5jZWwgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAqIEl0IHdpbGwgZW1pdCBpbW1lZGlhdGUuXG4gICAqL1xuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5vbkNhbmNlbC5lbWl0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBjYWxsZWQgd2hlbiBuZXh0IGJ1dHRvbiBpcyBjbGlja2VkLiBXaGVuIG9uTmV4dCBFdmVudEVtaXR0ZXIgaGFzIGFuIG9ic2VydmVyIHJlZ2lzdGVyZWRcbiAgICogaXQgd2lsbCBlbWl0IHRoZSBmb2xsb3dpbmcgb2JqZWN0IHtzdGVwcGVyOiBDOHlTdGVwcGVyOyBzdGVwOiBDZGtTdGVwfS5cbiAgICogT3RoZXJ3aXNlIGl0IHdpbGwgY2FsbCBzdGVwcGVyLm5leHQoKSBhcyBkZWZhdWx0LlxuICAgKi9cbiAgbmV4dCgpIHtcbiAgICBpZiAodGhpcy5vbk5leHQub2JzZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMub25OZXh0LmVtaXQoeyBzdGVwcGVyOiB0aGlzLnN0ZXBwZXIsIHN0ZXA6IHRoaXMuc3RlcCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdGVwcGVyLm5leHQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBjYWxsZWQgd2hlbiBiYWNrIGJ1dHRvbiBpcyBjbGlja2VkLiBXaGVuIG9uQmFjayBFdmVudEVtaXR0ZXIgaGFzIGFuIG9ic2VydmVyIHJlZ2lzdGVyZWRcbiAgICogaXQgd2lsbCBlbWl0IHRoZSBmb2xsb3dpbmcgb2JqZWN0IHtzdGVwcGVyOiBDOHlTdGVwcGVyOyBzdGVwOiBDZGtTdGVwfS5cbiAgICogT3RoZXJ3aXNlIGl0IHdpbGwgY2FsbCBzdGVwcGVyLnByZXZpb3VzKCkgYXMgZGVmYXVsdC5cbiAgICovXG4gIGJhY2soKSB7XG4gICAgdGhpcy5zdGVwcGVyLnNlbGVjdGVkLmNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLm9uQmFjay5vYnNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5vbkJhY2suZW1pdCh7IHN0ZXBwZXI6IHRoaXMuc3RlcHBlciwgc3RlcDogdGhpcy5zdGVwIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0ZXBwZXIucHJldmlvdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBjYWxsZWQgd2hlbiB0aGUgY3VzdG9tIGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKiBJdCB3aWxsIGVtaXQgaW1tZWRpYXRlbHkuXG4gICAqL1xuICBjdXN0b20oKSB7XG4gICAgdGhpcy5vbkN1c3RvbS5lbWl0KCk7XG4gIH1cbn1cbiJdfQ==