import { __awaiter } from "tslib";
import { Injectable } from '@angular/core';
import { gettext, NavigatorNode } from '@c8y/ngx-components';
import { DefaultSubscriptionsGuard } from './default-subscriptions.guard';
export class DefaultSubscriptionsNavigationFactory {
    constructor(defaultSubscriptionsGuard) {
        this.defaultSubscriptionsGuard = defaultSubscriptionsGuard;
        this.navNode = new NavigatorNode({
            label: gettext('Default subscriptions'),
            path: '/default-subscriptions',
            icon: 'c8y-c8y-data',
            parent: gettext('Ecosystem'),
            priority: 100
        });
    }
    /** Returns the navigation node if the feature is active. */
    get() {
        return __awaiter(this, void 0, void 0, function* () {
            if (yield this.defaultSubscriptionsGuard.canActivate()) {
                return this.navNode;
            }
        });
    }
}
DefaultSubscriptionsNavigationFactory.decorators = [
    { type: Injectable }
];
DefaultSubscriptionsNavigationFactory.ctorParameters = () => [
    { type: DefaultSubscriptionsGuard }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdC1zdWJzY3JpcHRpb25zLW5hdmlnYXRpb24uZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2RlZmF1bHQtc3Vic2NyaXB0aW9ucy9kZWZhdWx0LXN1YnNjcmlwdGlvbnMtbmF2aWdhdGlvbi5mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8sRUFBRSxPQUFPLEVBQUUsYUFBYSxFQUF3QixNQUFNLHFCQUFxQixDQUFDO0FBQ25GLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBRzFFLE1BQU0sT0FBTyxxQ0FBcUM7SUFTaEQsWUFBb0IseUJBQW9EO1FBQXBELDhCQUF5QixHQUF6Qix5QkFBeUIsQ0FBMkI7UUFSaEUsWUFBTyxHQUFHLElBQUksYUFBYSxDQUFDO1lBQ2xDLEtBQUssRUFBRSxPQUFPLENBQUMsdUJBQXVCLENBQUM7WUFDdkMsSUFBSSxFQUFFLHdCQUF3QjtZQUM5QixJQUFJLEVBQUUsY0FBYztZQUNwQixNQUFNLEVBQUUsT0FBTyxDQUFDLFdBQVcsQ0FBQztZQUM1QixRQUFRLEVBQUUsR0FBRztTQUNkLENBQUMsQ0FBQztJQUV3RSxDQUFDO0lBRTVFLDREQUE0RDtJQUN0RCxHQUFHOztZQUNQLElBQUksTUFBTSxJQUFJLENBQUMseUJBQXlCLENBQUMsV0FBVyxFQUFFLEVBQUU7Z0JBQ3RELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQzthQUNyQjtRQUNILENBQUM7S0FBQTs7O1lBakJGLFVBQVU7OztZQUZGLHlCQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGdldHRleHQsIE5hdmlnYXRvck5vZGUsIE5hdmlnYXRvck5vZGVGYWN0b3J5IH0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBEZWZhdWx0U3Vic2NyaXB0aW9uc0d1YXJkIH0gZnJvbSAnLi9kZWZhdWx0LXN1YnNjcmlwdGlvbnMuZ3VhcmQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGVmYXVsdFN1YnNjcmlwdGlvbnNOYXZpZ2F0aW9uRmFjdG9yeSBpbXBsZW1lbnRzIE5hdmlnYXRvck5vZGVGYWN0b3J5IHtcbiAgcHJpdmF0ZSBuYXZOb2RlID0gbmV3IE5hdmlnYXRvck5vZGUoe1xuICAgIGxhYmVsOiBnZXR0ZXh0KCdEZWZhdWx0IHN1YnNjcmlwdGlvbnMnKSxcbiAgICBwYXRoOiAnL2RlZmF1bHQtc3Vic2NyaXB0aW9ucycsXG4gICAgaWNvbjogJ2M4eS1jOHktZGF0YScsXG4gICAgcGFyZW50OiBnZXR0ZXh0KCdFY29zeXN0ZW0nKSxcbiAgICBwcmlvcml0eTogMTAwXG4gIH0pO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZGVmYXVsdFN1YnNjcmlwdGlvbnNHdWFyZDogRGVmYXVsdFN1YnNjcmlwdGlvbnNHdWFyZCkge31cblxuICAvKiogUmV0dXJucyB0aGUgbmF2aWdhdGlvbiBub2RlIGlmIHRoZSBmZWF0dXJlIGlzIGFjdGl2ZS4gKi9cbiAgYXN5bmMgZ2V0KCk6IFByb21pc2U8TmF2aWdhdG9yTm9kZT4ge1xuICAgIGlmIChhd2FpdCB0aGlzLmRlZmF1bHRTdWJzY3JpcHRpb25zR3VhcmQuY2FuQWN0aXZhdGUoKSkge1xuICAgICAgcmV0dXJuIHRoaXMubmF2Tm9kZTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==