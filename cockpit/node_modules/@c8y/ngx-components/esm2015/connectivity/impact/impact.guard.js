import { Injectable } from '@angular/core';
import { ApplicationService } from '@c8y/client';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@c8y/client';
export class ImpactGuard {
    constructor(applicationService) {
        this.applicationService = applicationService;
    }
    canActivate(route, state) {
        if (this.showImpactProvider === undefined) {
            this.showImpactProvider = this.applicationService
                .isAvailable(ImpactGuard.applicationName)
                .then(result => result && result.data);
        }
        return this.showImpactProvider;
    }
}
ImpactGuard.ɵfac = function ImpactGuard_Factory(t) { return new (t || ImpactGuard)(ɵngcc0.ɵɵinject(ɵngcc1.ApplicationService)); };
ImpactGuard.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ImpactGuard, factory: ImpactGuard.ɵfac });
ImpactGuard.applicationName = 'impact';
ImpactGuard.ctorParameters = () => [
    { type: ApplicationService }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImpactGuard, [{
        type: Injectable
    }], function () { return [{ type: ɵngcc1.ApplicationService }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wYWN0Lmd1YXJkLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9jb25uZWN0aXZpdHkvaW1wYWN0L2ltcGFjdC5ndWFyZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGFBQWEsQ0FBQzs7O0FBR2pELE1BQU0sT0FBTyxXQUFXO0FBQUcsSUFJekIsWUFBb0Isa0JBQXNDO0FBQUksUUFBMUMsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtBQUFDLElBQUUsQ0FBQztBQUNoRSxJQUNFLFdBQVcsQ0FBQyxLQUE2QixFQUFFLEtBQTBCO0FBQUksUUFDdkUsSUFBSSxJQUFJLENBQUMsa0JBQWtCLEtBQUssU0FBUyxFQUFFO0FBQy9DLFlBQU0sSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxrQkFBa0I7QUFDdkQsaUJBQVMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUM7QUFDakQsaUJBQVMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMvQyxTQUFLO0FBQ0wsUUFDSSxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztBQUNuQyxJQUFFLENBQUM7QUFDSDs7K0dBQUM7QUFkeUIsMkJBQWUsR0FBRyxRQUFRLENBQUMsQUFEbkQ7QUFBQztFQURGLFVBQVUsWkFDNkIsWUFIL0Isa0JBQWtCO0FBQUc7OzttRkFBRTtBQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgQ2FuQWN0aXZhdGUsIFJvdXRlclN0YXRlU25hcHNob3QgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQXBwbGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnQGM4eS9jbGllbnQnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgSW1wYWN0R3VhcmQgaW1wbGVtZW50cyBDYW5BY3RpdmF0ZSB7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IGFwcGxpY2F0aW9uTmFtZSA9ICdpbXBhY3QnO1xuICBwcml2YXRlIHNob3dJbXBhY3RQcm92aWRlcjogUHJvbWlzZTxib29sZWFuPjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcGxpY2F0aW9uU2VydmljZTogQXBwbGljYXRpb25TZXJ2aWNlKSB7fVxuXG4gIGNhbkFjdGl2YXRlKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGlmICh0aGlzLnNob3dJbXBhY3RQcm92aWRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnNob3dJbXBhY3RQcm92aWRlciA9IHRoaXMuYXBwbGljYXRpb25TZXJ2aWNlXG4gICAgICAgIC5pc0F2YWlsYWJsZShJbXBhY3RHdWFyZC5hcHBsaWNhdGlvbk5hbWUpXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiByZXN1bHQgJiYgcmVzdWx0LmRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnNob3dJbXBhY3RQcm92aWRlcjtcbiAgfVxufVxuIl19