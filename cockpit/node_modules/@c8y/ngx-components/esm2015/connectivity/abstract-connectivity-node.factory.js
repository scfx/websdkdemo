import { Injectable } from '@angular/core';
import { gettext, NavigatorNode, toObservable } from '@c8y/ngx-components';
import { map } from 'rxjs/operators';
import { AbstractConnectivityTabFactory } from './abstract-connectivity-tab.factory';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './abstract-connectivity-tab.factory';
export class AbstractConnectivityNodeFactory {
    constructor(tabFactory) {
        this.tabFactory = tabFactory;
        this.connectivityNode = new NavigatorNode({
            parent: gettext('Settings'),
            label: gettext('Connectivity'),
            path: 'connectivitySettings',
            icon: 'plug',
            preventDuplicates: true
        });
    }
    get() {
        return toObservable(this.tabFactory.tab()).pipe(map(tab => {
            return !!tab ? [this.connectivityNode] : [];
        }));
    }
}
AbstractConnectivityNodeFactory.ɵfac = function AbstractConnectivityNodeFactory_Factory(t) { return new (t || AbstractConnectivityNodeFactory)(ɵngcc0.ɵɵinject(ɵngcc1.AbstractConnectivityTabFactory)); };
AbstractConnectivityNodeFactory.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: AbstractConnectivityNodeFactory, factory: AbstractConnectivityNodeFactory.ɵfac });
AbstractConnectivityNodeFactory.ctorParameters = () => [
    { type: AbstractConnectivityTabFactory }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AbstractConnectivityNodeFactory, [{
        type: Injectable
    }], function () { return [{ type: ɵngcc1.AbstractConnectivityTabFactory }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWJzdHJhY3QtY29ubmVjdGl2aXR5LW5vZGUuZmFjdG9yeS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vY29ubmVjdGl2aXR5L2Fic3RyYWN0LWNvbm5lY3Rpdml0eS1ub2RlLmZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBd0IsWUFBWSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDakcsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JDLE9BQU8sRUFBRSw4QkFBOEIsRUFBRSxNQUFNLHFDQUFxQyxDQUFDOzs7QUFHckYsTUFBTSxPQUFnQiwrQkFBK0I7QUFBRyxJQVN0RCxZQUFzQixVQUEwQztBQUFJLFFBQTlDLGVBQVUsR0FBVixVQUFVLENBQWdDO0FBQUMsUUFSOUMscUJBQWdCLEdBQWtCLElBQUksYUFBYSxDQUFDO0FBQ3pFLFlBQUksTUFBTSxFQUFFLE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDL0IsWUFBSSxLQUFLLEVBQUUsT0FBTyxDQUFDLGNBQWMsQ0FBQztBQUNsQyxZQUFJLElBQUksRUFBRSxzQkFBc0I7QUFDaEMsWUFBSSxJQUFJLEVBQUUsTUFBTTtBQUNoQixZQUFJLGlCQUFpQixFQUFFLElBQUk7QUFDM0IsU0FBRyxDQUFDLENBQUM7QUFDTCxJQUNxRSxDQUFDO0FBQ3RFLElBQ0UsR0FBRztBQUNMLFFBQUksT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FDN0MsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0FBQ2hCLFlBQVEsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDcEQsUUFBTSxDQUFDLENBQUMsQ0FDSCxDQUFDO0FBQ04sSUFBRSxDQUFDO0FBQ0g7MkRBbkJDLFVBQVU7MktBQ1Q7QUFBQztBQUF5RCxZQUhuRCw4QkFBOEI7QUFBRzs7OytGQUFFO0FBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBnZXR0ZXh0LCBOYXZpZ2F0b3JOb2RlLCBOYXZpZ2F0b3JOb2RlRmFjdG9yeSwgdG9PYnNlcnZhYmxlIH0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBBYnN0cmFjdENvbm5lY3Rpdml0eVRhYkZhY3RvcnkgfSBmcm9tICcuL2Fic3RyYWN0LWNvbm5lY3Rpdml0eS10YWIuZmFjdG9yeSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENvbm5lY3Rpdml0eU5vZGVGYWN0b3J5IGltcGxlbWVudHMgTmF2aWdhdG9yTm9kZUZhY3Rvcnkge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgY29ubmVjdGl2aXR5Tm9kZTogTmF2aWdhdG9yTm9kZSA9IG5ldyBOYXZpZ2F0b3JOb2RlKHtcbiAgICBwYXJlbnQ6IGdldHRleHQoJ1NldHRpbmdzJyksXG4gICAgbGFiZWw6IGdldHRleHQoJ0Nvbm5lY3Rpdml0eScpLFxuICAgIHBhdGg6ICdjb25uZWN0aXZpdHlTZXR0aW5ncycsXG4gICAgaWNvbjogJ3BsdWcnLFxuICAgIHByZXZlbnREdXBsaWNhdGVzOiB0cnVlXG4gIH0pO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCB0YWJGYWN0b3J5OiBBYnN0cmFjdENvbm5lY3Rpdml0eVRhYkZhY3RvcnkpIHt9XG5cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0b09ic2VydmFibGUodGhpcy50YWJGYWN0b3J5LnRhYigpKS5waXBlKFxuICAgICAgbWFwKHRhYiA9PiB7XG4gICAgICAgIHJldHVybiAhIXRhYiA/IFt0aGlzLmNvbm5lY3Rpdml0eU5vZGVdIDogW107XG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cbiJdfQ==