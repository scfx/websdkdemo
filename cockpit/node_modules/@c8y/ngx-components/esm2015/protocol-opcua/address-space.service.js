import { __awaiter } from "tslib";
import { Injectable } from '@angular/core';
import { FetchClient } from '@c8y/client';
import { BehaviorSubject } from 'rxjs';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@c8y/client';
export class AddressSpaceService {
    constructor(fetchClient) {
        this.client = fetchClient;
        this.microserviceUrl = '/service/opcua-mgmt-service/address-space';
        this.header = { 'Content-Type': 'application/json' };
        this.nodeNavigationData$ = new BehaviorSubject({
            node: undefined,
            selectedAncestorIds: []
        });
    }
    resetTreeToRootNode() {
        this.triggerNodeToOpen({ node: undefined, selectedAncestorIds: [] });
    }
    triggerNodeToOpen(nodeNavigationData) {
        this.nodeNavigationData$.next(nodeNavigationData);
    }
    getNodeNavData$() {
        return this.nodeNavigationData$.asObservable();
    }
    getNode(serverId, nodeId) {
        if (serverId && serverId.length > 0) {
            if (nodeId && nodeId.length > 0) {
                return this.getNodeById(serverId, nodeId);
            }
            return this.getRootNode(serverId);
        }
    }
    getRootNode(serverId) {
        if (serverId && serverId.length > 0) {
            const options = {
                method: 'GET',
                headers: this.header
            };
            return this.client.fetch(`${this.microserviceUrl}/${serverId}`, options);
        }
    }
    getNodeById(serverId, nodeId) {
        if (serverId && nodeId && serverId.length > 0 && nodeId.length > 0) {
            const options = {
                method: 'GET',
                headers: this.header
            };
            const param = encodeURIComponent(nodeId);
            return this.client.fetch(`${this.microserviceUrl}/${serverId}?nodeId=${param}`, options);
        }
    }
    getChildrenOf(node, serverId) {
        if (serverId && node.nodeId && serverId.length > 0 && node.nodeId.length > 0) {
            const options = {
                method: 'GET',
                headers: this.header
            };
            const param = encodeURIComponent(node.nodeId);
            return this.client.fetch(`${this.microserviceUrl}/${serverId}/children?nodeId=${param}`, options);
        }
    }
    childrenAvailable(nodeReferences) {
        if (!nodeReferences || nodeReferences.length === 0) {
            return false;
        }
        return nodeReferences.some(ref => !ref.inverse && ref.hierarchical);
    }
    getSearchedNodes(searchKey, serverId) {
        return __awaiter(this, void 0, void 0, function* () {
            const url = `service/opcua-mgmt-service/search/${serverId}/`;
            const options = {
                headers: this.header,
                params: {
                    searchString: '*' + searchKey + '*'
                }
            };
            const res = yield this.client.fetch(url, options);
            return res.json();
        });
    }
    getIcon(nodeClassName) {
        const iconList = {
            Object: 'cube',
            Variable: 'th-list',
            Method: 'random',
            View: 'window-maximize',
            ObjectType: 'c8y-group',
            VariableType: 'c8y-group',
            ReferenceType: 'c8y-group',
            DataType: 'c8y-group'
        };
        return iconList[nodeClassName] || 'circle';
    }
}
AddressSpaceService.ɵfac = function AddressSpaceService_Factory(t) { return new (t || AddressSpaceService)(ɵngcc0.ɵɵinject(ɵngcc1.FetchClient)); };
AddressSpaceService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: AddressSpaceService, factory: AddressSpaceService.ɵfac });
AddressSpaceService.ctorParameters = () => [
    { type: FetchClient }
];
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AddressSpaceService, [{
        type: Injectable
    }], function () { return [{ type: ɵngcc1.FetchClient }]; }, null); })();

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRkcmVzcy1zcGFjZS5zZXJ2aWNlLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm90b2NvbC1vcGN1YS9hZGRyZXNzLXNwYWNlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyxFQUFFLFdBQVcsRUFBaUIsTUFBTSxhQUFhLENBQUM7QUFDekQsT0FBTyxFQUFFLGVBQWUsRUFBYyxNQUFNLE1BQU0sQ0FBQzs7O0FBR25ELE1BQU0sT0FBTyxtQkFBbUI7QUFDaEMsSUFLRSxZQUFZLFdBQXdCO0FBQ3RDLFFBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUM7QUFDOUIsUUFBSSxJQUFJLENBQUMsZUFBZSxHQUFHLDJDQUEyQyxDQUFDO0FBQ3ZFLFFBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLGNBQWMsRUFBRSxrQkFBa0IsRUFBRSxDQUFDO0FBQ3pELFFBQUksSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksZUFBZSxDQUFxQjtBQUN2RSxZQUFNLElBQUksRUFBRSxTQUFTO0FBQ3JCLFlBQU0sbUJBQW1CLEVBQUUsRUFBRTtBQUM3QixTQUFLLENBQUMsQ0FBQztBQUNQLElBQUUsQ0FBQztBQUNILElBQ0UsbUJBQW1CO0FBQ3JCLFFBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxtQkFBbUIsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3pFLElBQUUsQ0FBQztBQUNILElBQ0UsaUJBQWlCLENBQUMsa0JBQXNDO0FBQzFELFFBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3RELElBQUUsQ0FBQztBQUNILElBQ0UsZUFBZTtBQUFLLFFBQ2xCLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVksRUFBRSxDQUFDO0FBQ25ELElBQUUsQ0FB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RCxZQUExRCxNQUFNLEdBQUcsR0FBRyxxQ0FBcUMsUUFBUSxHQUFHLENBQUM7QUFDakUsWUFBSSxNQUFNLE9BQU8sR0FBa0I7QUFDbkMsZ0JBQU0sT0FBTyxFQUFFLElBQUksQ0FBQyxNQUFNO0FBQzFCLGdCQUFNLE1BQU0sRUFBRTtBQUNkLG9CQUFRLFlBQVksRUFBRSxHQUFHLEdBQUcsU0FBUyxHQUFHLEdBQUc7QUFDM0MsaUJBQU87QUFDUCxhQUFLLENBQUM7QUFDTixZQUFJLE1BQU0sR0FBRyxHQUFHLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RELFlBQUksT0FBTyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDdEIsUUFBRSxDQUFDO0FBRUYsS0FGRTtBQUNILElBQ0UsT0FBTyxDQUFDLGFBQXFCO0FBQy9CLFFBQUksTUFBTSxRQUFRLEdBQUc7QUFDckIsWUFBTSxNQUFNLEVBQUUsTUFBTTtBQUNwQixZQUFNLFFBQVEsRUFBRSxTQUFTO0FBQ3pCLFlBQU0sTUFBTSxFQUFFLFFBQVE7QUFDdEIsWUFBTSxJQUFJLEVBQUUsaUJBQWlCO0FBQzdCLFlBQU0sVUFBVSxFQUFFLFdBQVc7QUFDN0IsWUFBTSxZQUFZLEVBQUUsV0FBVztBQUMvQixZQUFNLGFBQWEsRUFBRSxXQUFXO0FBQ2hDLFlBQU0sUUFBUSxFQUFFLFdBQVc7QUFDM0IsU0FBSyxDQUFDO0FBQ04sUUFBSSxPQUFPLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxRQUFRLENBQUM7QUFDL0MsSUFBRSxDQUFDO0FBQ0g7K0NBekdDLFVBQVU7dUlBQ1Q7QUFBQztBQUNVLFlBTEosV0FBVztBQUFHOzs7NEVBQUU7QUFBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZldGNoQ2xpZW50LCBJRmV0Y2hPcHRpb25zIH0gZnJvbSAnQGM4eS9jbGllbnQnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBZGRyZXNzU3BhY2VTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBub2RlTmF2aWdhdGlvbkRhdGEkOiBCZWhhdmlvclN1YmplY3Q8Tm9kZU5hdmlnYXRpb25EYXRhPjtcbiAgcHJpdmF0ZSBjbGllbnQ6IEZldGNoQ2xpZW50O1xuICBwcml2YXRlIG1pY3Jvc2VydmljZVVybDogc3RyaW5nO1xuICBwcml2YXRlIGhlYWRlcjogYW55O1xuXG4gIGNvbnN0cnVjdG9yKGZldGNoQ2xpZW50OiBGZXRjaENsaWVudCkge1xuICAgIHRoaXMuY2xpZW50ID0gZmV0Y2hDbGllbnQ7XG4gICAgdGhpcy5taWNyb3NlcnZpY2VVcmwgPSAnL3NlcnZpY2Uvb3BjdWEtbWdtdC1zZXJ2aWNlL2FkZHJlc3Mtc3BhY2UnO1xuICAgIHRoaXMuaGVhZGVyID0geyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH07XG4gICAgdGhpcy5ub2RlTmF2aWdhdGlvbkRhdGEkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxOb2RlTmF2aWdhdGlvbkRhdGE+KHtcbiAgICAgIG5vZGU6IHVuZGVmaW5lZCxcbiAgICAgIHNlbGVjdGVkQW5jZXN0b3JJZHM6IFtdXG4gICAgfSk7XG4gIH1cblxuICByZXNldFRyZWVUb1Jvb3ROb2RlKCkge1xuICAgIHRoaXMudHJpZ2dlck5vZGVUb09wZW4oeyBub2RlOiB1bmRlZmluZWQsIHNlbGVjdGVkQW5jZXN0b3JJZHM6IFtdIH0pO1xuICB9XG5cbiAgdHJpZ2dlck5vZGVUb09wZW4obm9kZU5hdmlnYXRpb25EYXRhOiBOb2RlTmF2aWdhdGlvbkRhdGEpIHtcbiAgICB0aGlzLm5vZGVOYXZpZ2F0aW9uRGF0YSQubmV4dChub2RlTmF2aWdhdGlvbkRhdGEpO1xuICB9XG5cbiAgZ2V0Tm9kZU5hdkRhdGEkKCk6IE9ic2VydmFibGU8Tm9kZU5hdmlnYXRpb25EYXRhPiB7XG4gICAgcmV0dXJuIHRoaXMubm9kZU5hdmlnYXRpb25EYXRhJC5hc09ic2VydmFibGUoKTtcbiAgfVxuXG4gIGdldE5vZGUoc2VydmVySWQ6IHN0cmluZywgbm9kZUlkPzogc3RyaW5nKSB7XG4gICAgaWYgKHNlcnZlcklkICYmIHNlcnZlcklkLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChub2RlSWQgJiYgbm9kZUlkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Tm9kZUJ5SWQoc2VydmVySWQsIG5vZGVJZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5nZXRSb290Tm9kZShzZXJ2ZXJJZCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Um9vdE5vZGUoc2VydmVySWQ6IHN0cmluZykge1xuICAgIGlmIChzZXJ2ZXJJZCAmJiBzZXJ2ZXJJZC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBvcHRpb25zOiBJRmV0Y2hPcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlclxuICAgICAgfTtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudC5mZXRjaChgJHt0aGlzLm1pY3Jvc2VydmljZVVybH0vJHtzZXJ2ZXJJZH1gLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBnZXROb2RlQnlJZChzZXJ2ZXJJZDogc3RyaW5nLCBub2RlSWQ6IHN0cmluZykge1xuICAgIGlmIChzZXJ2ZXJJZCAmJiBub2RlSWQgJiYgc2VydmVySWQubGVuZ3RoID4gMCAmJiBub2RlSWQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgb3B0aW9uczogSUZldGNoT3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJcbiAgICAgIH07XG4gICAgICBjb25zdCBwYXJhbSA9IGVuY29kZVVSSUNvbXBvbmVudChub2RlSWQpO1xuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmZldGNoKGAke3RoaXMubWljcm9zZXJ2aWNlVXJsfS8ke3NlcnZlcklkfT9ub2RlSWQ9JHtwYXJhbX1gLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICBnZXRDaGlsZHJlbk9mKG5vZGU6IEFkZHJlc3NTcGFjZU5vZGUsIHNlcnZlcklkOiBzdHJpbmcpIHtcbiAgICBpZiAoc2VydmVySWQgJiYgbm9kZS5ub2RlSWQgJiYgc2VydmVySWQubGVuZ3RoID4gMCAmJiBub2RlLm5vZGVJZC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBvcHRpb25zOiBJRmV0Y2hPcHRpb25zID0ge1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlclxuICAgICAgfTtcbiAgICAgIGNvbnN0IHBhcmFtID0gZW5jb2RlVVJJQ29tcG9uZW50KG5vZGUubm9kZUlkKTtcbiAgICAgIHJldHVybiB0aGlzLmNsaWVudC5mZXRjaChcbiAgICAgICAgYCR7dGhpcy5taWNyb3NlcnZpY2VVcmx9LyR7c2VydmVySWR9L2NoaWxkcmVuP25vZGVJZD0ke3BhcmFtfWAsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgY2hpbGRyZW5BdmFpbGFibGUobm9kZVJlZmVyZW5jZXM6IEFkcmVzc1NwYWNlTm9kZVJlZmVyZW5jZVtdKTogYm9vbGVhbiB7XG4gICAgaWYgKCFub2RlUmVmZXJlbmNlcyB8fCBub2RlUmVmZXJlbmNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGVSZWZlcmVuY2VzLnNvbWUocmVmID0+ICFyZWYuaW52ZXJzZSAmJiByZWYuaGllcmFyY2hpY2FsKTtcbiAgfVxuXG4gIGFzeW5jIGdldFNlYXJjaGVkTm9kZXMoc2VhcmNoS2V5OiBzdHJpbmcsIHNlcnZlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB1cmwgPSBgc2VydmljZS9vcGN1YS1tZ210LXNlcnZpY2Uvc2VhcmNoLyR7c2VydmVySWR9L2A7XG4gICAgY29uc3Qgb3B0aW9uczogSUZldGNoT3B0aW9ucyA9IHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHNlYXJjaFN0cmluZzogJyonICsgc2VhcmNoS2V5ICsgJyonXG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgIHJldHVybiByZXMuanNvbigpO1xuICB9XG5cbiAgZ2V0SWNvbihub2RlQ2xhc3NOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpY29uTGlzdCA9IHtcbiAgICAgIE9iamVjdDogJ2N1YmUnLFxuICAgICAgVmFyaWFibGU6ICd0aC1saXN0JyxcbiAgICAgIE1ldGhvZDogJ3JhbmRvbScsXG4gICAgICBWaWV3OiAnd2luZG93LW1heGltaXplJyxcbiAgICAgIE9iamVjdFR5cGU6ICdjOHktZ3JvdXAnLFxuICAgICAgVmFyaWFibGVUeXBlOiAnYzh5LWdyb3VwJyxcbiAgICAgIFJlZmVyZW5jZVR5cGU6ICdjOHktZ3JvdXAnLFxuICAgICAgRGF0YVR5cGU6ICdjOHktZ3JvdXAnXG4gICAgfTtcbiAgICByZXR1cm4gaWNvbkxpc3Rbbm9kZUNsYXNzTmFtZV0gfHwgJ2NpcmNsZSc7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRyZXNzU3BhY2VOb2RlIHtcbiAgbm9kZUlkOiBzdHJpbmc7XG4gIGN1cnJlbnRseUxvYWRpbmdDaGlsZHJlbj86IGJvb2xlYW47XG4gIG5vZGVDbGFzcz86IG51bWJlcjtcbiAgbm9kZUNsYXNzTmFtZT86IHN0cmluZztcbiAgYnJvd3NlTmFtZT86IHN0cmluZztcbiAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogYW55O1xuICByZWZlcmVuY2VzPzogQWRyZXNzU3BhY2VOb2RlUmVmZXJlbmNlW107XG4gIGFuY2VzdG9yTm9kZUlkcz86IFtzdHJpbmdbXV07XG4gIGNoaWxkcmVuOiBBZGRyZXNzU3BhY2VOb2RlW107XG4gIGV4cGFuZGVkOiBib29sZWFuO1xuICBhYnNvbHV0ZVBhdGhzOiBbc3RyaW5nW11dO1xuICByZWxhdGl2ZVBhdGg/OiBzdHJpbmdbXTtcbiAgcGFyZW50Tm9kZT86IEFkZHJlc3NTcGFjZU5vZGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRyZXNzU3BhY2VOb2RlUmVmZXJlbmNlIHtcbiAgcmVmZXJlbmNlSWQ6IHN0cmluZztcbiAgdGFyZ2V0SWQ6IHN0cmluZztcbiAgaW52ZXJzZTogYm9vbGVhbjtcbiAgaGllcmFyY2hpY2FsOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaGVkTm9kZSB7XG4gIGFic29sdXRlUGF0aDogc3RyaW5nW107XG4gIGFuY2VzdG9yTm9kZUlkczogW3N0cmluZ1tdXTtcbiAgZGlzcGxheU5hbWU6IHN0cmluZztcbiAgbm9kZUNsYXNzTmFtZTogc3RyaW5nO1xuICBub2RlSWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlTmF2aWdhdGlvbkRhdGEge1xuICBub2RlOiBBZGRyZXNzU3BhY2VOb2RlO1xuICBzZWxlY3RlZEFuY2VzdG9ySWRzOiBzdHJpbmdbXTtcbn1cbiJdfQ==