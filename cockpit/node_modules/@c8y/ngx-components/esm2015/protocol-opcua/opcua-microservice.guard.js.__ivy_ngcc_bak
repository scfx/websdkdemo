import { Injectable } from '@angular/core';
import { AppStateService } from '@c8y/ngx-components';
export class OpcuaMicroserviceGuard {
    constructor(app) {
        this.app = app;
        this.microserviceName = 'opcua-mgmt-service';
    }
    canActivate() {
        if (!this.checkApp) {
            this.checkApp = this.app.isApplicationAvailable(this.microserviceName);
        }
        return this.checkApp;
    }
}
OpcuaMicroserviceGuard.decorators = [
    { type: Injectable }
];
OpcuaMicroserviceGuard.ctorParameters = () => [
    { type: AppStateService }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BjdWEtbWljcm9zZXJ2aWNlLmd1YXJkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vcHJvdG9jb2wtb3BjdWEvb3BjdWEtbWljcm9zZXJ2aWNlLmd1YXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBR3RELE1BQU0sT0FBTyxzQkFBc0I7SUFJakMsWUFDVSxHQUFvQjtRQUFwQixRQUFHLEdBQUgsR0FBRyxDQUFpQjtRQUo5QixxQkFBZ0IsR0FBVyxvQkFBb0IsQ0FBQztJQUs3QyxDQUFDO0lBRUosV0FBVztRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztTQUN4RTtRQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN2QixDQUFDOzs7WUFkRixVQUFVOzs7WUFGRixlQUFlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ2FuQWN0aXZhdGUgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQXBwU3RhdGVTZXJ2aWNlIH0gZnJvbSAnQGM4eS9uZ3gtY29tcG9uZW50cyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBPcGN1YU1pY3Jvc2VydmljZUd1YXJkIGltcGxlbWVudHMgQ2FuQWN0aXZhdGUge1xuICBtaWNyb3NlcnZpY2VOYW1lOiBzdHJpbmcgPSAnb3BjdWEtbWdtdC1zZXJ2aWNlJztcbiAgY2hlY2tBcHA6IFByb21pc2U8Ym9vbGVhbj47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHA6IEFwcFN0YXRlU2VydmljZVxuICApIHt9XG5cbiAgY2FuQWN0aXZhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmNoZWNrQXBwKSB7XG4gICAgICB0aGlzLmNoZWNrQXBwID0gdGhpcy5hcHAuaXNBcHBsaWNhdGlvbkF2YWlsYWJsZSh0aGlzLm1pY3Jvc2VydmljZU5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jaGVja0FwcDtcbiAgfVxufVxuIl19