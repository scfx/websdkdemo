{"version":3,"file":"c8y-ngx-components-protocol-opcua.umd.js","sources":["../../protocol-opcua/opcua-device-protocol-mapping-customaction.component.ts","../../../tslib/tslib.es6.js","../../protocol-opcua/address-space.service.ts","../../protocol-opcua/opcua-address-space-detail.component.ts","../../protocol-opcua/opcuaService.ts","../../protocol-opcua/opcua-agent.guard.ts","../../protocol-opcua/opcua-device-protocol-browse-path-validation.directive.ts","../../protocol-opcua/opcua-device-protocol-object-mapping.component.ts","../../protocol-opcua/opcua-device-protocol-mapping.component.ts","../../protocol-opcua/opcua-device-protocol-detail.component.ts","../../protocol-opcua/opcua-device-protocol-data-reporting.component.ts","../../protocol-opcua/opcua-device-protocol-object-mapping-status-icon.component.ts","../../protocol-opcua/opcua-address-space.component.ts","../../protocol-opcua/opcua-microservice.guard.ts","../../protocol-opcua/opcua-server-config.component.ts","../../protocol-opcua/opcua-server-list.component.ts","../../protocol-opcua/opcua-server.guard.ts","../../protocol-opcua/opcua-servers.component.ts","../../protocol-opcua/opcua-device-protocol-description.component.ts","../../protocol-opcua/dynamic-data-source.ts","../../protocol-opcua/opcua-address-space-tree.component.ts","../../protocol-opcua/opcua-auto-apply-settings.component.ts","../../protocol-opcua/opcua-protocol.module.ts","../../protocol-opcua/ng1/downgraded.components.ts","../../protocol-opcua/ng1/index.ts","../../protocol-opcua/c8y-ngx-components-protocol-opcua.ts"],"names":["get","Component","ControlContainer","NgModelGroup","Input","BehaviorSubject","Injectable","FetchClient","EventEmitter","omit","Output","InventoryService","Router","AlertService","isEmpty","some","isEqual","Directive","NG_VALIDATORS","forwardRef","ElementRef","UpgradeComponent","Injector","assign","cloneDeep","unset","set","ViewChild","find","findIndex","pick","gettext","ChangeDetectorRef","ViewChildren","toInteger","AppStateService","has","DropAreaComponent","TranslateService","ContextRouteComponent","Optional","NgForm","merge","map","Subject","takeUntil","clone","NestedTreeControl","reject","ViewContext","NgModule","CoreModule","FormsModule","ReactiveFormsModule","DropAreaModule","ButtonsModule","CdkTreeModule","RouterModule","TooltipModule","PopoverModule","DeviceStatusModule","BrowserAnimationsModule","CollapseModule","BsDropdownModule","HOOK_ROUTE","downgradeComponent","angular","registerNgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { NgModelGroup, ControlContainer } from '@angular/forms';\nimport { get } from 'lodash-es';\n\n@Component({\n  selector: 'opcua-device-protocol-mapping-customaction',\n  templateUrl: './opcua-device-protocol-mapping-customaction.html',\n  viewProviders: [{ provide: ControlContainer, useExisting: NgModelGroup }]\n})\nexport class OpcuaDeviceProtocolMappingCustomAction implements OnInit {\n  _model: any;\n  @Input() customAction;\n\n  hasCustomAction = false;\n  // no translation needed\n  readonly placeholders: string = '${value}, ${serverId}, ${nodeId}, ${deviceId}';\n\n  getHeaderPair() {\n    return { key: '', value: '' };\n  }\n  get headers() {\n    return this.customAction.headers;\n  }\n\n  addHeader() {\n    const { headers } = this.customAction;\n    headers.push(this.getHeaderPair());\n  }\n\n  updateCustomAction() {\n    this.hasCustomAction = !this.hasCustomAction;\n  }\n\n  removeCustomAction(index) {\n    const { headers } = this.customAction;\n\n    headers.splice(index, 1);\n  }\n\n  trackByIndex(index: number): number {\n    return index;\n  }\n\n  ngOnInit() {\n    if (get(this.customAction, 'endpoint')) {\n      this.hasCustomAction = true;\n    }\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { FetchClient, IFetchOptions } from '@c8y/client';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable()\nexport class AddressSpaceService {\n  private nodeNavigationData$: BehaviorSubject<NodeNavigationData>;\n  private client: FetchClient;\n  private microserviceUrl: string;\n  private header: any;\n\n  constructor(fetchClient: FetchClient) {\n    this.client = fetchClient;\n    this.microserviceUrl = '/service/opcua-mgmt-service/address-space';\n    this.header = { 'Content-Type': 'application/json' };\n    this.nodeNavigationData$ = new BehaviorSubject<NodeNavigationData>({\n      node: undefined,\n      selectedAncestorIds: []\n    });\n  }\n\n  resetTreeToRootNode() {\n    this.triggerNodeToOpen({ node: undefined, selectedAncestorIds: [] });\n  }\n\n  triggerNodeToOpen(nodeNavigationData: NodeNavigationData) {\n    this.nodeNavigationData$.next(nodeNavigationData);\n  }\n\n  getNodeNavData$(): Observable<NodeNavigationData> {\n    return this.nodeNavigationData$.asObservable();\n  }\n\n  getNode(serverId: string, nodeId?: string) {\n    if (serverId && serverId.length > 0) {\n      if (nodeId && nodeId.length > 0) {\n        return this.getNodeById(serverId, nodeId);\n      }\n      return this.getRootNode(serverId);\n    }\n  }\n\n  getRootNode(serverId: string) {\n    if (serverId && serverId.length > 0) {\n      const options: IFetchOptions = {\n        method: 'GET',\n        headers: this.header\n      };\n      return this.client.fetch(`${this.microserviceUrl}/${serverId}`, options);\n    }\n  }\n\n  getNodeById(serverId: string, nodeId: string) {\n    if (serverId && nodeId && serverId.length > 0 && nodeId.length > 0) {\n      const options: IFetchOptions = {\n        method: 'GET',\n        headers: this.header\n      };\n      const param = encodeURIComponent(nodeId);\n      return this.client.fetch(`${this.microserviceUrl}/${serverId}?nodeId=${param}`, options);\n    }\n  }\n\n  getChildrenOf(node: AddressSpaceNode, serverId: string) {\n    if (serverId && node.nodeId && serverId.length > 0 && node.nodeId.length > 0) {\n      const options: IFetchOptions = {\n        method: 'GET',\n        headers: this.header\n      };\n      const param = encodeURIComponent(node.nodeId);\n      return this.client.fetch(\n        `${this.microserviceUrl}/${serverId}/children?nodeId=${param}`,\n        options\n      );\n    }\n  }\n\n  childrenAvailable(nodeReferences: AdressSpaceNodeReference[]): boolean {\n    if (!nodeReferences || nodeReferences.length === 0) {\n      return false;\n    }\n    return nodeReferences.some(ref => !ref.inverse && ref.hierarchical);\n  }\n\n  async getSearchedNodes(searchKey: string, serverId: string) {\n    const url = `service/opcua-mgmt-service/search/${serverId}/`;\n    const options: IFetchOptions = {\n      headers: this.header,\n      params: {\n        searchString: '*' + searchKey + '*'\n      }\n    };\n    const res = await this.client.fetch(url, options);\n    return res.json();\n  }\n\n  getIcon(nodeClassName: string) {\n    const iconList = {\n      Object: 'cube',\n      Variable: 'th-list',\n      Method: 'random',\n      View: 'window-maximize',\n      ObjectType: 'c8y-group',\n      VariableType: 'c8y-group',\n      ReferenceType: 'c8y-group',\n      DataType: 'c8y-group'\n    };\n    return iconList[nodeClassName] || 'circle';\n  }\n}\n\nexport interface AddressSpaceNode {\n  nodeId: string;\n  currentlyLoadingChildren?: boolean;\n  nodeClass?: number;\n  nodeClassName?: string;\n  browseName?: string;\n  displayName?: string;\n  description?: any;\n  references?: AdressSpaceNodeReference[];\n  ancestorNodeIds?: [string[]];\n  children: AddressSpaceNode[];\n  expanded: boolean;\n  absolutePaths: [string[]];\n  relativePath?: string[];\n  parentNode?: AddressSpaceNode;\n}\n\nexport interface AdressSpaceNodeReference {\n  referenceId: string;\n  targetId: string;\n  inverse: boolean;\n  hierarchical: boolean;\n}\n\nexport interface SearchedNode {\n  absolutePath: string[];\n  ancestorNodeIds: [string[]];\n  displayName: string;\n  nodeClassName: string;\n  nodeId: string;\n}\n\nexport interface NodeNavigationData {\n  node: AddressSpaceNode;\n  selectedAncestorIds: string[];\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { AddressSpaceNode, AddressSpaceService, NodeNavigationData } from './address-space.service';\nimport { omit } from 'lodash-es';\n\n@Component({\n  selector: 'opcua-address-space-detail',\n  templateUrl: './opcua-address-space-detail.component.html'\n})\nexport class OpcuaAddressSpaceDetailComponent {\n  @Input() set node(n) {\n    this._node = n;\n    if (n) {\n      this.setNodeData(n);\n    } else {\n      // remove details from current view\n      this.showDetails = false;\n    }\n  }\n  nodeDataAttr: Map<string, string>;\n  nodeDataRef: object[];\n  selected: boolean = false;\n  showDetails: boolean = false;\n\n  @Output() toggleAttrDetail: EventEmitter<AddressSpaceNode> = new EventEmitter<AddressSpaceNode>();\n\n  private _node: AddressSpaceNode;\n\n  constructor(private addressSpaceService: AddressSpaceService) {}\n  setNodeData(nodeData) {\n    this.showDetails = true;\n    const { attributes, references } = nodeData;\n    this.nodeDataRef = references;\n    const omitList = [\n      'attributes',\n      'references',\n      'children',\n      'currentlyLoadingChildren',\n      'expanded',\n      'browsePath',\n      'relativePath',\n      'parentNode'\n    ];\n    this.nodeDataAttr = Object.assign({}, attributes, omit(nodeData, omitList));\n  }\n\n  toggleDetail(node) {\n    this.showDetails = !this.showDetails;\n    this.toggleAttrDetail.emit(node);\n  }\n\n  navigateTo(ancestors: string[]) {\n    const nodeNavData: NodeNavigationData = {\n      node: this._node,\n      selectedAncestorIds: ancestors\n    };\n\n    this.toggleDetail(this._node);\n    this.addressSpaceService.triggerNodeToOpen(nodeNavData);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { FetchClient, IFetchOptions, InventoryService, InventoryBinaryService } from '@c8y/client';\nimport { OpcuaServer } from './opcua-server.interface';\nimport { Router } from '@angular/router';\nimport { AlertService } from '@c8y/ngx-components';\n\n@Injectable()\nexport class OpcuaService {\n  private binaryService: InventoryBinaryService;\n  private microserviceUrl: string;\n  private deviceTypeProtocolUrl: string;\n  private header: any;\n\n  constructor(\n    private client: FetchClient,\n    private inventoryService: InventoryService,\n    private router: Router,\n    private alertService: AlertService\n    ) {\n    this.microserviceUrl = '/service/opcua-mgmt-service/server';\n    this.deviceTypeProtocolUrl = '/service/opcua-mgmt-service/deviceTypes';\n    this.header = { 'Content-Type': 'application/json' };\n    this.binaryService = inventoryService.binary;\n  }\n\n  getServers(id: string) {\n    if (id && id.length > 0) {\n      const options: IFetchOptions = {\n        method: 'GET',\n        headers: this.header\n      };\n      return this.client.fetch(`${this.microserviceUrl}/${id}`, options);\n    }\n  }\n\n  createServer(data: OpcuaServer) {\n    if (this.doesGatewayIdExist(data)) {\n      this.cleanUpPayload(data);\n      const options: IFetchOptions = {\n        method: 'POST',\n        headers: this.header,\n        body: JSON.stringify(data)\n      };\n      return this.client.fetch(`${this.microserviceUrl}`, options);\n    }\n  }\n\n  async updateServer(server: OpcuaServer) {\n    if (this.doesGatewayIdExist(server) && this.doesIdExist(server)) {\n      this.cleanUpPayload(server);\n      const options: IFetchOptions = {\n        method: 'POST',\n        headers: this.header,\n        body: JSON.stringify(server)\n      };\n      const res = await this.client.fetch(`${this.microserviceUrl}`, options);\n      let data;\n      try {\n        data = await res.json();\n      } catch (e) {\n        // nothing\n      }\n\n      if (res.status !== 200) {\n        this.alertService.addServerFailure({ data, res });\n      } else {\n        return data;\n      }\n    }\n  }\n\n  removeServer(data: OpcuaServer) {\n    if (this.doesGatewayIdExist(data) && this.doesIdExist(data)) {\n      const options: IFetchOptions = {\n        method: 'DELETE'\n      };\n      return this.client.fetch(`${this.microserviceUrl}/${data.gatewayId}/${data.id}`, options);\n    }\n  }\n\n  getKeystore(binaryId: string) {\n    if (binaryId && binaryId.length > 0) {\n      return this.inventoryService.detail(binaryId);\n    }\n    return null;\n  }\n\n  uploadKeystore(file: File) {\n    if (file && file.size > 0) {\n      return this.binaryService.create(file);\n    }\n    return Promise.reject('Invalid file');\n  }\n\n  async updateKeystore(id: string, file: File) {\n    if (id && id.length > 0 && file && file.size > 0) {\n      const { res } = await this.removeKeystore(id);\n      if (res && res.status === 204) {\n        return this.uploadKeystore(file);\n      }\n    }\n    return Promise.reject('Invalid file');\n  }\n\n  removeKeystore(id: string) {\n    if (id && id.length > 0) {\n      return this.binaryService.delete(id);\n    }\n  }\n\n  getMoId() {\n    const currentUrl: string = this.router.routerState.snapshot.url;\n    const isDevice: boolean = new RegExp(/device\\/\\d+/).test(currentUrl);\n    if (isDevice) {\n      return currentUrl.match(/\\d+/)[0];\n    }\n    return '';\n  }\n\n  getId() {\n    const currentUrl: string = this.router.routerState.snapshot.url;\n    const isDeviceprotocol: boolean = new RegExp(/deviceprotocols/).test(currentUrl);\n    if (isDeviceprotocol && RegExp(/\\d+$/).test(currentUrl)) {\n      return currentUrl.match(/\\d+$/)[0];\n    }\n  }\n\n  async getDeviceProtocol(id: string) {\n    const options: IFetchOptions = {\n      method: 'GET',\n      headers: this.header,\n      };\n    return this.client.fetch(`${this.deviceTypeProtocolUrl}/${id}`, options);\n\n  }\n\n  async updateDeviceProtocol(data) {\n    const options: IFetchOptions = {\n      method: 'PUT',\n      headers: this.header,\n      body: JSON.stringify(data)\n    };\n    return this.client.fetch(`${this.deviceTypeProtocolUrl}/${data.id}`, options);\n\n  }\n\n  async createDeviceProtocol(data) {\n    const options: IFetchOptions = {\n      method: 'POST',\n      headers: this.header,\n      body: JSON.stringify(data)\n    };\n    return this.client.fetch(`${this.deviceTypeProtocolUrl}`, options);\n  }\n\n  private doesGatewayIdExist(data: OpcuaServer) {\n    return data && data.gatewayId && data.gatewayId.length > 0;\n  }\n\n  private doesIdExist(data: OpcuaServer) {\n    return data && data.id && data.id.length > 0 && data.id !== 'new';\n  }\n\n  private cleanUpPayload(data: OpcuaServer) {\n    if (data) {\n      if (data.id && data.id === 'new') { delete data.id; }\n      if (data.quickInfo) { delete data.quickInfo; }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\n\n@Injectable()\nexport class OpcuaAgentGuard implements CanActivate {\n  type = 'c8y_OPCUA_Device_Agent';\n  canActivate( { data } ) {\n    const { contextData } = data;\n    return contextData && contextData.type === this.type;\n  }\n}\n","import { Directive, forwardRef, ElementRef, Input, HostListener } from '@angular/core';\nimport { NgForm, Validator, AbstractControl, NG_VALIDATORS } from '@angular/forms';\nimport { some, isEqual, isEmpty } from 'lodash-es';\n\n@Directive({\n  selector: '[c8yBrowsePathValidator][ngModel]',\n  providers: [\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => OpcuaDeviceProtocolBrowsePathValidation),\n      multi: true\n    }\n  ]\n})\nexport class OpcuaDeviceProtocolBrowsePathValidation implements Validator {\n  @Input() getMappings: () => [];\n  @Input() model: any;\n\n  constructor(private el: ElementRef) {}\n\n  validate(control: AbstractControl): { [key: string]: any } {\n    if (control.value) {\n      if (!this.isValidJson(control.value)) {\n        return { invalidBrowsePathNotation: true };\n      } else {\n        if (this.isBrowsePathUnique(control.value)) {\n          return { browsePathNotUnique: true };\n        }\n      }\n    }\n    return null;\n  }\n\n  isValidJson(value) {\n    try {\n      const browsePath = JSON.parse(value);\n      return !isEmpty(browsePath);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  toArray(str) {\n    return JSON.parse(str);\n  }\n\n  isBrowsePathUnique(value): boolean {\n    const mappings = this.getMappings();\n    const found = some(mappings, item => {\n      if (isEqual(item.browsePath, this.toArray(value)) && item.id !== this.model.id) {\n        return item;\n      }\n    });\n    return found ? true : false;\n  }\n}\n","import { Directive, ElementRef, Injector, ViewChild, Input, Output } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { UpgradeComponent } from '@angular/upgrade/static';\n\n@Directive({\n  selector: 'c8y-object-mapping'\n})\nexport class OpcuaDeviceProtocolObjectMapping extends UpgradeComponent {\n  @Input() mapping: any;\n  @Input() customActions: any;\n  @Input() autoObserveParams: any;\n  @Input() hideAutoObserve: any;\n  constructor(elementRef: ElementRef, injector: Injector) {\n    super('c8yObjectMapping', elementRef, injector);\n  }\n}\n","import {\n  Component,\n  OnInit,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { NgForm, ControlContainer, FormControl, NgModelGroup } from '@angular/forms';\nimport { AlertService, gettext } from '@c8y/ngx-components';\nimport { isEmpty, assign, unset, get, set, reject, find, cloneDeep, isEqual } from 'lodash-es';\nimport { OpcuaDeviceProtocolObjectMapping } from './opcua-device-protocol-object-mapping.component';\nimport { AddressSpaceService } from './address-space.service';\n\n@Component({\n  selector: 'opcua-device-protocol-mapping',\n  templateUrl: './opcua-device-protocol-mapping.html',\n  viewProviders: [{ provide: ControlContainer, useExisting: NgModelGroup }]\n})\nexport class OpcuaDeviceProtocolMapping implements OnInit, OnChanges {\n  @ViewChild(OpcuaDeviceProtocolObjectMapping, { static: false }) objectMappingForm: any;\n  @ViewChild('variableForm', { static: false }) subFormRef: any;\n  @ViewChild('browsePathModel', { static: false }) browsePathModel: any;\n\n  @Input('resource') _model;\n  @Input() index;\n  @Input() getParentAttr;\n  @Input() referencedServerId;\n  @Input() referencedRootNodeId;\n  @Output() onAction: EventEmitter<any> = new EventEmitter<any>();\n\n  mapping;\n\n  isDetailOpen;\n  customAction;\n  referencedNode;\n  isPathFocused = false;\n  groupName: string;\n  browsePath: string;\n  nodeDisplayName: string;\n  isBrowsePathUniq = true;\n  dataReporting = 'default';\n  isTreeOpen = false;\n  isNew = false;\n  resetModel = false;\n  dataReportingName;\n  private moId: string = '';\n  constructor(\n    private alertService: AlertService,\n    private addressSpaceService: AddressSpaceService\n  ) {}\n\n  toggleDetail() {\n    this.isDetailOpen = !this.isDetailOpen;\n    if (this.resetModel) {\n      this.initialFormSetup();\n    }\n  }\n\n  getMappings = () => this.getParentAttr('mappings');\n\n  ngOnInit() {\n    this.dataReportingName = 'ReportingMode' + this.index;\n    this.initialFormSetup();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      changes._model.previousValue &&\n      !isEqual(this._model, changes._model.previousValue.SimpleChange)\n    ) {\n      if (this.mapping && this.mapping.name === this._model.name) {\n        this.mapping.id = this._model.id;\n      }\n    }\n  }\n\n  initialFormSetup() {\n    const mapping = {\n      id: '',\n      browsePath: [],\n      name: '',\n      subscriptionType: {\n        type: 'None'\n      }\n    };\n\n    const customAction = {\n      headers: [{ key: 'Authorization', value: '' }, { key: 'Content-Type', value: '' }],\n      bodyTemplate: '',\n      type: 'HttpPost',\n      endpoint: ''\n    };\n\n    this.mapping = assign({}, mapping, cloneDeep(this._model));\n\n    if (isEmpty(this.mapping.browsePath)) {\n      this.isNew = true;\n      this.isDetailOpen = true;\n    } else {\n      this.browsePath = this.stringfyBrowsePath(this.mapping.browsePath);\n      this.nodeDisplayName = this.mapping.name;\n    }\n\n    if (this.referencedRootNodeId) {\n      this.referencedNode = { nodeId: this.referencedRootNodeId };\n      this.addressSpaceService.triggerNodeToOpen({\n        node: {\n          nodeId: this.referencedRootNodeId,\n          children: [],\n          expanded: false,\n          absolutePaths: [[]]\n        },\n        selectedAncestorIds: []\n      });\n    } else {\n      this.referencedNode = { nodeId: '' };\n    }\n\n    if (get(this.mapping, 'customAction')) {\n      this.customAction = assign(customAction, get(this.mapping, 'customAction'));\n      this.customAction.headers = this.mapHeadersObjectToList(get(this.customAction, 'headers'));\n    } else {\n      this.customAction = assign({}, customAction);\n    }\n\n    unset(this.mapping, 'customAction');\n    if (get(this._model, 'subscriptionType')) {\n      this.dataReporting = 'custom';\n    } else {\n      this.dataReporting = 'default';\n    }\n    this.resetModel = false;\n  }\n\n  showAddressSpaceTree() {\n    return !isEmpty(this.referencedServerId);\n  }\n\n  ngAfterViewInit() {\n    if (\n      get(this.mapping, 'subscriptionType') &&\n      get(this.mapping, 'subscriptionType.type') !== 'None'\n    ) {\n      this.dataReporting = 'custom';\n    }\n  }\n\n  mapHeadersObjectToList(headers) {\n    if (Object.keys(headers).length > 0) {\n      return Object.keys(headers).map(item => {\n        return { key: item, value: headers[item] };\n      });\n    }\n  }\n\n  stringfyBrowsePath(path) {\n    return JSON.stringify(path);\n  }\n\n  updateBrowsePath(node) {\n    this.mapping.browsePath = node.relativePath;\n    this.nodeDisplayName = node.displayName;\n    this.mapping.name = this.nodeDisplayName;\n    this.browsePath = this.stringfyBrowsePath(this.mapping.browsePath);\n    this.browsePathModel.control.markAsDirty();\n  }\n\n  updateDisplayname() {\n    this.mapping.name = this.nodeDisplayName;\n  }\n\n  updateBrowsePathInput() {\n    if (this.browsePath) {\n      try {\n        this.mapping.browsePath = JSON.parse(this.browsePath);\n      } catch (error) {\n        return;\n      }\n    }\n  }\n\n  save() {\n    if (this.dataReporting === 'default') {\n      unset(this.mapping, 'subscriptionType');\n    }\n\n    if (get(this.mapping, 'measurementCreation')) {\n      const { measurementCreation } = this.mapping;\n      set(measurementCreation, 'fragmentName', get(measurementCreation, 'type'));\n    }\n\n    const { customAction } = this.subFormRef.value;\n    let modifiedCustomAction;\n    if (customAction.hasCustomAction) {\n      const reducedHeaders = this.customAction.headers.reduce((result, item) => {\n        result[item.key] = item.value;\n        return result;\n      }, {});\n\n      modifiedCustomAction = assign({}, this.customAction, { headers: reducedHeaders });\n    }\n\n    this.onAction.emit({\n      action: 'save',\n      data: assign({}, this.mapping, { customAction: modifiedCustomAction })\n    });\n    this.isDetailOpen = false;\n  }\n\n  cancel() {\n    this.isDetailOpen = false;\n    this.resetModel = true;\n    if (this.mapping.id === 'new') {\n      this.onAction.emit({ action: 'delete', data: assign({}, this.mapping) });\n    }\n  }\n\n  onDelete() {\n    this.onAction.emit({ action: 'delete', data: this.mapping });\n  }\n\n  canSave(variableForm) {\n    const areValid = () =>\n      variableForm.valid && this.objectMappingForm.$componentScope.mappingForm.$valid;\n    const areDirty = () =>\n      variableForm.dirty || this.objectMappingForm.$componentScope.mappingForm.$dirty;\n    return areValid() && areDirty();\n  }\n\n  isActive() {\n    return this.isDetailOpen;\n  }\n\n  setTreeFromRefNode() {\n    if (this.referencedRootNodeId) {\n      this.addressSpaceService.triggerNodeToOpen({\n        node: {\n          nodeId: this.referencedRootNodeId,\n          children: [],\n          expanded: false,\n          absolutePaths: [[]]\n        },\n        selectedAncestorIds: []\n      });\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  ViewChildren,\n  QueryList,\n  Input,\n  Output,\n  EventEmitter,\n  ViewChild,\n  OnChanges,\n  ChangeDetectorRef\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { OpcuaService } from './opcuaService';\nimport { NgForm } from '@angular/forms';\nimport { AlertService, gettext } from '@c8y/ngx-components';\nimport { OpcuaDeviceType } from './opcua-protocol-device-type.interface';\nimport { find, assign, omit, findIndex, pick, unset, get } from 'lodash';\nimport { OpcuaDeviceProtocolMapping } from './opcua-device-protocol-mapping.component';\n\n@Component({\n  selector: 'opcua-device-protocol-detail',\n  templateUrl: './opcua-device-protocol-detail.html'\n})\nexport class OpcuaDeviceProtocolDetailComponent implements OnInit {\n  @ViewChildren(OpcuaDeviceProtocolMapping) instanceList: QueryList<OpcuaDeviceProtocolMapping>;\n\n  initialModel: OpcuaDeviceType = {\n    id: '',\n    fieldbusType: 'opcuaV2',\n    description: '',\n    unit: '',\n    fieldbusVersion: 4,\n    name: '',\n    referencedServerId: '',\n    referencedRootNodeId: '',\n    subscriptionType: {\n      type: 'None'\n    },\n    mappings: [],\n    overriddenSubscriptions: [],\n    applyConstraints: {\n      browsePathMatchesRegex: '',\n      matchesNodeIds: [],\n      serverObjectHasFragment: '',\n      matchesServerIds: []\n    },\n    enabled: ''\n  };\n\n  model: any;\n  server: any;\n  selectedNode: any;\n  isLoaded = true;\n\n  constructor(\n    private changeDetectorRef: ChangeDetectorRef,\n    private opcuaService: OpcuaService,\n    private alertService: AlertService,\n    private router: Router\n  ) {}\n\n  ngAfterContentChecked() {\n    this.changeDetectorRef.detectChanges();\n  }\n\n  getParentAttr = key => get(this.model, key);\n\n  getMapping() {\n    return this.model.mappings;\n  }\n\n  getEmptyMappingObject() {\n    return {\n      id: 'new',\n      browsePath: []\n    };\n  }\n\n  getOverriddenSubscriptionsByPath(browsePath) {\n    return find(this.model.overriddenSubscriptions, { browsePath });\n  }\n\n  getStructuredResource(resource) {\n    const overriddenSubscriptions: any = this.getOverriddenSubscriptionsByPath(resource.browsePath);\n    let result = assign({}, resource);\n    if (overriddenSubscriptions) {\n      result = assign({}, resource, { subscriptionType: overriddenSubscriptions.subscriptionType });\n    }\n    return result;\n  }\n\n  async ngOnInit() {\n    const id = this.opcuaService.getId();\n    if (id) {\n      const res = await this.opcuaService.getDeviceProtocol(id);\n      if (res && res.status !== 200) {\n        const data = res.json ? await res.json() : undefined;\n        this.alertService.addServerFailure({ data, res });\n        this.isLoaded = false;\n      } else {\n        const data = await res.json();\n        if (data && data.applyConstraints === null) {\n          delete data.applyConstraints;\n        }\n        if (data && data.subscriptionType === null) {\n          delete data.subscriptionType;\n        }\n        this.model = assign(this.initialModel, data);\n        if (!this.model.mappings) {\n          this.model.mappings = [];\n        }\n        this.model = assign(this.initialModel, this.updateViableMapping(data));\n        this.isLoaded = false;\n      }\n    }\n  }\n\n  updateViableMapping(model) {\n    const { mappings } = model;\n    let result = [];\n    if (mappings) {\n      result = mappings.map((item, i) => {\n        return assign(item, { id: i });\n      });\n    }\n    return assign(model, { mappings: result });\n  }\n\n  trackByIndex(index: number): number {\n    return index;\n  }\n\n  addVariable() {\n    this.model.mappings.push(this.getEmptyMappingObject());\n  }\n\n  updateVariable(mappingObject) {\n    const { mappings } = this.model;\n    const index = findIndex(mappings, { id: mappingObject.id });\n    mappings.splice(index, 1);\n    if (mappingObject.id === 'new') {\n      mappingObject.id = mappings.length;\n    }\n    mappings.push(mappingObject);\n  }\n\n  removeVariable(mappingObject) {\n    const { mappings } = this.model;\n    const index = findIndex(mappings, { id: mappingObject.id });\n    mappings.splice(index, 1);\n  }\n\n  actionHandler(actionObject) {\n    switch (actionObject.action) {\n      case 'save':\n        this.updateVariable(actionObject.data);\n        break;\n      case 'delete':\n        this.removeVariable(actionObject.data);\n        break;\n    }\n  }\n\n  extractOverridSubscriptionType(_mapping) {\n    const overriddenSubscriptions = [];\n    const variableMapping = [];\n    _mapping.forEach(element => {\n      if (element.id !== 'new') {\n        if (element.subscriptionType) {\n          overriddenSubscriptions.push(\n            assign(\n              { browsePath: element.browsePath },\n              { subscriptionType: element.subscriptionType }\n            )\n          );\n        }\n        variableMapping.push(omit(element, ['subscriptionType']));\n      }\n    });\n    return [variableMapping, overriddenSubscriptions];\n  }\n\n  prepareRequestJson(_model) {\n    let requestJson = {};\n    const [mappings, overriddenSubscriptions] = this.extractOverridSubscriptionType(\n      _model.mappings\n    );\n    requestJson = assign(requestJson, pick(_model, Object.keys(this.initialModel)), {\n      mappings,\n      overriddenSubscriptions\n    });\n    return requestJson;\n  }\n\n  async save() {\n    try {\n      const res = await this.opcuaService.updateDeviceProtocol(this.prepareRequestJson(this.model));\n      const data = await res.json();\n\n      if (res && res.status === 200) {\n        this.router.navigate(['deviceprotocols']);\n        this.alertService.success(gettext('Device protocol saved.'));\n      } else {\n        const { details } = data;\n        this.alertService.addServerFailure({ res, data: details });\n      }\n    } catch (ex) {\n      this.alertService.danger(gettext('Failed to save. Try again.'));\n    }\n  }\n\n  canSave(deviceTypeForm) {\n    if (this.instanceList) {\n      const activeInstances = this.instanceList.filter(item => item.isActive());\n\n      if (activeInstances.length > 0) {\n        return true;\n      }\n    }\n    return !deviceTypeForm.form.valid;\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { set, unset, toInteger } from 'lodash';\nimport { gettext } from '@c8y/ngx-components';\nimport { ControlContainer, NgModelGroup } from '@angular/forms';\n\n@Component({\n  selector: 'opcua-device-protocol-data-reporting',\n  templateUrl: './opcua-device-protocol-data-reporting.html',\n  viewProviders: [{ provide: ControlContainer, useExisting: NgModelGroup }]\n})\nexport class OpcuaDeviceProtocolDataReportingComponent {\n  @Input() set model(_model) {\n    if (_model.subscriptionType) {\n      this.subscription = _model.subscriptionType;\n      if (this.subscription.type === 'CyclicRead') {\n        this.cyclicReadParameters = _model.subscriptionType.cyclicReadParameters;\n        this.requireCyclic = true;\n        this.requireSubscription = false;\n      }\n\n      if (this.subscription.type === 'Subscription') {\n        this.subscriptionParameters = _model.subscriptionType.subscriptionParameters;\n        this.requireCyclic = false;\n        this.requireSubscription = true;\n      }\n\n      if (this.subscription.type === 'None') {\n        this.requireCyclic = false;\n        this.requireSubscription = false;\n      }\n    }\n    this._model = _model;\n    this.subscriptionTypeName = 'subscriptionType' + _model.id;\n  }\n  @Input() groupName;\n\n  _model: object;\n  @Output() onSubscriptionChange: EventEmitter<any> = new EventEmitter<any>();\n\n  subscription = {\n    type: 'None'\n  };\n  subscriptionParameters = {\n    samplingRate: undefined,\n    deadbandType: 'None',\n    deadbandValue: undefined,\n    ranges: '',\n    queueSize: undefined,\n    dataChangeTrigger: 'Status',\n    discardOldest: true\n  };\n\n  cyclicReadParameters = {\n    rate: undefined\n  };\n\n  types: any[] = [\n    { value: 'None', label: gettext('None') },\n    { value: 'CyclicRead', label: gettext('Cyclic read') },\n    { value: 'Subscription', label: gettext('Subscription') }\n  ];\n\n  filters: any[] = [\n    { value: 'None', label: gettext('None') },\n    { value: 'absolute', label: gettext('Absolute') },\n    { value: 'percent', label: gettext('Percent') }\n  ];\n\n  triggers: any[] = [\n    { value: 'Status', label: gettext('Status') },\n    { value: 'StatusValue', label: gettext('Status/Value') },\n    { value: 'StatusValueTimestamp', label: gettext('Status/Value/Timestamp') }\n  ];\n\n  discard: any[] = [\n    { value: true, label: gettext('oldest`data`') },\n    { value: false, label: gettext('newest`data`') }\n  ];\n\n  requireCyclic: boolean = false;\n  requireSubscription: boolean = false;\n  subscriptionTypeName = 'subscriptionType';\n\n  parseReadingInterval = $event => toInteger($event.target.value);\n\n  updateModel() {\n    setTimeout(() => {\n      unset(this.subscription, 'subscriptionParameters');\n      unset(this.subscription, 'cyclicReadParameters');\n      if (this.subscription.type === 'CyclicRead') {\n        this.requireCyclic = true;\n        this.requireSubscription = false;\n        set(this.subscription, 'cyclicReadParameters', this.cyclicReadParameters);\n      } else if (this.subscription.type === 'Subscription') {\n        this.requireCyclic = false;\n        this.requireSubscription = true;\n        set(this.subscription, 'subscriptionParameters', this.subscriptionParameters);\n      } else if (this.subscription.type === 'None') {\n        this.requireCyclic = false;\n        this.requireSubscription = false;\n      }\n    });\n  }\n}\n","import { Directive, ElementRef, Injector, Input } from '@angular/core';\nimport { UpgradeComponent } from '@angular/upgrade/static';\n\n@Directive({\n  selector: 'c8y-object-mapping-status-icons'\n})\nexport class OpcuaDeviceProtocolObjectMappingStatus extends UpgradeComponent {\n  @Input() mapping: any;\n  constructor(elementRef: ElementRef, injector: Injector) {\n    super('c8yObjectMappingStatusIcons', elementRef, injector);\n  }\n}\n","import { Component, OnInit, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { AddressSpaceService, AddressSpaceNode } from './address-space.service';\nimport { gettext } from '@c8y/ngx-components';\nimport { DynamicDataSource } from './dynamic-data-source';\nimport { OpcuaService } from './opcuaService';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'opcua-address-space',\n  templateUrl: './opcua-address-space.component.html'\n})\nexport class OpcuaAddressSpaceComponent implements OnInit, OnDestroy {\n  currentNode: AddressSpaceNode;\n  selectednode: boolean = false;\n  searchKey: string;\n  isSearch: boolean;\n  loading: boolean = false;\n  searchInProgress: boolean = false;\n  filterLabel: string;\n  dataSource: DynamicDataSource;\n  nodeList;\n\n  @Output() focusStatus: EventEmitter<AddressSpaceNode> = new EventEmitter<AddressSpaceNode>();\n  private moId: string = '';\n  constructor(\n    private addressSpaceService: AddressSpaceService,\n    private opcuaService: OpcuaService\n  ) {}\n\n  async ngOnInit() {\n    this.filterLabel = gettext('Filter');\n    this.moId = this.opcuaService.getMoId();\n  }\n\n  ngOnDestroy() {\n    // The BehaviourSubject will store the last array of ancestorNodes from the previous search\n    // this would cause the component while subscribing in the init-phase to the subject to travers\n    // to the last searched node again. From user perspective it does not make sense, because the user\n    // left the Address space (tab) and should loose the context and just request a new search or\n    // browse the tree manually.\n    this.addressSpaceService.resetTreeToRootNode();\n  }\n\n  async searchNodes() {\n    this.searchInProgress = true;\n    this.clearNodeListAndCheckSearchString();\n    if (this.isSearch) {\n      this.currentNode = undefined;\n      this.nodeList = await this.addressSpaceService.getSearchedNodes(this.searchKey, this.moId);\n      this.searchInProgress = false;\n      this.nodeList.resultLabel = gettext('Results found');\n    }\n  }\n\n  clearNodeListAndCheckSearchString() {\n    this.isSearch = this.searchKey !== undefined && this.searchKey !== '' ? true : false;\n    if (!this.isSearch) {\n      this.searchInProgress = false;\n    }\n  }\n\n  clearSearch() {\n    this.isSearch = false;\n    this.searchKey = '';\n    this.currentNode = undefined;\n  }\n\n  getIcon(nodeClassName: string) {\n    return this.addressSpaceService.getIcon(nodeClassName);\n  }\n\n  async selectNode(node) {\n    if (node && node.nodeId && node.nodeId.length > 0) {\n      const res = await this.addressSpaceService.getNodeById(this.moId, node.nodeId);\n      this.toggleCurrentNode((await res.json()) as AddressSpaceNode);\n    }\n  }\n\n  toggleCurrentNode(node: AddressSpaceNode) {\n    this.currentNode = this.isNodeSet(node) ? undefined : node;\n  }\n\n  backHandler(node) {\n    this.isSearch = false;\n    this.focusStatus.emit(node);\n    this.toggleCurrentNode(node);\n  }\n\n  isNodeSet(node: AddressSpaceNode) {\n    if (this.currentNode !== undefined && this.currentNode.nodeId === node.nodeId) {\n      return true;\n    }\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\nimport { AppStateService } from '@c8y/ngx-components';\n\n@Injectable()\nexport class OpcuaMicroserviceGuard implements CanActivate {\n  microserviceName: string = 'opcua-mgmt-service';\n  checkApp: Promise<boolean>;\n\n  constructor(\n    private app: AppStateService\n  ) {}\n\n  canActivate() {\n    if (!this.checkApp) {\n      this.checkApp = this.app.isApplicationAvailable(this.microserviceName);\n    }\n    return this.checkApp;\n  }\n}\n","import { Component, Input, OnInit, Output, EventEmitter, OnChanges, ViewChild } from '@angular/core';\nimport { gettext, DroppedFile, DropAreaComponent } from '@c8y/ngx-components';\nimport { OpcuaServer, OpcuaServerConfig } from './opcua-server.interface';\nimport { cloneDeep, has} from 'lodash-es';\nimport { OpcuaService } from './opcuaService';\n\n@Component({\n  selector: 'opcua-server-config',\n  templateUrl: './opcua-server-config.component.html'\n})\nexport class OpcuaServerConfigComponent implements OnInit, OnChanges {\n  currentSecMode: string;\n  fileName: string = '';\n  targetConnectionState: string = '1';\n  minIntervalNumber: number = 1;\n  connectionStatusLabel: string = '';\n  @ViewChild('opcuaConfigForm', {static: false}) opcuaConfigForm: any;\n  @ViewChild(DropAreaComponent, {static: false}) dropArea: DropAreaComponent;\n  @Output() canceled = new EventEmitter<OpcuaServer>();\n  @Output() removed = new EventEmitter<OpcuaServer>();\n  @Output() saved = new EventEmitter<OpcuaServer>();\n  @Input() set server(server: OpcuaServer) {\n    if (server) {\n      this._server = cloneDeep(server);\n      this.model = cloneDeep(server);\n      this.fileName = this.model.config.keystoreFilename;\n\n      if (server.id && server.id === 'new') {\n        // enabled connection state\n        this.targetConnectionState = '1';\n        this.model.config.targetConnectionState = 'enabled';\n      } else {\n        this.targetConnectionState = (this.model.config.targetConnectionState === 'enabled') ? '1' : '0';\n      }\n      this.updateConnectionStatusLabel(this._server);\n      this.setNewPassword();\n    }\n  }\n\n  get server(): OpcuaServer {\n    return this._server;\n  }\n\n  model: OpcuaServer;\n  changePassword: boolean = false;\n  initialPasswordRequired: boolean = true;\n  securityModes: string[];\n  authenticationMode: any;\n  authenticationModes: any[];\n  NONE: string = 'NONE';\n  SIGN: string = 'SIGN';\n  SIGN_ENC: string = 'SIGN_ENCRYPT';\n  securityPolicies: any = {\n    sign: [\n      `BASIC256_${this.SIGN}`,\n      `BASIC128RSA15_${this.SIGN}`,\n      `BASIC256SHA256_${this.SIGN}`\n    ],\n    sign_enc: [\n      `BASIC256_${this.SIGN_ENC}`,\n      `BASIC128RSA15_${this.SIGN_ENC}`,\n      `BASIC256SHA256_${this.SIGN_ENC}`,\n    ]\n  };\n  private ANONYM = {\n    id: 1,\n    value: gettext('Anonymous')\n  };\n  private USER_PASSWORD = {\n    id: 2,\n    value: gettext('Username/Password')\n  };\n  private KEY_BASED = {\n    id: 3,\n    value: gettext('Key-based Authentication')\n  };\n  private _server: OpcuaServer;\n  private opcuaService: OpcuaService;\n  private initialKeystore = {\n    lastModified: 0,\n    name: '',\n    type: '',\n    slice: null,\n    size: 0\n  } as File;\n  private keystore: File = this.initialKeystore;\n  private authSwitch: boolean = false;\n\n  constructor(opcuaService: OpcuaService) {\n    this.opcuaService = opcuaService;\n  }\n\n  async ngOnInit() {\n    this.authSwitch = false;\n\n    this.securityModes = [\n      this.NONE,\n      this.SIGN,\n      this.SIGN_ENC\n    ];\n\n    this.authenticationModes = [\n      this.ANONYM,\n      this.USER_PASSWORD,\n      this.KEY_BASED\n    ];\n\n    this.setCurrentAuthenticationMode();\n    this.setCurrentSecurityMode();\n  }\n\n  ngOnChanges() {\n    this.setCurrentSecurityMode();\n    this.setCurrentAuthenticationMode();\n  }\n\n  cancel() {\n    this.canceled.emit(this.model);\n    this._server = null;\n  }\n\n  async remove() {\n    await this.removeKeystore(this.model);\n    this.removed.emit(this.model);\n    this._server = null;\n  }\n\n  async save() {\n    if (this.keystore && this.keystore.size > 0 && this.keystore.name && this.keystore.name.length > 0) {\n      const response = await this.uploadKeystore(this.model.config.keystoreBinaryId);\n\n      if (response && response.data && response.data.id) {\n        this.model.config.keystoreBinaryId = response.data.id;\n      }\n\n      // if the keystore was uploaded successful we can remove\n      // the local keystore. This will prevent another request to binary api\n      // when the user will edit other inputs in the form and hit save again.\n      this.keystore = this.initialKeystore;\n    }\n\n    // will remove keystore (binary) when the user switched\n    // authentication settings from key-based to anonymous or username/password\n    if (this.authSwitch) {\n      this.removeKeystore(this.server);\n    }\n\n    // when the user sets a new password, make sure to mark it as\n    // \"not encrypted\" by setting passwordEncrypted to false\n    const userPassword: string = this.getModelConfig('userPassword');\n    if (userPassword && userPassword.length > 0) {\n        this.model.config.passwordEncrypted = false;\n    }\n\n    this.saved.emit(this.model);\n  }\n\n  uploadFile(droppedFiles: DroppedFile[]) {\n    if (droppedFiles.length === 1) {\n      this.keystore = droppedFiles[0].file;\n      this.fileName = this.keystore.name;\n    } else {\n      // dropped more than one file\n      console.warn('Tried to import... Import aborted.');\n    }\n  }\n\n  setPolicy(data: any) {\n    if (data === this.NONE) {\n      this.model.config.securityMode = this.NONE;\n    } else if (data === this.SIGN) {\n      this.model.config.securityMode = this.securityPolicies.sign[0];\n    } else if (data === this.SIGN_ENC) {\n      this.model.config.securityMode = this.securityPolicies.sign_enc[0];\n    }\n  }\n\n  setServerConnection(data: string) {\n    this.model.config.targetConnectionState = (data !== '0') ? 'enabled' : 'disabled';\n  }\n\n  updateAuthentication(data: any) {\n    if (data && data.id) {\n      switch (data.id) {\n        // Anonymous\n        case 1:\n          this.resetUserAuthentication();\n          this.resetKeyBasedAuthentication();\n          break;\n\n        // User/Password\n        case 2:\n          this.resetKeyBasedAuthentication();\n          this.restoreUserData();\n          this.setNewPassword();\n          break;\n\n        // Key-based\n        case 3:\n          this.resetUserAuthentication();\n          this.restoreKeyBasedData();\n          break;\n\n        default:\n          console.warn('Invalid authentication id', data.id);\n          break;\n      }\n    }\n  }\n\n  updateConnectionStatusLabel(server) {\n    const connected = server.c8y_Connection && server.c8y_Connection.status === 'CONNECTED';\n    const label = connected ? gettext('Connected') : gettext('Disconnected');\n    this.connectionStatusLabel = label;\n  }\n\n  setNewPassword() {\n    const username: string = this.getModelConfig('userName');\n    if (username && username.length > 0) {\n      // userName is given, NO need to change the password because it is already set\n      this.changePassword = false;\n      this.initialPasswordRequired = false;\n    } else {\n      // no userName in response, so require the user to set the initial pw\n      this.changePassword = true;\n      this.initialPasswordRequired = true;\n    }\n  }\n\n  toggleChangePassword() {\n    this.changePassword = !this.changePassword;\n    // When the user hides the pw-input field but has entered a\n    // string to it before, we need to discard the changes reflected in the model\n    // otherwise we PUT it with the model when user hits the save button\n    if (!this.changePassword) {\n      if (this.getModelConfig('userPassword')) {\n        delete this.model.config.userPassword;\n      }\n    }\n  }\n\n  private uploadKeystore(binaryId?: string) {\n    if (!binaryId) {\n      return this.opcuaService.uploadKeystore(this.keystore);\n    } else if (binaryId && binaryId.length > 0) {\n      // update existing binary\n      return this.opcuaService.updateKeystore(binaryId, this.keystore);\n    }\n  }\n\n  private removeKeystore(server: OpcuaServer) {\n    if (server &&\n      server.config &&\n      server.config.keystoreBinaryId &&\n      server.config.keystoreBinaryId.length > 0) {\n      this.authSwitch = false;\n      return this.opcuaService.removeKeystore(this.server.config.keystoreBinaryId);\n    }\n  }\n\n  private resetUserAuthentication() {\n    this.model.config.userName = null;\n    this.model.config.userPassword = null;\n    this.model.config.userIdentityMode = 'none';\n  }\n\n  private resetKeyBasedAuthentication() {\n    this.authSwitch = true;\n\n    this.model.config.keystorePass = null;\n    this.model.config.certificatePass = null;\n    this.model.config.keystoreBinaryId = '';\n    this.model.config.keystoreFilename = '';\n    this.model.config.userIdentityMode = 'none';\n  }\n\n  private restoreUserData() {\n    this.model.config.userName = this._server.config.userName;\n    this.model.config.userIdentityMode = 'userAndPassword';\n  }\n\n  private restoreKeyBasedData() {\n    this.authSwitch = false;\n    this.model.config.keystorePass = this._server.config.keystorePass;\n    this.model.config.certificatePass = this._server.config.certificatePass;\n    this.model.config.keystoreBinaryId = this._server.config.keystoreBinaryId;\n    this.model.config.keystoreFilename = this._server.config.keystoreFilename;\n    this.model.config.userIdentityMode = 'certificate';\n  }\n\n  private getServerConfig(): OpcuaServerConfig {\n    let cfg: OpcuaServerConfig = {\n      securityMode: this.NONE,\n      userIdentityMode: 'none'\n    };\n    if (this.server && this.server.config) {\n      cfg = this.server.config;\n    }\n    return cfg;\n  }\n\n  private setCurrentSecurityMode() {\n    const { securityMode } = this.getServerConfig();\n    if (securityMode) {\n      const foundInSign = this.securityPolicies.sign.find((el) => el === securityMode);\n      if (foundInSign) {\n        this.currentSecMode = this.SIGN;\n      } else {\n        const foundInSignEncrypt = this.securityPolicies.sign_enc.find((el) => el === securityMode);\n        foundInSignEncrypt ? this.currentSecMode = this.SIGN_ENC : this.currentSecMode = this.NONE;\n      }\n    }\n  }\n\n  private setCurrentAuthenticationMode() {\n    const {\n      userIdentityMode\n    } = this.getServerConfig();\n\n    switch (userIdentityMode) {\n      case 'certificate':\n        this.authenticationMode = this.KEY_BASED;\n        break;\n\n      case 'userAndPassword':\n        this.authenticationMode = this.USER_PASSWORD;\n        break;\n\n      case 'Anonymous':\n        this.authenticationMode = this.ANONYM;\n        break;\n\n      case 'UserName':\n        this.authenticationMode = this.USER_PASSWORD;\n        break;\n\n      case 'Certificate':\n        this.authenticationMode = this.KEY_BASED;\n        break;\n\n      default:\n        this.authenticationMode = this.ANONYM;\n        break;\n    }\n  }\n\n  private getModelConfig(fragment: string) {\n    if (this.model && this.model.config) {\n      if (fragment && fragment.length > 0) {\n        return has(this.model.config, fragment) ? this.model.config[`${fragment}`] : undefined;\n      }\n    }\n    return undefined;\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { OpcuaServer } from './opcua-server.interface';\n\n@Component({\n  selector: 'opcua-server-list',\n  templateUrl: './opcua-server-list.component.html'\n})\nexport class OpcuaServerListComponent {\n  @Input() serverList: OpcuaServer[] = [];\n  @Output() present = new EventEmitter<OpcuaServer>();\n\n  presentConfig(server: OpcuaServer) {\n    server.active = true;\n    this.present.emit(server);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\n\n@Injectable()\nexport class OpcuaServerGuard implements CanActivate {\n  type = 'c8y_OpcuaServer';\n  canActivate( { data } ) {\n    const { contextData } = data;\n    return contextData && contextData.type === this.type;\n  }\n}\n","import { Component, OnInit, Optional } from '@angular/core';\nimport { AlertService, ContextRouteComponent, gettext } from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { OpcuaServer } from './opcua-server.interface';\nimport { OpcuaService } from './opcuaService';\n\n@Component({\n  selector: 'opcua-servers',\n  templateUrl: './opcua-servers.component.html'\n})\nexport class OpcuaServersComponent implements OnInit {\n  serverObjectList: OpcuaServer[] = [];\n  initialServerObject: OpcuaServer = {\n    id: '',\n    name: 'New Server',\n    config: {\n      securityMode: 'NONE',\n      keystorePass: null,\n      keystoreBinaryId: null,\n      keystoreFilename: '',\n      certificatePass: null,\n      serverUrl: '',\n      userName: '',\n      userPassword: '',\n      rescanCron: null,\n      timeout: null,\n      autoReconnect: true,\n      statusCheckInterval: null,\n      valid: true\n    },\n    quickInfo: {\n      padlock: 'unlock',\n      padlockMsg: ''\n    },\n    active: true\n  };\n  server: OpcuaServer;\n  active: boolean = false;\n  private moId: string;\n  private NEW_SERVER_ID: string;\n\n  constructor(\n    private opcuaService: OpcuaService,\n    private alertService: AlertService,\n    private translateService: TranslateService,\n    @Optional() private context: ContextRouteComponent\n  ) {\n    this.moId = '';\n    this.NEW_SERVER_ID = 'new';\n    this.initialServerObject.id = this.NEW_SERVER_ID;\n  }\n\n  async ngOnInit() {\n    this.moId = this.opcuaService.getMoId();\n    if (this.moId && this.moId.length > 0) {\n      const res = await this.opcuaService.getServers(this.moId);\n      if (res && res.status !== 200) {\n        const data = res.json ? await res.json() : undefined;\n        this.alertService.addServerFailure({ data, res });\n      } else {\n        this.serverObjectList = (await res.json()) as OpcuaServer[];\n        this.serverObjectList.map(server => this.setQuickInfo(server));\n      }\n    }\n  }\n\n  localServerObjectExist() {\n    return !!this.serverObjectList.find(server => server.id === this.NEW_SERVER_ID);\n  }\n\n  addServer() {\n    const server: OpcuaServer = this.initialServerObject;\n    this.serverObjectList.push(server);\n    this.onPresent(server);\n  }\n\n  onSaved(server: OpcuaServer) {\n    if (server && server.id) {\n      server.gatewayId = this.moId;\n      if (server.id === this.NEW_SERVER_ID) {\n        this.createServer(server);\n      } else {\n        this.updateServer(server);\n      }\n    }\n  }\n\n  reloadTabs() {\n    if (this.context) {\n      this.context.refreshTabs();\n    }\n  }\n\n  onCanceled(server: OpcuaServer) {\n    if (server && server.id && server.id === this.NEW_SERVER_ID) {\n      this.removeServerObjectListById(server.id);\n    } else {\n      // update activity status for UI\n      this.serverObjectList.forEach(item => {\n        if (item.id === server.id) {\n          item.active = false;\n        }\n      });\n      // When server id is not 'new' we just close the details\n      delete this.server;\n    }\n  }\n\n  onRemoved(server: OpcuaServer) {\n    if (server.id === this.NEW_SERVER_ID) {\n      this.onCanceled(server);\n    } else {\n      this.removeServer(server);\n    }\n  }\n\n  async getKeystore(binaryId: string) {\n    const { data } = await this.opcuaService.getKeystore(binaryId);\n    return data;\n  }\n\n  async onPresent(server: OpcuaServer) {\n    if (\n      server &&\n      server.id !== this.NEW_SERVER_ID &&\n      server.config &&\n      server.config.keystoreBinaryId\n    ) {\n      try {\n        const mo = await this.getKeystore(server.config.keystoreBinaryId);\n        server.config.keystoreFilename = mo.name;\n      } catch (ex) {\n        this.server = Object.assign({}, server);\n        console.log('Could not get existing keystore:', ex);\n      }\n    }\n    if (this.serverObjectList.length > 0) {\n      this.serverObjectList.forEach(item => {\n        item.active = false;\n\n        if (item.id === server.id) {\n          item.active = true;\n          server.active = item.active;\n        }\n      });\n      this.setQuickInfo(server);\n      this.server = Object.assign({}, server);\n    }\n  }\n\n  private async createServer(server: OpcuaServer) {\n    const response = await this.opcuaService.createServer(server);\n    const svr = (await response.json()) as OpcuaServer;\n    this.updateServerObjectListById(this.NEW_SERVER_ID, svr);\n    this.reloadTabs();\n  }\n\n  private async updateServer(server: OpcuaServer) {\n    const updatedServer = (await this.opcuaService.updateServer(server)) as OpcuaServer;\n    if (updatedServer) {\n      this.updateServerObjectListById(updatedServer.id, updatedServer);\n    }\n  }\n\n  private async removeServer(server: OpcuaServer) {\n    try {\n      await this.opcuaService.removeServer(server);\n      this.removeServerObjectListById(server.id);\n      this.reloadTabs();\n    } catch (ex) {\n      console.log('Could not remove OPC UA server:', ex);\n    }\n  }\n\n  private removeServerObjectListById(id: string) {\n    this.serverObjectList.forEach((item, index) => {\n      if (item.id === id) {\n        this.serverObjectList.splice(index, 1);\n        delete this.server;\n      }\n    });\n  }\n\n  private updateServerObjectListById(id: string, server: OpcuaServer) {\n    const idx = this.serverObjectList.findIndex(item => item.id === id);\n    if (idx > -1) {\n      this.setQuickInfo(server);\n      this.serverObjectList[idx] = server;\n    }\n    delete this.server;\n  }\n\n  private setQuickInfo(server: OpcuaServer) {\n    server.quickInfo = {\n      padlock: 'unlock',\n      padlockMsg: ''\n    };\n\n    if (server && server.config) {\n      if (server.config.securityMode) {\n        server.quickInfo.padlock = server.config.securityMode !== 'NONE' ? 'lock' : 'unlock';\n        server.quickInfo.padlockMsg = this.translateService.instant(\n          gettext('The security policy is set to {{param}}.'),\n          { param: server.config.securityMode }\n        );\n      }\n    }\n  }\n}\n","import { Component, Input } from '@angular/core';\r\nimport {NgForm, ControlContainer} from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'opcua-device-protocol-description',\r\n  templateUrl: './opcua-device-protocol-description.html',\r\n  viewProviders: [{provide: ControlContainer, useExisting: NgForm}]\r\n})\r\n\r\nexport class OpcuaDeviceProtocolDescription {\r\n  _model: any;\r\n  autoScan: string;\r\n  @Input() set model(_model) {\r\n    this.moId = _model.referencedServerId;\r\n    this._model = _model;\r\n    this.autoScan = _model.enabled ? '1' : '0';\r\n  }\r\n\r\n  private moId: string = '';\r\n\r\n  setAutoScanOption(data: string) {\r\n    this._model.enabled = data !== '0' ? true : false;\r\n  }\r\n}\r\n","import { BehaviorSubject, Observable, merge, Subscription } from 'rxjs';\nimport { NestedTreeControl } from '@angular/cdk/tree';\nimport { CollectionViewer, SelectionChange } from '@angular/cdk/collections';\nimport { AddressSpaceService, AddressSpaceNode } from './address-space.service';\nimport { map } from 'rxjs/operators';\n\nexport class DynamicDataSource {\n  dataChange = new BehaviorSubject<AddressSpaceNode[]>([]);\n\n  get data(): AddressSpaceNode[] {\n    return this.dataChange.value;\n  }\n  set data(value: AddressSpaceNode[]) {\n    this.treeControl.dataNodes = value;\n    this.dataChange.next(value);\n  }\n\n  constructor(\n    public treeControl: NestedTreeControl<AddressSpaceNode>,\n    private addressSpaceService: AddressSpaceService,\n    private serverId: string\n  ) {\n    this.treeControl.isExpanded = (node: AddressSpaceNode) => node.expanded;\n  }\n\n  connect(collectionViewer: CollectionViewer): Observable<AddressSpaceNode[]> {\n    this.treeControl.expansionModel.changed.subscribe(\n      (change: SelectionChange<AddressSpaceNode>) => {\n        if (change.added || change.removed) {\n          this.handleTreeControl(change);\n        }\n      }\n    );\n    return merge(collectionViewer.viewChange, this.dataChange).pipe(map(() => this.data));\n  }\n\n  /** Handle expand/collapse behaviors */\n  handleTreeControl(change: SelectionChange<AddressSpaceNode>) {\n    if (change.added) {\n      change.added.forEach(node => this.toggleNode(node, true));\n    }\n    if (change.removed) {\n      change.removed\n        .slice()\n        .reverse()\n        .forEach(node => this.toggleNode(node, false));\n    }\n  }\n\n  /**\n   * Toggle the node, remove from display list\n   */\n  async toggleNode(addressSpaceNode: AddressSpaceNode, expand: boolean) {\n    if (!addressSpaceNode.children || addressSpaceNode.children.length === 0) {\n      addressSpaceNode.currentlyLoadingChildren = true;\n\n      const res = await this.addressSpaceService.getChildrenOf(addressSpaceNode, this.serverId);\n      const children = (await res.json()) as AddressSpaceNode[];\n\n      addressSpaceNode.children = children || [];\n      addressSpaceNode.children = addressSpaceNode.children.map((node: AddressSpaceNode) => {\n        node.parentNode = addressSpaceNode;\n        return node;\n      });\n      addressSpaceNode.currentlyLoadingChildren = false;\n\n      this.treeControl.expand(addressSpaceNode);\n    }\n\n    addressSpaceNode.expanded = expand && addressSpaceNode.children.length > 0;\n    this.refreshNestedTree(this.data);\n\n    return Promise.resolve(addressSpaceNode);\n  }\n  catch() {\n    // do nothing\n  }\n\n  private refreshNestedTree(treeData: AddressSpaceNode[]) {\n    // necessary to rerender tree, otherwise new nodes will not\n    // appear, but they are added to the list.\n    this.data = [];\n    this.dataChange.next(treeData);\n    this.triggerResize(); // to resize the modal window when creating a new device protocol\n  }\n\n  private triggerResize() {\n    setTimeout(() => {\n      try {\n        window.dispatchEvent(new Event('resize'));\n      } catch (error) {\n        // do nothing\n      }\n    }, 200);\n  }\n}\n","import {\n  Component,\n  Input,\n  Output,\n  OnInit,\n  EventEmitter,\n  OnDestroy,\n  OnChanges,\n  SimpleChanges\n} from '@angular/core';\nimport { AddressSpaceNode, AddressSpaceService, NodeNavigationData } from './address-space.service';\nimport { OpcuaService } from './opcuaService';\nimport { AlertService } from '@c8y/ngx-components';\nimport { DynamicDataSource } from './dynamic-data-source';\nimport { NestedTreeControl } from '@angular/cdk/tree';\nimport { clone } from 'lodash';\nimport { Subject, Subscription } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'opcua-address-space-tree',\n  templateUrl: './opcua-address-space-tree.component.html'\n})\nexport class OpcuaAddressSpaceTreeComponent implements OnInit, OnDestroy, OnChanges {\n  @Input()\n  set moId(id: string) {\n    this._moId = id || undefined;\n  }\n\n  @Input() node;\n  @Input() focusEmitter: EventEmitter<AddressSpaceNode> = new EventEmitter<AddressSpaceNode>();\n  @Output() selectedNode: EventEmitter<AddressSpaceNode> = new EventEmitter<AddressSpaceNode>();\n  nestedTreeControl: NestedTreeControl<AddressSpaceNode>;\n  dataSource: DynamicDataSource = null;\n  focused: AddressSpaceNode;\n  loading: boolean = false;\n  subscriptionRef: Subscription;\n  nodeNavDataSubscription: Subscription;\n  private _moId: string;\n  private destroy$: Subject<any> = new Subject<any>();\n\n  constructor(\n    private addressSpaceService: AddressSpaceService,\n    private opcuaService: OpcuaService,\n    private alertService: AlertService\n  ) {}\n\n  getChildren = (node: AddressSpaceNode) => (node.expanded ? node.children : []);\n  hasChild = (_: number, _nodeData: AddressSpaceNode) =>\n    this.addressSpaceService.childrenAvailable(_nodeData.references)\n\n  ngOnInit() {\n    this.initializeDataSet();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.moId && changes.moId.previousValue && (changes.moId.currentValue !== changes.moId.previousValue)) {\n      this.initializeDataSet();\n    }\n  }\n\n  initializeDataSet() {\n    this.nodeNavDataSubscription = this.addressSpaceService\n      .getNodeNavData$()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(nodeNavData => this.openNode(nodeNavData));\n    this.subscriptionRef = this.focusEmitter.subscribe(node => {\n      this.focused = this.isFocusedNode(node) ? undefined : node;\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n    // clean up the address-space-tree\n    this.addressSpaceService.resetTreeToRootNode();\n\n    if (this.nodeNavDataSubscription && !this.nodeNavDataSubscription.closed) {\n      this.nodeNavDataSubscription.unsubscribe();\n    }\n\n    if (this.subscriptionRef && !this.subscriptionRef.closed) {\n      this.subscriptionRef.unsubscribe();\n    }\n  }\n\n  async openNode(nodeNavData: NodeNavigationData) {\n    const { node, selectedAncestorIds } = nodeNavData;\n    let nodeId;\n\n    // We just set the nodeId when the selectedAncestorIds variable an empty array.\n    // If selectedAncestorIds contain any id we assume that the tree should be travsersed beginning\n    // from the root node.\n    if (node && node.nodeId && selectedAncestorIds && selectedAncestorIds.length === 0) {\n      nodeId = node.nodeId;\n    }\n    // Always recreate the tree when routing to a specific nested node,\n    // because previous modifications to the tree-structure could cause errors\n    // while traversing with 'old' tree-data\n    // -----------------\n    // setupTree is able to handle nodeId = undefined\n    await this.setupTree(nodeId);\n\n    if (!selectedAncestorIds || selectedAncestorIds.length === 0) {\n      return;\n    }\n\n    if (nodeNavData && this.dataSource) {\n      const clonedAncestors = clone(selectedAncestorIds);\n      clonedAncestors.shift();\n\n      const n = await this.dataSource.toggleNode(this.dataSource.data[0], true);\n      this.setChildNodes(n.children, clonedAncestors);\n\n      this.toggleFocusedNode(node);\n    }\n  }\n\n  setChildNodes(nodes: AddressSpaceNode[], ids: string[]) {\n    if (nodes) {\n      ids.forEach(async id => {\n        const match = nodes.find(n => n.nodeId === id);\n        if (match && ids.length > 0) {\n          const idx = ids.findIndex(value => value === id);\n          if (idx >= 0) {\n            ids.splice(idx, 1);\n          }\n          const toggledNode = await this.dataSource.toggleNode(match, true);\n          this.setChildNodes(toggledNode.children, ids);\n        }\n      });\n    }\n  }\n\n  async setupTree(nodeId?: string) {\n    this.loading = true;\n\n    if (!this._moId || this._moId.length === 0) {\n      this._moId = this.opcuaService.getMoId();\n    }\n\n    // addressSpaceService.getNode returns either the root node of the server (moId)\n    // or if nodeId !== undefined the node with given nodeId\n    const res = await this.addressSpaceService.getNode(this._moId, nodeId);\n    if (res) {\n      if (res.status !== 200) {\n        const data = res.json ? await res.json() : undefined;\n        this.alertService.addServerFailure({ data, res });\n        this.dataSource = undefined;\n      } else {\n        const rootNode = (await res.json()) as AddressSpaceNode;\n        this.nestedTreeControl = new NestedTreeControl<AddressSpaceNode>(this.getChildren);\n        this.dataSource = new DynamicDataSource(\n          this.nestedTreeControl,\n          this.addressSpaceService,\n          this._moId\n        );\n        this.dataSource.data = [rootNode];\n      }\n      this.loading = false;\n    } else {\n      this.loading = false;\n    }\n  }\n\n  getMoId() {\n    if (!this._moId || this._moId.length === 0) {\n      return this.opcuaService.getMoId();\n    }\n    return this._moId;\n  }\n\n  getIcon(nodeClassName) {\n    return this.addressSpaceService.getIcon(nodeClassName);\n  }\n\n  toggleFocusedNode(node) {\n    const relativePath = [];\n    this.getRelativePath(node, relativePath);\n    node.relativePath = relativePath;\n\n    this.selectedNode.emit(node);\n    this.focused = this.isFocusedNode(node) ? undefined : node;\n  }\n\n  isFocusedNode(node: AddressSpaceNode) {\n    if (this.focused) {\n      return node.nodeId === this.focused.nodeId;\n    }\n    return false;\n  }\n\n  private getRelativePath(node: AddressSpaceNode, relativePath: string[]) {\n    if (node.parentNode) {\n      relativePath.unshift(node.browseName);\n      this.getRelativePath(node.parentNode, relativePath);\n    }\n  }\n}\n","import { Component, Input, OnInit, EventEmitter } from '@angular/core';\nimport { AutoApplyConstraints } from './opcua-protocol-device-type.interface';\nimport { IManagedObject, InventoryService } from '@c8y/client';\nimport { gettext } from '@c8y/ngx-components';\nimport { set, find, map, reject } from 'lodash-es';\n@Component({\n  selector: 'opcua-auto-apply',\n  templateUrl: './opcua-auto-apply-settings.component.html'\n})\nexport class OpcuaAutoApplySettingsComponent implements OnInit {\n  opcuaServers: IManagedObject[] = [];\n  selectedItems: IManagedObject[] = [];\n  filteredList: IManagedObject[] = [];\n  checked = {};\n  readonly sizeToShowFilter: number = 5;\n  constraints: AutoApplyConstraints = {\n    browsePathMatchesRegex: '',\n    matchesNodeIds: [],\n    serverObjectHasFragment: '',\n    matchesServerIds: []\n  };\n  placeholderSelectServerIds: string = gettext('Select server IDs from list');\n  showServerIds: boolean;\n  showBrowsePath: boolean;\n  showServerFragment: boolean;\n  showRootNodes: boolean;\n  updateSelectedItem: EventEmitter<boolean> = new EventEmitter();\n  private _model: IManagedObject;\n\n  constructor(private inventoryService: InventoryService) {}\n\n  async ngOnInit() {\n    const { data } = await this.inventoryService.list({\n      pageSize: 1000,\n      withTotalPages: true,\n      type: 'c8y_OpcuaServer'\n    });\n\n    this.opcuaServers = data;\n    this.filteredList = data;\n    this.selectedItems = [];\n\n    const { matchesServerIds } = this.constraints;\n\n    data.forEach(server => {\n      if (\n        matchesServerIds &&\n        matchesServerIds.length > 0 &&\n        matchesServerIds.find(itemId => itemId === server.id)\n      ) {\n        this.selectedItems.push(server);\n        this.checked[server.id] = true;\n        this.showServerIds = true;\n      }\n    });\n  }\n\n  @Input() set model(model) {\n    if (model && model.applyConstraints) {\n      this.constraints = model.applyConstraints as AutoApplyConstraints;\n    }\n    this._model = model;\n  }\n\n  get model() {\n    return this._model;\n  }\n\n  serverIdsSelected(items: IManagedObject[]) {\n    if (this.constraints) {\n      this.constraints.matchesServerIds = items.map((item: IManagedObject) => item.id);\n    }\n    this.selectedItems = items;\n  }\n\n  onChangeNodeId(event) {\n    if (event.target.checked) {\n      this.showRootNodes = true;\n      this.add();\n    } else {\n      this.showRootNodes = false;\n      this.constraints.matchesNodeIds = [];\n    }\n  }\n\n  onChangeShowServerIds(event) {\n    if (!event.target.checked) {\n      this.constraints.matchesServerIds = [];\n      this.showServerIds = false;\n      this.selectedItems = [];\n      this.checked = {};\n    } else {\n      this.showServerIds = true;\n    }\n  }\n\n  onChangeShowBrowsePath(event) {\n    if (!event.target.checked) {\n      this.constraints.browsePathMatchesRegex = '';\n      this.showBrowsePath = false;\n    } else {\n      this.showBrowsePath = true;\n    }\n  }\n\n  onChangeShowServerFragment(event) {\n    if (!event.target.checked) {\n      this.constraints.serverObjectHasFragment = '';\n      this.showServerFragment = false;\n    } else {\n      this.showServerFragment = true;\n    }\n  }\n\n  add() {\n    this.constraints.matchesNodeIds.push('');\n  }\n\n  remove(index) {\n    this.constraints.matchesNodeIds.splice(index, 1);\n  }\n\n  trackByFn(index: any, item: any) {\n    return index;\n  }\n\n  updateConstraints(items) {\n    if (this.constraints) {\n      this.constraints.matchesServerIds = items.map((item: IManagedObject) => item.id);\n    }\n  }\n\n  filterItems(filterText) {\n    if (filterText.length !== 0) {\n      const search = new RegExp(filterText, 'i');\n      this.filteredList = this.opcuaServers.filter(({ name, id }) => {\n        return search.test(name) || search.test(id);\n      });\n    } else {\n      this.filteredList = this.opcuaServers;\n    }\n  }\n\n  isChecked(item) {\n    return this.checked[item.id];\n  }\n\n  onSelect(selected, item) {\n    if (!selected) {\n      this.selectedItems = reject(this.selectedItems, { id: item.id });\n      delete this.checked[item.id];\n    } else {\n      this.selectedItems.push(item);\n      this.checked[item.id] = selected;\n    }\n    this.updateSelectedItem.emit(true);\n    this.updateConstraints(this.selectedItems);\n  }\n}\n","import { CdkTreeModule } from '@angular/cdk/tree';\nimport { CdkStepperModule } from '@angular/cdk/stepper';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport {\n  CoreModule,\n  DeviceStatusModule,\n  DropAreaModule,\n  FormsModule,\n  gettext,\n  HOOK_ROUTE,\n  Route,\n  ViewContext\n} from '@c8y/ngx-components';\nimport { ButtonsModule } from 'ngx-bootstrap/buttons';\nimport { AddressSpaceService } from './address-space.service';\nimport { OpcuaAddressSpaceDetailComponent } from './opcua-address-space-detail.component';\nimport { OpcuaDeviceProtocolDetailComponent } from './opcua-device-protocol-detail.component';\nimport { OpcuaDeviceProtocolDataReportingComponent } from './opcua-device-protocol-data-reporting.component';\nimport { OpcuaDeviceProtocolMapping } from './opcua-device-protocol-mapping.component';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { OpcuaDeviceProtocolObjectMapping } from './opcua-device-protocol-object-mapping.component';\nimport { OpcuaDeviceProtocolMappingCustomAction } from './opcua-device-protocol-mapping-customaction.component';\nimport { OpcuaDeviceProtocolObjectMappingStatus } from './opcua-device-protocol-object-mapping-status-icon.component';\nimport { OpcuaAddressSpaceComponent } from './opcua-address-space.component';\nimport { OpcuaAgentGuard } from './opcua-agent.guard';\nimport { OpcuaMicroserviceGuard } from './opcua-microservice.guard';\nimport { OpcuaServerConfigComponent } from './opcua-server-config.component';\nimport { OpcuaServerListComponent } from './opcua-server-list.component';\nimport { OpcuaServerGuard } from './opcua-server.guard';\nimport { OpcuaServersComponent } from './opcua-servers.component';\nimport { OpcuaService } from './opcuaService';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { OpcuaDeviceProtocolDescription } from './opcua-device-protocol-description.component';\nimport { OpcuaAddressSpaceTreeComponent } from './opcua-address-space-tree.component';\nimport { OpcuaAutoApplySettingsComponent } from './opcua-auto-apply-settings.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { OpcuaDeviceProtocolBrowsePathValidation } from './opcua-device-protocol-browse-path-validation.directive';\n\nconst routes: Route[] = [\n  {\n    context: ViewContext.Device,\n    path: 'opcua-servers',\n    component: OpcuaServersComponent,\n    label: gettext('OPC UA server'),\n    icon: 'server',\n    canActivate: [OpcuaAgentGuard, OpcuaMicroserviceGuard]\n  },\n  {\n    context: ViewContext.Device,\n    path: 'address-space',\n    component: OpcuaAddressSpaceComponent,\n    label: gettext('Address space'),\n    icon: 'cloud-network',\n    canActivate: [OpcuaServerGuard, OpcuaMicroserviceGuard]\n  }\n];\n\nconst deviceProtocolRoutes: Route[] = [\n  {\n    path: 'deviceprotocols/opcuaV2/:id',\n    component: OpcuaDeviceProtocolDetailComponent\n  }\n];\n\n@NgModule({\n  declarations: [\n    OpcuaServersComponent,\n    OpcuaServerListComponent,\n    OpcuaServerConfigComponent,\n    OpcuaAddressSpaceComponent,\n    OpcuaAddressSpaceTreeComponent,\n    OpcuaAddressSpaceDetailComponent,\n    OpcuaDeviceProtocolDescription,\n    OpcuaDeviceProtocolDetailComponent,\n    OpcuaDeviceProtocolDataReportingComponent,\n    OpcuaDeviceProtocolMapping,\n    OpcuaDeviceProtocolObjectMapping,\n    OpcuaDeviceProtocolMappingCustomAction,\n    OpcuaDeviceProtocolObjectMappingStatus,\n    OpcuaAutoApplySettingsComponent,\n    OpcuaDeviceProtocolBrowsePathValidation\n  ],\n  imports: [\n    CoreModule,\n    FormsModule,\n    ReactiveFormsModule,\n    DropAreaModule,\n    ButtonsModule,\n    CdkTreeModule,\n    RouterModule.forRoot(deviceProtocolRoutes, { useHash: true }),\n    TooltipModule.forRoot(),\n    PopoverModule.forRoot(),\n    DeviceStatusModule,\n    BrowserAnimationsModule,\n    CollapseModule.forRoot(),\n    BsDropdownModule.forRoot()\n  ],\n  entryComponents: [\n    OpcuaAddressSpaceTreeComponent,\n    OpcuaAddressSpaceComponent,\n    OpcuaServersComponent\n  ],\n  providers: [\n    OpcuaAgentGuard,\n    OpcuaServerGuard,\n    OpcuaMicroserviceGuard,\n    OpcuaService,\n    AddressSpaceService,\n    {\n      provide: HOOK_ROUTE,\n      useValue: routes,\n      multi: true\n    }\n  ]\n})\nexport class OpcuaProtocolModule {}\n","import { downgradeComponent } from '@angular/upgrade/static';\nimport { OpcuaAddressSpaceTreeComponent } from '../opcua-address-space-tree.component';\nexport const opcuaAddressSpaceTreeComponent = downgradeComponent({\n  component: OpcuaAddressSpaceTreeComponent,\n  inputs: ['moId'],\n  outputs: ['selectedNode']\n});\n","import * as angular from 'angular';\nimport { registerNgModule } from '@c8y/ng1-modules';\nimport { opcuaAddressSpaceTreeComponent } from './downgraded.components';\n\nconst NAME = 'c8y.upgrade.opcua';\n\nconst angularJsModule = angular\n  .module(NAME, [])\n  .directive('c8yOpcuaAddressSpaceTree', opcuaAddressSpaceTreeComponent);\n\nexport const ng1Modules = [NAME];\n\nregisterNgModule(ng1Modules);\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}