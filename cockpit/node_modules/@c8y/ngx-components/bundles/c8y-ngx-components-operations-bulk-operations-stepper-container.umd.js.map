{"version":3,"file":"c8y-ngx-components-operations-bulk-operations-stepper-container.umd.js","sources":["../../operations/bulk-operations-stepper-container/bulk-operations-stepper-container.component.ts","../../operations/bulk-operations-stepper-container/bulk-operations-stepper-container.module.ts","../../operations/bulk-operations-stepper-container/c8y-ngx-components-operations-bulk-operations-stepper-container.ts"],"names":["Component","ActivatedRoute","BulkOperationsService","ComponentFactoryResolver","ChangeDetectorRef","ViewChild","ViewContainerRef","NgModule","CoreModule","RouterModule"],"mappings":";;;;;;;;;QAoBE,iDACU,cAA8B,EAC9B,cAAqC,EACrC,QAAkC,EAClC,cAAiC;AAC1C,YAJS,mBAAc,GAAd,cAAc,CAAgB;AAAC,YAC/B,mBAAc,GAAd,cAAc,CAAuB;AAAC,YACtC,aAAQ,GAAR,QAAQ,CAA0B;AAAC,YACnC,mBAAc,GAAd,cAAc,CAAmB;AAC7C,SAAM;AACN,QACE,0DAAQ,GAAR;AACD,YADC,iBAaC;AACH,YAbI,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,MAAM;AAAI,gBAC7C,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;AACjC,oBAAQ,KAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC,IAAI,CAAC;AAC7C,oBACQ,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,cAAc;AAC5C,yBAAW,YAAY,EAAE;AACzB,yBAAW,IAAI,CAAC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,iBAAiB,CAAC,GAAA,CAAC,CAAC,SAAS,CAAC;AACpF,oBACQ,KAAI,CAAC,cAAc,CAAC,aAAa,EAAE,CAAC;AAC5C,oBAAQ,KAAI,CAAC,eAAe,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;AAC7C,iBAAO;AACP,aAAK,CAAC,CAAC;AACP,SAAG;AAEH,QAAU,iEAAe,GAAf,UAAgB,SAAS;AACnC,YAAI,IAAI,SAAS,EAAE;AACnB,gBAAM,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;AACvE,gBAAM,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;AAC9C,aAAK;AACL,SAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBACH;AAAC;AACsD,SAlC9C;2EAJRA,3EAIS;KAJA,SAAC,sBACT,pCAImB,gBARZC,qBAAc;GAIb,EAAE,mCAAmC,sBAC7C,9DALyB,gBAClBC,2CAAqB;AAAI,gBAJhCC,6BAAwB;AACxB,gBAAAC,sBAAiB;AACjB;AAAU;wCAMqD,kBAChE,1DALA,4BAOEC,cAAS,SAAC,WAAW,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAEC,qBAAgB,EAAE;AAAM;AACzE;AAAC,QCVY,yBAAyB,GAAY;AAClD,QAAE;AACF,YAAI,IAAI,EAAE,mCAAmC;AAC7C,YAAI,SAAS,EAAE,uCAAuC;AACtD,SAAG;AACH,MAAE;AACF,IACA;AACA;AACI;AACI;AACI;AACI;AAGZ;AAAQ;AACiB,QAG7B;AAAkD;;;;;;;;;;;;wPAC5C;AAAC;AAAqD,SADnD;AAAC;AAAC,IC1BX;AACA;AAEA;AACO;UDiBNC,aAAQ,SAAC,sBACR,YAAY,EAAE,CAAC,rEClBT;aDkBgD,CAAC,sBACvD,OAAO,EAAE,CAACC,wBAAU,EAAEC,xEClBsD;EDkB1C,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC,sBACvE,7DCnBqK;AAAmE;QDmBzN,EAAE,CAAC,uCAAuC,CAAC,nDCnB+K;AAAmE;CDoB7S,DCpB8S;AAAK","sourcesContent":["import {\n  Component,\n  OnInit,\n  ViewContainerRef,\n  ViewChild,\n  ComponentFactoryResolver,\n  ChangeDetectorRef\n} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BulkOperationsService } from '@c8y/ngx-components/operations/bulk-operations-service';\n\n@Component({\n  selector: 'bulk-operations-stepper-container',\n  templateUrl: 'bulk-operations-stepper-container.component.html'\n})\nexport class BulkOperationsStepperContainerComponent implements OnInit {\n  @ViewChild('container', { static: false, read: ViewContainerRef }) container;\n  bulkOperationType: string;\n\n  private component: any;\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private bulkOpsService: BulkOperationsService,\n    private resolver: ComponentFactoryResolver,\n    private changeDetector: ChangeDetectorRef\n  ) {}\n\n  ngOnInit() {\n    this.activatedRoute.params.subscribe(params => {\n      if (params && params.type) {\n        this.bulkOperationType = params.type;\n\n        this.component = this.bulkOpsService\n          .getBulkTypes()\n          .find(element => element.path.includes(this.bulkOperationType)).component;\n\n        this.changeDetector.detectChanges();\n        this.createComponent(this.component);\n      }\n    });\n  }\n\n  private createComponent(component) {\n    if (component) {\n      const factory = this.resolver.resolveComponentFactory(component);\n      this.container.createComponent(factory);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { CoreModule, Route } from '@c8y/ngx-components';\n\nimport { BulkOperationsStepperContainerComponent } from './bulk-operations-stepper-container.component';\n\nexport const bulkOperatioStepperRoutes: Route[] = [\n  {\n    path: 'devicecontrol/bulk/creation/:type',\n    component: BulkOperationsStepperContainerComponent\n  }\n];\n\n/**\n * Container module for the new bulk operation steppers. Use this module in your application\n * to provide a step by step guided process for scheduling of bulk operations.\n * The module reads the bulk operation type from the URL and displays the corresponding stepper.\n * You can provide stepper for your custom bulk operation type by registering it with the\n * HOOK_LIST_BULK_TYPE injection token.\n */\n@NgModule({\n  declarations: [BulkOperationsStepperContainerComponent],\n  imports: [CoreModule, RouterModule.forChild(bulkOperatioStepperRoutes)],\n  entryComponents: [BulkOperationsStepperContainerComponent]\n})\nexport class BulkOperationsStepperContainerModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}