{"version":3,"file":"c8y-ngx-components-ecosystem.umd.js","sources":["../../../tslib/tslib.es6.js","../../ecosystem/ecosystem.model.ts","../../ecosystem/ecosystem.constants.ts","../../ecosystem/ecosystem.service.ts","../../ecosystem/applications/add-web-application/add-web-application.component.ts","../../ecosystem/shared/application-properties-form.component.ts","../../ecosystem/applications/install-from-package/install-from-package.component.ts","../../ecosystem/applications/duplicate-application/duplicate-application-list/duplicate-application-list.component.ts","../../ecosystem/applications/duplicate-application/duplicate-application-properties/duplicate-application-properties.component.ts","../../ecosystem/applications/duplicate-application/duplicate-application.component.ts","../../ecosystem/applications/add-external-applicaiton/add-external-application.component.ts","../../ecosystem/microservices/add-microservice.component.ts","../../ecosystem/applications/application-list/application-list.component.ts","../../ecosystem/applications/application-plugins/install-plugin.component.ts","../../ecosystem/applications/application-plugins/application-plugins.component.ts","../../ecosystem/applications/application-plugins/application-plugins.guard.ts","../../ecosystem/applications/application-plugins/plugin-list-item.component.ts","../../ecosystem/applications/application-plugins/plugin-list.component.ts","../../ecosystem/activity-log/activity-log.component.ts","../../ecosystem/application-properties/application-properties.component.ts","../../ecosystem/ecosystem-navigation.factory.ts","../../ecosystem/ecosystem.guard.ts","../../ecosystem/ecosystem-tabs.factory.ts","../../ecosystem/microservices/microservice-list.component.ts","../../ecosystem/packages/package-list/packages-list.component.ts","../../ecosystem/packages/add-package.component.ts","../../ecosystem/packages/package-details/package-details.component.ts","../../ecosystem/packages/deploy-application/deploy-application.component.ts","../../ecosystem/shared/add-application.component.ts","../../ecosystem/packages/package.guard.ts","../../ecosystem/shared/application-card.component.ts","../../ecosystem/application-properties/application-properties.guard.ts","../../ecosystem/features/feature-list.component.ts","../../ecosystem/packages/package-archives/package-archives.component.ts","../../ecosystem/ecosystem-wizard.factory.ts","../../ecosystem/shared/upload-archive.component.ts","../../ecosystem/ecosystem.module.ts","../../ecosystem/c8y-ngx-components-ecosystem.ts"],"names":["gettext","EventEmitter","BehaviorSubject","groupBy","ApplicationType","get","debounceTime","take","pick","Status","saveAs","kebabCase","cloneDeep","Injectable","ModalService","AlertService","HumanizeAppNamePipe","TranslateService","ApplicationService","AppStateService","ZipService","TenantService","Component","Validators","FormBuilder","Input","WizardComponent","ViewChild","Output","BsModalRef","C8yStepper","tap","switchMap","shareReplay","WizardService","combineLatest","map","ActivatedRoute","BsModalService","PluginsService","Isolation","BillingMode","ViewContext","Router","InventoryService","Permissions","OptionsService","markedLexer","markedParser","FetchClient","DropAreaComponent","NgModule","CoreModule","BsDropdownModule","TooltipModule","FormsModule","ReactiveFormsModule","RouterModule","PopoverModule","HOOK_TABS","HOOK_NAVIGATOR_NODES","HOOK_ROUTE","HOOK_WIZARD"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mmCACvB;AAAC;AAAgC,SAD9B;AAAC;AAAC,IC3QX;0CD2HCS,1CC1HD;AAEA;AACO;EDuHE,SAAC,sBACR,YAAY,7CCxHN;ADwHQ,ACtHa;EDuHzB,FCvHiD;EDuHzB,FCvHiD;IDwHzE,JCvHe;KDuHU,LCvHc;ODwHvC,PCxH+D;ODwHvC,PCxH+D;SDyHvF,8BAA8B,vCCxH/B;mBDyHC,nBCzH6C;KDyHrB,0BACxB,/BC1HmF;cD0H/D,dCzHL;ID0Hf,2BAA2B,/BC1HwB;QD2HnD,uBAAuB,/BC3H6E;QD4HpG,sBAAsB,9BC3HH;UD4HnB,mBAAmB,7BC5H8C;oBD6HjE,pBC7HoG;CD6H1E,0BAC1B,3BC7H8B;WD6HC,0BAC/B,rCC9H6E;oBD8HhD,0BAC7B,9CC9HgB;2BD8HiB,3BC9HmC;OD+HpE,PC9HF;ID8HyC,0BACvC,9BC/HwC;WD+HV,0BAC9B,rCChIyF;mBDgI9D,nBC/HF;CDgIzB,wBAAwB,zBChI6C;UDiIrE,8BAA8B,xCChI1B;kBDiIJ,qBAAqB,vCCjI+B;YDkIpD,uBAAuB,nCCjI3B;UDkII,0BAA0B,pCClIqB;ODmI/C,mBAAmB,0BACnB,pDCnIE;cDmIqB,0BACvB,xCCpI+D;kBDoI7B,0BAClC,5CCrIuH;eDqInG,0BACpB,zCCrIU;sBDqIc,tBCrI6B;GDsIrD,sBAAsB,sBACvB,/CCvImG;qBDwIpG,eAAe,EAAE,tCCxImI;uBDyIlJ,vBCxIW;EDwIa,0BACxB,5BCzIwD;YDyI9B,0BAC1B,tCC1IkG;uBD0InE,vBCzIT;AAA4C;ID0IlE,6BAA6B,0BAC7B,3DC3ImE;yBD2IlC,0BACjC,qBC3Ie;AAAC;AAAC;WD2IsB,0BACvC,8BAA8B,0BAC9B,oBAAoB,0BACpB,2BAA2B,0BAC3B,sBAAsB,0BACtB,qBAAqB,0BACrB,2BAA2B,0BAC3B,uBAAuB,0BACvB,0BAA0B,0BAC1B,mBAAmB,0BACnB,oBAAoB,0BACpB,wBAAwB,sBACzB,sBACD,OAAO,EAAE,0BACPC,wBAAU,0BACVC,yBAAgB,0BAChBC,qBAAa,0BACbC,yBAAW,0BACXC,yBAAmB,0BACnBC,mBAAY,CAAC,QAAQ,CAAC,mBAAmB,CAAC,0BAC1CC,qBAAa,sBACd,sBACD,OAAO,EAAE,CAAC,8BAA8B,CAAC,sBACzC,SAAS,EAAE,0BACT,8BACE,OAAO,EAAEC,uBAAS,8BAClB,QAAQ,EAAE,aAAa,8BACvB,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEC,kCAAoB,8BAC7B,QAAQ,EAAE,0BAA0B,8BACpC,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEC,wBAAU,8BACnB,QAAQ,IAA0B,8BAClC,KAAK,EAAE,IAAI,0BACZ,0BACD,cAAc,0BACd,gBAAgB,0BAChB,uBAAuB,0BACvB,YAAY,0BACZ,0BAA0B,0BAC1B,8BACE,OAAO,EAAEC,yBAAW,8BACpB,QAAQ,IAKP,8BACD,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEA,yBAAW,8BACpB,QAAQ,IAGP,8BACD,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEA,yBAAW,8BACpB,QAAQ,IAKP,8BACD,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEA,yBAAW,8BACpB,QAAQ,IAKP,8BACD,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEA,yBAAW,8BACpB,QAAQ,EAAE,sBAAsB,8BAChC,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEA,yBAAW,8BACpB,QAAQ,IAKP,8BACD,KAAK,EAAE,IAAI,0BACZ,0BACD,8BACE,OAAO,EAAEA,yBAAW,8BACpB,QAAQ,IAGP,8BACD,KAAK,EAAE,IAAI,0BACZ,sBACF,kBACF,n1GCrPyB","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export interface ApplicationState {\n  label: string;\n  class: string;\n}\n\n/** Wizard types  */\nexport enum Wizards {\n  APPLICATION_UPLOAD = 'applicationUpload',\n  MICROSERVICE_UPLOAD = 'microserviceUpload'\n}\n\nexport enum ERROR_TYPE {\n  TYPE_VALIDATION = 'TYPE_VALIDATION',\n  ALREADY_SUBSCRIBED = 'ALREADY_SUBSCRIBED',\n  INTERNAL_ERROR = 'INTERNAL_ERROR',\n  NO_MANIFEST_FILE = 'NO_MANIFEST_FILE',\n  INVALID_PACKAGE = 'INVALID_PACKAGE',\n  INVALID_APPLICATION = 'INVALID_APPLICATION'\n}\n\nexport interface ApplicationPlugin {\n  id: string;\n  name?: string;\n  module: string;\n  path: string;\n  description?: string;\n  version?: string;\n  scope?: string;\n  installed?: boolean;\n  contextPath?: string;\n}\n","import { ERROR_TYPE } from './ecosystem.model';\nimport { gettext, PropertiesListItem } from '@c8y/ngx-components';\n\nexport const ERROR_MESSAGES = {\n  [ERROR_TYPE.TYPE_VALIDATION]: gettext(\n    'Wrong file format. Expected a *.zip file with a valid manifest.'\n  ),\n  [ERROR_TYPE.ALREADY_SUBSCRIBED]: gettext(\n    'Could not subscribe to the microservice because another application with the same context path is already subscribed.'\n  ),\n  [ERROR_TYPE.NO_MANIFEST_FILE]: gettext('Could not find a manifest.'),\n  [ERROR_TYPE.INVALID_PACKAGE]: gettext('You have not uploaded a valid package.'),\n  [ERROR_TYPE.INVALID_APPLICATION]: gettext('You have not uploaded a valid application.'),\n  [ERROR_TYPE.INTERNAL_ERROR]: gettext('An internal error occurred, try to upload again.')\n};\n\nexport const APP_STATE = {\n  SUBSCRIBED: {\n    label: gettext('Subscribed`application`'),\n    class: 'label-primary'\n  },\n  CUSTOM: {\n    label: gettext('Custom`application`'),\n    class: 'label-info'\n  },\n  EXTERNAL: {\n    label: gettext('External`application`'),\n    class: 'label-warning'\n  },\n  UNPACKED: {\n    label: gettext('Unpacked`application`'),\n    class: 'label-success'\n  },\n  PACKAGE_APP: {\n    label: gettext('Application'),\n    class: 'label-success'\n  },\n  PACKAGE_PLUGIN: {\n    label: gettext('Plugins'),\n    class: 'label-info'\n  }\n};\n\nexport const packageProperties: PropertiesListItem[] = [\n  {\n    label: gettext('Version'),\n    key: 'version'\n  },\n  {\n    label: gettext('Author'),\n    key: 'author'\n  },\n  {\n    label: gettext('Keywords'),\n    key: 'keywords'\n  },\n  {\n    label: gettext('Source'),\n    key: 'repository',\n    transform: (repository: any) => (repository?.url ? repository.url : repository),\n    type: 'link',\n    action: (e, link) => window.open(link.value as string, '_blank', 'noopener,noreferrer')\n  },\n  {\n    label: gettext('Homepage'),\n    key: 'homepage',\n    type: 'link',\n    action: (e, link) => window.open(link.value as string, '_blank', 'noopener,noreferrer')\n  },\n  {\n    label: gettext('Required platform version'),\n    key: 'requiredPlatformVersion'\n  },\n  {\n    label: gettext('License'),\n    key: 'license'\n  }\n];\n","import { EventEmitter, Injectable } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport {\n  ApplicationService,\n  ApplicationType,\n  IApplication,\n  IApplicationBinary,\n  ICurrentTenant,\n  IdReference,\n  IFetchResponse,\n  IManifest,\n  IResult,\n  IResultList,\n  TenantService\n} from '@c8y/client';\nimport {\n  AlertService,\n  AppStateService,\n  gettext,\n  HumanizeAppNamePipe,\n  ModalService,\n  Status,\n  ZipService\n} from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { saveAs } from 'file-saver/FileSaver';\nimport { cloneDeep, get, groupBy, kebabCase, pick } from 'lodash-es';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { debounceTime, take } from 'rxjs/operators';\nimport { APP_STATE } from './ecosystem.constants';\nimport { ApplicationState, ERROR_TYPE } from './ecosystem.model';\n\nconst CUMULOCITY_JSON = 'cumulocity.json';\n\n@Injectable()\nexport class EcosystemService {\n  appDeleted = new EventEmitter<IApplication>();\n  progress: BehaviorSubject<number> = new BehaviorSubject<number>(null);\n  private appsGroupedByContextPath: any[];\n  private xhr: XMLHttpRequest;\n\n  constructor(\n    private modal: ModalService,\n    private alertService: AlertService,\n    private humanizeAppName: HumanizeAppNamePipe,\n    private translateService: TranslateService,\n    private applicationService: ApplicationService,\n    private appStateService: AppStateService,\n    private zipService: ZipService,\n    private tenantService: TenantService\n  ) {}\n\n  getUniqueAppConfig(srcApp: IApplication, existingApps: IApplication[]): IApplication {\n    let app: IApplication = {\n      name: srcApp.name,\n      key: srcApp.key,\n      contextPath: srcApp.contextPath\n    };\n    for (let retryNo = 0; retryNo < 9; ) {\n      if (this.checkIfAppNameKeyPathExists(existingApps, app, retryNo)) {\n        retryNo++;\n        app = {\n          name: [srcApp.name, retryNo].join('-'),\n          key: [srcApp.key, retryNo].join('-'),\n          contextPath: [srcApp.contextPath, retryNo].join('-')\n        };\n      } else {\n        return app;\n      }\n    }\n    return app;\n  }\n\n  getApplication(appId: IdReference): IApplication {\n    return this.applicationService.detail(appId).then((res) => res.data);\n  }\n\n  getApplications(customFilter: any = {}): Promise<IResultList<IApplication>> {\n    const filter: object = {\n      pageSize: 2000,\n      withTotalPages: true\n    };\n    Object.assign(filter, customFilter);\n    const currentTenant = this.appStateService.currentTenant.value;\n    return this.applicationService.listByTenant(currentTenant.name, filter);\n  }\n\n  async getMicroservices(): Promise<IApplication[]> {\n    const apps = (await this.getApplications()).data;\n    const microservices = apps.filter((app) => this.isMicroservice(app));\n    return microservices.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async getWebApplications(customFilter: any = {}): Promise<IApplication[]> {\n    const apps = (await this.getApplications(customFilter)).data;\n    const webApps = apps.filter((app) => this.isApplication(app));\n    this.appsGroupedByContextPath = groupBy(webApps, 'contextPath');\n    return webApps.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async getFeatureApplications(customFilter: any = {}): Promise<IApplication[]> {\n    const apps = (await this.getApplications(customFilter)).data;\n    const webApps = apps.filter((app) => this.isFeature(app));\n    return webApps.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async getPackageApplications(customFilter: any = {}): Promise<IApplication[]> {\n    const apps = (await this.getApplications(customFilter)).data;\n    const webApps = apps.filter((app) => this.isPackage(app));\n    return webApps.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  async isMicroserviceHostingAllowed(): Promise<boolean> {\n    const { data: apps } = await this.applicationService.listByName('feature-microservice-hosting');\n    return !!apps.filter(app => app.owner?.tenant?.id === 'management').length;\n  }\n\n  canOpenAppInBrowser(app: IApplication): boolean {\n    const isNotAFeature = !this.isFeature(app);\n    const hasProperType = [\n      ApplicationType.HOSTED,\n      ApplicationType.EXTERNAL,\n      ApplicationType.REPOSITORY\n    ].includes(app.type);\n    const isNotAPackage = !this.isPackage(app);\n    return isNotAFeature && hasProperType && isNotAPackage;\n  }\n\n  canDeleteApp(app: IApplication): boolean {\n    return !this.isCurrentApp(app) && this.isOwner(app);\n  }\n\n  isOwner(app: IApplication): boolean {\n    const currentTenant: ICurrentTenant = this.appStateService.currentTenant.value;\n    const appOwner = get(app, 'owner.tenant.id');\n    return currentTenant.name === appOwner;\n  }\n\n  isFeature(app: IApplication): boolean {\n    return !!app.name.match(/feature-/);\n  }\n\n  isMicroservice(app: IApplication): boolean {\n    return app.type === 'MICROSERVICE';\n  }\n\n  isExternal(app: IApplication): boolean {\n    return app.type === 'EXTERNAL';\n  }\n\n  isPackage(app: IApplication): boolean {\n    return app.manifest?.isPackage === true;\n  }\n\n  cancelAppCreation(app: IApplication): void {\n    if (this.xhr) {\n      this.xhr.abort();\n    }\n    if (app) {\n      this.applicationService.delete(app);\n    }\n  }\n\n  updateUploadProgress(event): void {\n    if (event.lengthComputable) {\n      const currentProgress = this.progress.value;\n      this.progress.next(currentProgress + (event.loaded / event.total) * (95 - currentProgress));\n    }\n  }\n\n  setAppActiveVersion(app: IApplication, activeVersionId: string): Promise<IApplication> {\n    return this.applicationService.update({ id: app.id, activeVersionId });\n  }\n\n  getHumanizedAppName(app: IApplication): Promise<string> {\n    return this.humanizeAppName.transform(app.name).pipe(debounceTime(250), take(1)).toPromise();\n  }\n\n  createConfig(app: IApplication, formGroupValue: FormGroup): Partial<FormGroup> {\n    const { id, manifest } = app;\n    let config = pick(formGroupValue, ['name', 'key', 'contextPath']);\n    config = { ...config, setup: true, id, description: manifest.description };\n    return config;\n  }\n\n  async updateAppManifest(\n    application: IApplication,\n    sourcePackage: IApplication\n  ): Promise<{ res: IFetchResponse; data: any }> {\n    const { id } = application;\n    const cleanedApp = this.removeAppProperties(application);\n    cleanedApp.setup = true;\n    cleanedApp.manifest.isPackage = false;\n    cleanedApp.manifest.source = sourcePackage.id;\n\n    return await this.applicationService\n      .binary(id)\n      .updateFiles([{ path: CUMULOCITY_JSON, contents: JSON.stringify(cleanedApp) as any }]);\n  }\n\n  async listArchives(appId: string | number | IApplication): Promise<IApplicationBinary[]> {\n    const filter = {\n      pageSize: 100\n    };\n    return (await this.applicationService.binary(appId).list(filter)).data;\n  }\n\n  async deleteArchive(archive: IApplicationBinary, app: IApplication): Promise<void> {\n    const humanizedArchiveName = await this.getHumanizedAppName(archive);\n    try {\n      await this.modal.confirm(\n        gettext('Delete archive'),\n        this.translateService.instant(\n          gettext(\n            `You are about to delete archive \"{{ humanizedArchiveName }}\". Do you want to proceed?`\n          ),\n          { humanizedArchiveName }\n        ),\n        Status.DANGER,\n        { ok: gettext('Delete'), cancel: gettext('Cancel') }\n      );\n      await this.applicationService.binary(app).delete(archive.id);\n      this.alertService.success(gettext('Archive deleted.'));\n    } catch (ex) {\n      if (ex) {\n        this.alertService.danger(get(ex, 'data.message'), ex.data);\n      }\n      throw new Error('Cancelled');\n    }\n  }\n\n  async downloadArchive(app: IApplication, archive: IApplicationBinary): Promise<void> {\n    try {\n      const binary = await this.getBinary(app, archive);\n      const fileBinary = new Blob([binary], { type: 'application/x-zip-compressed' });\n      saveAs(fileBinary, archive.name);\n    } catch (e) {\n      // empty\n    }\n  }\n\n  async updateApp(app: IApplication, deleteOnFailure: boolean = false): Promise<IResult<IApplication>> {\n    try {\n      return await this.applicationService.update(app);\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n      if (deleteOnFailure) {\n        await this.applicationService.delete(app.id);\n        throw new Error('Application creation failed.');\n      }\n    }\n  }\n\n  async deleteApp(app: IApplication): Promise<void> {\n    const humanizedAppName = await this.getHumanizedAppName(app);\n    await this.modal.confirm(\n      gettext('Delete application'),\n      this.translateService.instant(\n        gettext(\n          `You are about to delete application \"{{ humanizedAppName }}\". Do you want to proceed?`\n        ),\n        { humanizedAppName }\n      ),\n      Status.DANGER,\n      { ok: gettext('Delete'), cancel: gettext('Cancel') }\n    );\n    await this.applicationService.delete(app.id);\n    this.alertService.success(gettext('Application deleted.'));\n    this.appDeleted.emit(app);\n  }\n\n  async checkIfSubscribed(app: IApplication): Promise<boolean> {\n    const currentTenant = await this.tenantService.current();\n    const subscribedApps = currentTenant.data.applications.references;\n    return subscribedApps.some((application) => application.application.id === app.id);\n  }\n\n  async subscribeApp(app: IApplication): Promise<void> {\n    const currentTenant: ICurrentTenant = this.appStateService.currentTenant.value;\n    try {\n      await this.tenantService.subscribeApplication(currentTenant, app);\n      this.alertService.success(gettext('Successfully subscribed to application.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  async unsubscribeApp(app: IApplication): Promise<void> {\n    const currentTenant: ICurrentTenant = this.appStateService.currentTenant.value;\n    try {\n      await this.tenantService.unsubscribeApplication(currentTenant, app);\n      this.alertService.success(gettext('Successfully unsubscribed from application.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  async isValidAppType(archive: File, appType: ApplicationType): Promise<boolean> {\n    try {\n      const currentType = await this.getAppType(archive);\n      if (currentType !== appType) {\n        throw new Error(ERROR_TYPE.TYPE_VALIDATION);\n      } else {\n        this.progress.next(this.progress.value + 10);\n        return true;\n      }\n    } catch (ex) {\n      throw new Error(ERROR_TYPE.TYPE_VALIDATION);\n    }\n  }\n\n  async uploadArchiveToApp(archive: File, app: IApplication): Promise<IApplication> {\n    const binaryService = this.applicationService.binary(app);\n    this.xhr = binaryService.uploadWithProgressXhr(archive, this.updateUploadProgress.bind(this));\n\n    const binaryMo = await binaryService.getXMLHttpResponse(this.xhr);\n    return (await this.setAppActiveVersion(app, binaryMo.id as string)).data;\n  }\n\n  async createAppForArchive(archive, isPackageTypeArchive: boolean = false): Promise<IApplication> {\n    let isPackage: boolean = false;\n    const appType = await this.getAppType(archive);\n    let appModel: any = {};\n\n    if (appType === ApplicationType.HOSTED) {\n      try {\n        appModel = await this.getCumulocityJson(archive).toPromise();\n        isPackage = appModel.isPackage;\n      } catch (e) {\n        // do nothing, we allow having HOSTED applications without the manifest file\n      }\n    }\n    const name = this.getBaseNameFromArchiveOrAppModel(archive, appType, appModel);\n    const clearedName = this.removeForbiddenCharacters(name);\n    const key = this.getAppKey(appModel, clearedName);\n    const contextPath = this.getContextPath(appModel, name);\n\n    const appToSave = {\n      resourcesUrl: '/',\n      type: appType,\n      name,\n      key,\n      contextPath\n    };\n\n    if (isPackageTypeArchive && !isPackage) {\n      throw new Error(ERROR_TYPE.INVALID_PACKAGE);\n    } else if (!isPackageTypeArchive && isPackage) {\n      throw new Error(ERROR_TYPE.INVALID_APPLICATION);\n    }\n    return (\n      await this.applicationService.create({\n        ...appToSave,\n        manifest: { isPackage } as unknown as IManifest\n      })\n    ).data;\n  }\n\n  async reactivateArchive(app: IApplication): Promise<void> {\n    try {\n      await this.applicationService.reactivateArchive(app.id);\n      this.alertService.success(gettext('Application reactivated.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  async removeOldestArchive(app: IApplication, archives: IApplicationBinary[]): Promise<void> {\n    try {\n      await this.modal.confirm(\n        gettext('Delete oldest archive and continue'),\n        gettext(\n          'Up to 6 archives can be saved in the platform. If you upload a new archive, the oldest archive that is not active will be deleted. Do you want to proceed?'\n        ),\n        Status.INFO,\n        { ok: gettext('Delete and continue') }\n      );\n      const archiveToDelete = archives[archives.length - 2];\n      await this.applicationService.binary(app).delete(archiveToDelete.id);\n      this.alertService.success(gettext('Archive deleted.'));\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  getAppState(app: IApplication): ApplicationState {\n    if (!this.isOwner(app)) {\n      return APP_STATE.SUBSCRIBED;\n    } else if (this.isUnpacked(app)) {\n      return APP_STATE.UNPACKED;\n    } else if (app.type === ApplicationType.EXTERNAL) {\n      return APP_STATE.EXTERNAL;\n    } else if (this.isApplicationPackage(app)) {\n      return APP_STATE.PACKAGE_APP;\n    } else if (this.isPluginsPackage(app)) {\n      return APP_STATE.PACKAGE_PLUGIN;\n    }\n    return APP_STATE.CUSTOM;\n  }\n\n  isApplicationPackage(app: IApplication): boolean {\n    return this.isPackage(app) && app.manifest.package === 'application';\n  }\n\n  isPluginsPackage(app: IApplication): boolean {\n    return this.isPackage(app) && app.manifest.package === 'plugin';\n  }\n\n  isUnpacked(app: IApplication): boolean {\n    return !!app.manifest?.source;\n  }\n\n  hasExports(app: IApplication): boolean {\n    return !!app.manifest?.exports?.length;\n  }\n\n  isApplication(app: IApplication): boolean {\n    return (\n      app.type !== ApplicationType.MICROSERVICE && !this.isFeature(app) && !this.isPackage(app)\n    );\n  }\n\n  isCustomMicroservice(app: IApplication) {\n    return this.isOwner(app) && app.type === ApplicationType.MICROSERVICE;\n  }\n\n  async isOverwrittenByCustomApp(app: IApplication): Promise<boolean> {\n    if (!this.appsGroupedByContextPath) {\n      await this.getWebApplications();\n    }\n    return (\n      app.contextPath &&\n      this.appsGroupedByContextPath[app.contextPath].length === 2 &&\n      !this.isOwner(app)\n    );\n  }\n\n  private getAppKey(appModel: IApplication, name: string): string {\n    let key = appModel?.key;\n    if (!key) {\n      key = `${kebabCase(name)}-key`;\n    }\n    return key;\n  }\n\n  private getContextPath(appModel: IApplication, name: string): string {\n    return appModel?.contextPath || name.toLowerCase();\n  }\n\n  private removeForbiddenCharacters(str: string): string {\n    return str.replace(/[^a-zA-Z0-9-_]/g, '');\n  }\n\n  private isCurrentApp(app: IApplication): boolean {\n    const currentApp = this.appStateService.state.app;\n    return currentApp.contextPath === app.contextPath;\n  }\n\n  private getCumulocityJson(archive: File): Observable<any> {\n    return this.zipService.getJsonData(archive, {\n      filename: CUMULOCITY_JSON\n    });\n  }\n\n  private getAppType(archive: File): Promise<ApplicationType> {\n    return this.getCumulocityJson(archive)\n      .toPromise()\n      .then(\n        (data) =>\n          get(data, 'type') ||\n          (get(data, 'apiVersion') ? ApplicationType.MICROSERVICE : ApplicationType.HOSTED)\n      )\n      .catch(() => ApplicationType.HOSTED);\n  }\n\n  private async getBinary(app: IApplication, archive: IApplicationBinary): Promise<ArrayBuffer> {\n    let binary;\n    try {\n      const res = await this.applicationService.binary(app).downloadArchive(archive.id);\n      binary = await res.arrayBuffer();\n    } catch (ex) {\n      const msg = gettext('Could not get the binary.');\n      this.alertService.danger(msg);\n    }\n    return binary;\n  }\n\n  private getBaseNameFromArchiveOrAppModel(\n    archive: any,\n    appType: ApplicationType,\n    appModel?: IApplication\n  ): string {\n    let baseName = appModel?.name || archive.name.replace(/\\.zip$/i, '');\n    if (appType === 'MICROSERVICE') {\n      baseName = baseName.replace(/-\\d+\\.\\d+\\.\\d+(-SNAPSHOT)?$/, '');\n    }\n    return baseName;\n  }\n\n  private checkIfAppNameKeyPathExists(existingApps: IApplication[], app: IApplication, retryNo: number): IApplication {\n    return existingApps.find(\n      (existingApp) =>\n        existingApp.name === app.name ||\n        existingApp.key === app.key ||\n        existingApp.contextPath === app.contextPath ||\n        existingApp.name === [app.name, retryNo].join('-') ||\n        existingApp.key === [app.key, retryNo].join('-') ||\n        existingApp.contextPath === [app.contextPath, retryNo].join('-')\n    );\n  }\n\n  private removeAppProperties(app: IApplication): IApplication {\n    const tempApp = cloneDeep(app);\n    const propertiesToRemove = ['id', 'owner', 'activeVersionId'];\n\n    propertiesToRemove.forEach(prop => delete tempApp[prop]);\n    return tempApp;\n  }\n}\n","import { Component } from '@angular/core';\nimport { ApplicationType, IApplication } from '@c8y/client';\nimport { gettext } from '@c8y/ngx-components';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-add-web-application',\n  template: `<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'upload'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createApplicationHandler\"\n    [uploadApplicationHandler]=\"uploadApplicationHandler\"\n    [canGoBack]=\"true\"\n  ></c8y-add-application>`\n})\nexport class AddWebApplicationComponent {\n  headerText: string = gettext('Upload web application');\n  successText: string = gettext('Application created');\n\n  constructor(private ecosystemService: EcosystemService) {}\n\n  createApplicationHandler = (f: File) => this.createApplication(f);\n  uploadApplicationHandler = (f: File, app: IApplication) => this.uploadApplication(f, app);\n\n  async createApplication(file: File): Promise<IApplication> {\n    await this.ecosystemService.isValidAppType(file, ApplicationType.HOSTED);\n    return this.ecosystemService.createAppForArchive(file);\n  }\n\n  async uploadApplication(file: File, app: IApplication): Promise<IApplication> {\n    return this.ecosystemService.uploadArchiveToApp(file, app);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IApplication } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-application-properties-form',\n  templateUrl: './application-properties-form.component.html'\n})\nexport class ApplicationPropertiesFormComponent implements OnInit {\n  formGroup: FormGroup;\n  @Input() application: IApplication;\n  @Input() isPackage: boolean;\n\n  constructor(private formBuilder: FormBuilder) {}\n\n  async ngOnInit() {\n    this.initForm();\n    this.setForm(this.application);\n  }\n\n  private initForm() {\n    this.formGroup = this.formBuilder.group({\n      name: [Validators.required, Validators.maxLength(120)],\n      key: [Validators.required, Validators.maxLength(120)],\n      contextPath: [Validators.required, Validators.maxLength(120)]\n    });\n  }\n\n  private setForm(applicationConfig: IApplication) {\n    this.formGroup.patchValue({ ...applicationConfig });\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { WizardComponent } from '@c8y/ngx-components';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { ApplicationPropertiesFormComponent } from '../../shared/application-properties-form.component';\n\n@Component({\n  selector: 'c8y-install-from-package',\n  templateUrl: './install-from-package.component.html'\n})\nexport class InstallFromPackageComponent implements OnInit {\n  newAppConfig: IApplication;\n  selectedPackage: IApplication;\n  packages: IApplication[];\n  inProgress: boolean;\n  deployedWithSuccess: boolean = false;\n  isDeployed: boolean = false;\n\n  @ViewChild(ApplicationPropertiesFormComponent)\n  applicationPropertiesForm: ApplicationPropertiesFormComponent;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  async ngOnInit() {\n    this.loadPackages();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  async save() {\n    const formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();\n    this.inProgress = true;\n\n    const { data: clonedPkg } = await this.applicationService.clone(this.selectedPackage);\n    const config = this.ecosystemService.createConfig(clonedPkg, formGroupValue);\n\n    try {\n      const { data: updatedApp } = await this.ecosystemService.updateApp(config, true);\n\n      if (updatedApp) {\n        await this.ecosystemService.updateAppManifest(updatedApp, this.selectedPackage);\n      }\n      this.deployedWithSuccess = true;\n    } catch (error) {\n      this.inProgress = false;\n      await this.applicationService.delete(clonedPkg.id);\n    }\n    this.markAsDeployed();\n  }\n\n  async selectPackage(selectedPackage: IApplication) {\n    const apps = await this.ecosystemService.getWebApplications();\n    this.newAppConfig = this.ecosystemService.getUniqueAppConfig(selectedPackage, apps);\n    this.selectedPackage = selectedPackage;\n  }\n  /* The 'select package version' option will be added later when BE support for multiple app versions has been implemented. MTM-40278\n  // onSelectedArchive(archive) {\n  //   this.formGroup.controls['packageVersion'].setValue(archive.name);\n  // } */\n\n  private markAsDeployed() {\n    this.isDeployed = true;\n    this.inProgress = false;\n  }\n\n  private async loadPackages(): Promise<void> {\n    const applications = await this.ecosystemService.getApplications();\n    this.packages = applications.data.filter((app) =>\n      this.ecosystemService.isApplicationPackage(app)\n    );\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IApplication } from '@c8y/client';\nimport { C8yStepper, WizardComponent } from '@c8y/ngx-components';\nimport { ApplicationState } from '../../../ecosystem.model';\nimport { EcosystemService } from '../../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-duplicate-application-list',\n  templateUrl: './duplicate-application-list.component.html'\n})\nexport class DuplicateApplicationListComponent {\n  @Input() stepper: C8yStepper;\n  @Input() existingApps: IApplication[];\n  @Output() onSelectedApp = new EventEmitter<IApplication>();\n  appState: ApplicationState;\n\n  constructor(\n    public ecosystemService: EcosystemService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  select(selectedApp: IApplication) {\n    this.onSelectedApp.emit(selectedApp);\n    this.stepper.next();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n}\n","import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { C8yStepper } from '@c8y/ngx-components';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject } from 'rxjs';\nimport { EcosystemService } from '../../../ecosystem.service';\nimport { ApplicationPropertiesFormComponent } from '../../../shared/application-properties-form.component';\n\n@Component({\n  selector: 'c8y-duplicate-application-properties',\n  templateUrl: './duplicate-application-properties.component.html'\n})\nexport class DuplicateApplicationPropertiesComponent {\n  @Input() stepper: C8yStepper;\n  @Input() existingApps: IApplication[];\n  @Input() selectedApp: BehaviorSubject<IApplication>;\n  @Output() duplicatedApp = new EventEmitter<IApplication>();\n  @ViewChild(ApplicationPropertiesFormComponent)\n  applicationPropertiesForm: ApplicationPropertiesFormComponent;\n  newAppConfig: IApplication;\n\n  inProgress: boolean = false;\n\n  constructor(\n    private bsModalRef: BsModalRef,\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService\n  ) {}\n\n  ngOnInit() {\n    this.newAppConfig = this.ecosystemService.getUniqueAppConfig(\n      this.selectedApp.value,\n      this.existingApps\n    );\n  }\n\n  async duplicateApp() {\n    const formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();\n    this.inProgress = true;\n    const clonedApp = (await this.applicationService.clone(this.selectedApp.value)).data;\n\n    Object.assign(clonedApp, formGroupValue);\n    delete clonedApp.type;\n\n    await this.updateApp(clonedApp);\n    this.inProgress = false;\n  }\n\n  cancel() {\n    this.bsModalRef.hide();\n  }\n\n  back() {\n    this.stepper.previous();\n  }\n\n  private async updateApp(clonedAppConfig: Partial<IApplication>) {\n    try {\n      const app = (await this.ecosystemService.updateApp(clonedAppConfig, true)).data;\n      this.duplicatedApp.emit(app);\n      this.stepper.next();\n    } catch (err) {\n      this.inProgress = false;\n    }\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { C8yStepper, WizardComponent } from '@c8y/ngx-components';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { EcosystemService } from './../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-duplicate-application',\n  templateUrl: './duplicate-application.component.html'\n})\nexport class DuplicateApplicationComponent implements OnInit {\n  @ViewChild(C8yStepper, { static: true })\n  stepper: C8yStepper;\n  duplicatedApp: IApplication;\n  selectedApp: Subject<IApplication> = new BehaviorSubject<IApplication>(null);\n  existingApps: IApplication[] = [];\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  async ngOnInit() {\n    this.existingApps = await this.ecosystemService.getWebApplications();\n  }\n\n  onSelectedApp(app: IApplication) {\n    this.selectedApp.next(app);\n  }\n\n  getHref(app: IApplication): string {\n    return this.applicationService.getHref(app);\n  }\n\n  done() {\n    this.wizardComponent.close();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ApplicationService, ApplicationType, IApplication, IManifest } from '@c8y/client';\nimport { AlertService, WizardComponent } from '@c8y/ngx-components';\n\n@Component({\n  selector: 'c8y-add-external-application',\n  templateUrl: './add-external-application.component.html'\n})\nexport class AddExternalApplicationComponent implements OnInit {\n  formGroup: FormGroup;\n  createdApp: IApplication;\n\n  constructor(\n    private applicationService: ApplicationService,\n    private formBuilder: FormBuilder,\n    private alertService: AlertService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  ngOnInit() {\n    this.initForm();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  done() {\n    this.wizardComponent.close();\n  }\n\n  async save(app) {\n    const appToSave = {\n      manifest: {} as IManifest,\n      externalUrl: app.externalUrl,\n      type: ApplicationType.EXTERNAL,\n      name: app.name,\n      key: app.key\n    };\n    try {\n      this.createdApp = await this.applicationService.create(appToSave);\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n  }\n\n  private initForm(): void {\n    this.formGroup = this.formBuilder.group({\n      name: ['', [Validators.required, Validators.maxLength(120)]],\n      key: ['', [Validators.required, Validators.maxLength(120)]],\n      externalUrl: ['', Validators.required]\n    });\n  }\n}\n","import { Component } from '@angular/core';\nimport { gettext, ModalService, Status } from '@c8y/ngx-components';\nimport { ApplicationType, IApplication, TenantService } from '@c8y/client';\nimport { EcosystemService } from '../ecosystem.service';\nimport { ERROR_TYPE } from '../ecosystem.model';\n\n@Component({\n  selector: 'c8y-add-microservice',\n  template: `<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'microchip'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createMicroserviceApplicationHandler\"\n    [uploadApplicationHandler]=\"uploadMicroserviceHandler\"\n  ></c8y-add-application>`\n})\nexport class AddMicroserviceComponent {\n  headerText: string = gettext('Add microservice');\n  successText: string = gettext('Microservice created');\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private modal: ModalService,\n    private tenantService: TenantService\n  ) {}\n\n  createMicroserviceApplicationHandler = (f: File) => this.createMicroserviceApplication(f);\n  uploadMicroserviceHandler = (f: File, app: IApplication) => this.uploadMicroservice(f, app);\n\n  async createMicroserviceApplication(file: File): Promise<IApplication> {\n    await this.ecosystemService.isValidAppType(file, ApplicationType.MICROSERVICE);\n    return this.ecosystemService.createAppForArchive(file);\n  }\n\n  async uploadMicroservice(file: File, microservice: IApplication): Promise<void> {\n    const subscribeToCurrentTenant = await this.askIfActivationAfterUploadNeeded();\n    await this.ecosystemService.uploadArchiveToApp(file, microservice);\n    await this.subscribeMicroservice(microservice, subscribeToCurrentTenant);\n  }\n\n  private async askIfActivationAfterUploadNeeded(): Promise<boolean> {\n    try {\n      await this.modal.confirm(\n        gettext('Subscribe to microservice'),\n        gettext(\n          'You are about to subscribe to the microservice after upload. Do you want to subscribe to it?'\n        ),\n        Status.INFO,\n        { ok: gettext('Subscribe'), cancel: gettext(\"Don't subscribe\") }\n      );\n      return true;\n    } catch (ex) {\n      return false;\n    }\n  }\n\n  private async subscribeMicroservice(\n    app: IApplication,\n    subscribeToCurrentTenant: boolean\n  ): Promise<any> {\n    const tenant = (await this.tenantService.current()).data;\n    const applications = tenant.applications.references;\n\n    const isSubscribed = applications.some(({ application }) => application.id === app.id);\n    if (!isSubscribed && subscribeToCurrentTenant) {\n      try {\n        return await this.tenantService.subscribeApplication(tenant, app);\n      } catch (res) {\n        if (res.status === 409) {\n          throw Error(ERROR_TYPE.ALREADY_SUBSCRIBED);\n        }\n      }\n    } else if (isSubscribed && !subscribeToCurrentTenant) {\n      return this.tenantService.unsubscribeApplication(tenant, app);\n    }\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { IApplication } from '@c8y/client';\nimport { WizardConfig, WizardService } from '@c8y/ngx-components';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from './../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-application-list',\n  templateUrl: './application-list.component.html'\n})\nexport class ApplicationListComponent implements OnInit {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n\n  apps$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getWebApplications()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n\n  listClass: string;\n\n  constructor(private ecosystemService: EcosystemService, private wizardService: WizardService) {}\n\n  ngOnInit() {\n    this.loadApplications();\n  }\n\n  loadApplications() {\n    this.reload$.next();\n  }\n\n  addApplication() {\n    const wizardConfig: WizardConfig = {\n      headerText: 'Add Application',\n      headerIcon: 'c8y-atom'\n    };\n\n    const initialState: any = {\n      wizardConfig,\n      id: 'uploadApplication'\n    };\n\n    const modalOptions: ModalOptions = { initialState };\n\n    const modalRef = this.wizardService.show(modalOptions);\n    modalRef.content.onClose.subscribe(() => {\n      this.loadApplications();\n    });\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ModalService, gettext, Status } from '@c8y/ngx-components';\nimport { ApplicationPlugin } from '../../ecosystem.model';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { BsModalRef } from 'ngx-bootstrap/modal';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'c8y-install-plugin',\n  templateUrl: './install-plugin.component.html'\n})\nexport class InstallPluginComponent implements OnInit {\n  @Input() plugins$: BehaviorSubject<ApplicationPlugin[]>;\n  filterTerm$: BehaviorSubject<string> = new BehaviorSubject('');\n  filteredPlugins$: Observable<ApplicationPlugin[]> = new BehaviorSubject([]);\n  selectedPlugins: string[] = [];\n  result: Promise<void> = new Promise((resolve, reject) => {\n    this._install = resolve;\n    this._cancel = reject;\n  });\n  private _install;\n  private _cancel;\n\n  constructor(private bsModalRef: BsModalRef, private modal: ModalService) {}\n\n  ngOnInit() {\n    this.filteredPlugins$ = combineLatest(this.plugins$, this.filterTerm$).pipe(\n      map(([plugins, filterTerm]) =>\n        filterTerm.trim().length === 0\n          ? plugins\n          : plugins.filter((plugin: ApplicationPlugin) =>\n              this.filterContainString(plugin.name, filterTerm)\n            )\n      )\n    );\n  }\n\n  cancel() {\n    this.bsModalRef.hide();\n    this._cancel();\n  }\n\n  async install() {\n    await this.modal.confirm(\n      gettext('Install plugins'),\n      gettext(\n        'The operation may take several minutes. During this time the application may be unavailable. Do you want to proceed?'\n      ),\n      Status.INFO,\n      { ok: gettext('Continue') }\n    );\n    this._install(this.selectedPlugins);\n    this.bsModalRef.hide();\n  }\n\n  private filterContainString(name: string, filterTerm: string) {\n    const term = filterTerm.toLowerCase().trim();\n    return name && name.toLowerCase().indexOf(term) > -1;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { ApplicationRemotePlugins, IApplication, IApplicationBinary, IManifest } from '@c8y/client';\nimport { ActivatedRoute } from '@angular/router';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { ApplicationPlugin } from '../../ecosystem.model';\nimport { BsModalService } from 'ngx-bootstrap/modal';\nimport { InstallPluginComponent } from './install-plugin.component';\nimport { AlertService, gettext, ModalService, PluginsService, Status } from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { map, shareReplay } from 'rxjs/operators';\n\n@Component({\n  selector: 'c8y-app-plugins',\n  templateUrl: './application-plugins.component.html'\n})\nexport class ApplicationPluginsComponent implements OnInit {\n  exportedPlugins$: BehaviorSubject<ApplicationPlugin[]> = new BehaviorSubject([]);\n  remotePlugins$: BehaviorSubject<ApplicationRemotePlugins> = new BehaviorSubject({});\n  allAvailablePlugins$: BehaviorSubject<ApplicationPlugin[]> = new BehaviorSubject([]);\n\n  installedPlugins$: Observable<ApplicationPlugin[]> = combineLatest([\n    this.remotePlugins$.pipe(map((remotes) => this.getRemotePluginsList(remotes))),\n    this.allAvailablePlugins$\n  ]).pipe(\n    map(([remotePlugins, allPlugins]) => allPlugins.filter((p) => remotePlugins.includes(p.id))),\n    shareReplay(1)\n  );\n  app: IApplication;\n  isLoading: boolean;\n  pluginsToDelete: string[] = [];\n  archives: IApplicationBinary[] = [];\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private ecosystemService: EcosystemService,\n    private bsModalService: BsModalService,\n    private modal: ModalService,\n    private translateService: TranslateService,\n    private pluginsService: PluginsService,\n    private alertService: AlertService\n  ) {}\n\n  async ngOnInit() {\n    const { id } = this.activatedRoute.snapshot.parent.data.contextData;\n    this.app = await this.ecosystemService.getApplication(id);\n    this.archives = await this.ecosystemService.listArchives(this.app.id);\n    this.archives.sort((a, b) => {\n      return (new Date(b.created) as any) - (new Date(a.created) as any);\n    });\n    const manifest: Partial<IManifest> = this.app.manifest;\n    if (manifest) {\n      const exports = manifest.exports || [];\n      this.exportedPlugins$.next(this.extendPluginList(exports, this.app.contextPath));\n      const remotes = manifest.remotes || {};\n      this.remotePlugins$.next(remotes);\n    }\n    this.allAvailablePlugins$.next(await this.getAllPlugins());\n  }\n\n  async installPlugins() {\n    const initialState: any = {\n      plugins$: combineLatest([\n        this.allAvailablePlugins$,\n        this.installedPlugins$.pipe(map((plugins) => plugins.map((p) => p.id))),\n        this.exportedPlugins$.pipe(map((plugins) => plugins.map((p) => p.id)))\n      ]).pipe(\n        map(([allPlugins, installedPlugins, exportedPluginNames]) => {\n          const plugins = [];\n          allPlugins\n            .filter((p) => !exportedPluginNames.includes(p.id))\n            .forEach((p) => plugins.push({ ...p, installed: !!installedPlugins.includes(p.id) }));\n          return plugins;\n        }),\n        shareReplay(1)\n      )\n    };\n\n    try {\n      const pluginsToAdd: string[] = (await (\n        this.bsModalService.show(InstallPluginComponent, {\n          class: 'modal-md',\n          initialState,\n          ignoreBackdropClick: true\n        }).content as InstallPluginComponent\n      ).result) as any as string[];\n\n      const currentRemotes = { ...this.remotePlugins$.value };\n      pluginsToAdd.forEach((pluginId) => {\n        const { contextPath, name } = this.parsePluginId(pluginId);\n        (currentRemotes[contextPath] = currentRemotes[contextPath] || []).push(name);\n      });\n      if (this.archives.length === 6) {\n        await this.ecosystemService.removeOldestArchive(this.app, this.archives);\n      }\n      this.updateApplicationRemotes(currentRemotes);\n    } catch (ex) {\n      // intended empty\n    }\n  }\n\n  async removePlugins() {\n    const humanizedAppName = await this.ecosystemService.getHumanizedAppName(this.app);\n    try {\n      await this.modal.confirm(\n        gettext('Remove plugins'),\n        this.translateService.instant(\n          gettext(\n            `You are about to remove plugins from application \"{{ humanizedAppName }}\". The operation may take several minutes. During this time the application may be unavailable. Do you want to proceed?`\n          ),\n          { humanizedAppName }\n        ),\n        Status.DANGER,\n        {\n          ok: gettext('Remove'),\n          cancel: gettext('Cancel')\n        }\n      );\n\n      const remotes = { ...this.remotePlugins$.value };\n      this.pluginsToDelete.forEach((pluginId) => {\n        const { contextPath, name } = this.parsePluginId(pluginId);\n        remotes[contextPath] = remotes[contextPath].filter((p) => p !== name);\n      });\n      this.updateApplicationRemotes(remotes);\n    } catch (ex) {\n      // do nothing\n    }\n  }\n\n  private async getAllPlugins(): Promise<ApplicationPlugin[]> {\n    const plugins = [];\n    const packages = await this.ecosystemService.getPackageApplications();\n    const apps = [...packages, this.app];\n    apps.forEach((app) => {\n      const exports = (app.manifest && app.manifest.exports) || [];\n      plugins.push(...this.extendPluginList(exports, app.contextPath));\n    });\n    return plugins;\n  }\n\n  private async updateApplicationRemotes(remotes: ApplicationRemotePlugins): Promise<void> {\n    this.isLoading = true;\n    try {\n      await this.pluginsService.updateRemotesInCumulocityJson(this.app, remotes);\n      this.remotePlugins$.next(remotes);\n    } catch (ex) {\n      this.alertService.danger(ex);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  private getRemotePluginsList(remotes: ApplicationRemotePlugins): string[] {\n    const importContextPaths = Object.keys(remotes);\n    const plugins = [];\n    importContextPaths.forEach((contextPath) => {\n      const moduleNames = remotes[contextPath];\n      plugins.push(...moduleNames.map((module) => this.createPluginId(contextPath, module)));\n    });\n    return plugins;\n  }\n\n  private extendPluginList(plugins: ApplicationPlugin[], contextPath: string): ApplicationPlugin[] {\n    const extendedPlugins = [];\n    plugins.map((p) => {\n      extendedPlugins.push({\n        ...p,\n        id: this.createPluginId(contextPath, p.name, p.module),\n        contextPath\n      });\n    });\n    return extendedPlugins;\n  }\n\n  private createPluginId(contextPath: string, pluginName: string, pluginModuleName?: string): string {\n    return `${contextPath}/${pluginModuleName || pluginName}`;\n  }\n\n  private parsePluginId(id: string): { contextPath: string; name: string } {\n    const [contextPath, name] = id.split('/');\n    return { contextPath, name };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { ApplicationType } from '@c8y/client';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Injectable()\nexport class ApplicationPluginsGuard implements CanActivate {\n  constructor(private ecosystemService: EcosystemService) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const app = route.data.contextData || route.parent.data.contextData;\n    if (!app) {\n      return false;\n    }\n    return (\n      app.type === ApplicationType.HOSTED &&\n      this.ecosystemService.isOwner(app) &&\n      !this.ecosystemService.isPackage(app)\n    );\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { ApplicationPlugin } from '../../ecosystem.model';\n\n@Component({\n  selector: 'c8y-plugin-list-item',\n  templateUrl: './plugin-list-item.component.html'\n})\nexport class PluginListItemComponent {\n  @Input() plugin: ApplicationPlugin;\n  @Input() selectable: boolean;\n  @Output() isItemSelected: EventEmitter<boolean> = new EventEmitter();\n\n  onChange(event) {\n    this.isItemSelected.next(event);\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ApplicationPlugin } from '../../ecosystem.model';\n\n@Component({\n  selector: 'c8y-plugin-list',\n  templateUrl: './plugin-list.component.html'\n})\nexport class PluginListComponent {\n  @Input() plugins$: BehaviorSubject<ApplicationPlugin[]>;\n  @Input() emptyListText: string = '';\n  @Input() selectable: boolean;\n  @Output() selectedItems: EventEmitter<string[]> = new EventEmitter();\n  selectedPlugins: object = {};\n\n  updateSelectedItems(value: boolean, name: string) {\n    this.selectedPlugins[name] = value;\n    this.selectedItems.emit(\n      Object.keys(this.selectedPlugins).filter((k) => this.selectedPlugins[k])\n    );\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { IApplication, IApplicationBinary } from '@c8y/client';\nimport { AlertService } from '@c8y/ngx-components';\nimport { BehaviorSubject } from 'rxjs';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-activity-log',\n  templateUrl: './activity-log.component.html'\n})\nexport class ActivityLogComponent implements OnInit {\n  @Input() application: IApplication;\n  archives: IApplicationBinary[] = [];\n  toActivateVersionId: string;\n  last: IApplicationBinary;\n  isLoading: boolean;\n  canReactivate: boolean = false;\n\n  constructor(private ecosystemService: EcosystemService, private alertService: AlertService) {}\n\n  get uploadProgress(): BehaviorSubject<number> {\n    return this.ecosystemService.progress;\n  }\n\n  async ngOnInit() {\n    this.canReactivate = this.showReactivate();\n    this.refresh();\n  }\n\n  isActive(archive: IApplicationBinary): boolean {\n    return this.application.activeVersionId === archive.id;\n  }\n\n  toActivate(archive: IApplicationBinary): boolean {\n    return this.toActivateVersionId === archive.id;\n  }\n\n  checkIfLast(archive: IApplicationBinary): boolean {\n    return archive.id === this.last.id;\n  }\n\n  showReactivate(): boolean {\n    return this.ecosystemService.isApplication(this.application);\n  }\n\n  async setActive(archive): Promise<void> {\n    const id = archive.id || archive;\n    this.toActivateVersionId = id;\n    this.isLoading = true;\n    try {\n      this.application = (\n        await this.ecosystemService.setAppActiveVersion(this.application, id)\n      ).data;\n    } catch (ex) {\n      this.alertService.addServerFailure(ex);\n    }\n    this.isLoading = false;\n    this.refresh();\n  }\n\n  async deleteArchive(archive: IApplicationBinary): Promise<void> {\n    await this.ecosystemService.deleteArchive(archive, this.application);\n    this.refresh();\n  }\n\n  async downloadArchive(archive: IApplicationBinary): Promise<void> {\n    await this.ecosystemService.downloadArchive(this.application, archive);\n  }\n\n  async reactivateArchive(): Promise<void> {\n    await this.ecosystemService.reactivateArchive(this.application);\n  }\n\n  async onRefresh() {\n    await this.refresh();\n  }\n\n  private async refresh(): Promise<void> {\n    this.isLoading = true;\n    this.archives = await this.ecosystemService.listArchives(this.application.id);\n    this.archives.sort((a, b) => {\n      return (new Date(b.created) as any) - (new Date(a.created) as any);\n    });\n    this.last = this.archives[this.archives.length - 1];\n    this.isLoading = false;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {\n  ApplicationService,\n  ApplicationType,\n  BillingMode,\n  IApplication,\n  IManagedObject,\n  InventoryService,\n  Isolation\n} from '@c8y/client';\nimport { packageProperties } from '../ecosystem.constants';\nimport { EcosystemService } from '../ecosystem.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AlertService, gettext, PropertiesListItem, ViewContext } from '@c8y/ngx-components';\nimport { ApplicationState } from '../ecosystem.model';\n\nconst MICROSERVICES_BASE_PATH: string = '/microservices';\nconst APPLICATIONS_BASE_PATH: string = '/ecosystem';\n\n@Component({\n  selector: 'c8y-application-properties',\n  templateUrl: './application-properties.component.html'\n})\nexport class ApplicationPropertiesComponent implements OnInit {\n  formGroup: FormGroup;\n  application: IApplication;\n  binaryMo: IManagedObject;\n  singleTenant: boolean = false;\n  subscription: boolean = false;\n  canOpenInBrowser: boolean;\n  disableOpenInBrowser: boolean;\n  canDelete: boolean;\n  isOwner: boolean;\n  isSubscribed: boolean;\n  isPackage: boolean;\n  isMicroservice: boolean;\n  isFeature: boolean;\n  isExternal: boolean;\n  isUnpacked: boolean;\n  iconMap = {\n    HOSTED: 'cloud',\n    EXTERNAL: 'external-link-square',\n    MICROSERVICE: 'microchip'\n  };\n  appState: ApplicationState;\n  package: IApplication;\n  isLoading: boolean = true;\n  isActivityLogSupported: boolean;\n  isCustomMicroservice: boolean;\n\n  breadcrumbConfig: { icon: string; label: string; path: string };\n  packageProperties: PropertiesListItem[] = [...packageProperties];\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private ecosystemService: EcosystemService,\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private applicationService: ApplicationService,\n    private alertService: AlertService,\n    private inventoryService: InventoryService\n  ) {}\n\n  async ngOnInit() {\n    await this.load();\n    this.isUnpacked = this.ecosystemService.isUnpacked(this.application);\n    this.isPackage = this.ecosystemService.isPackage(this.application);\n    this.isFeature = this.ecosystemService.isFeature(this.application);\n    this.isExternal = this.ecosystemService.isExternal(this.application);\n    this.isMicroservice = this.ecosystemService.isMicroservice(this.application);\n    this.appState = this.ecosystemService.getAppState(this.application);\n\n    if (this.isUnpacked) {\n      await this.resolveSourcePackage();\n    }\n\n    this.setBreadcrumbConifg();\n\n    if (this.isCustomMicroservice) {\n      this.loadBinaryMo();\n    }\n  }\n\n  async load() {\n    this.isLoading = true;\n    this.initForm();\n    await this.loadApplication();\n    this.isLoading = false;\n  }\n\n  onApplication(app: IApplication) {\n    if (app.manifest) {\n      this.singleTenant = app.manifest.isolation === Isolation.PER_TENANT;\n      this.subscription = app.manifest.billingMode === BillingMode.SUBSCRIPTION;\n    }\n  }\n\n  cancel() {\n    if (this.application.type === ApplicationType.MICROSERVICE) {\n      this.router.navigateByUrl(MICROSERVICES_BASE_PATH);\n    } else {\n      this.router.navigateByUrl(APPLICATIONS_BASE_PATH);\n    }\n  }\n\n  openApp(app) {\n    window.open(this.applicationService.getHref(app));\n  }\n\n  getPackage(entityOrId: string | number | IApplication) {\n    return this.applicationService.detail(entityOrId);\n  }\n\n  async delete() {\n    try {\n      await this.ecosystemService.deleteApp(this.application);\n      if (this.application.type === ApplicationType.MICROSERVICE) {\n        this.router.navigateByUrl(MICROSERVICES_BASE_PATH);\n      } else {\n        this.router.navigateByUrl(APPLICATIONS_BASE_PATH);\n      }\n    } catch (ex) {\n      if (ex) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n  }\n\n  async subscribe() {\n    await this.ecosystemService.subscribeApp(this.application);\n    this.loadApplication();\n  }\n\n  async unsubscribe() {\n    await this.ecosystemService.unsubscribeApp(this.application);\n    this.loadApplication();\n  }\n\n  async loadApplication() {\n    const { id } = this.activatedRoute.snapshot.parent.data.contextData;\n    this.application = await this.ecosystemService.getApplication(id);\n    if (this.application.type === ApplicationType.MICROSERVICE) {\n      this.formGroup.get('name').disable();\n    }\n    this.formGroup.patchValue({ ...this.application });\n    this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.application);\n    this.disableOpenInBrowser =\n      this.canOpenInBrowser &&\n      (await this.ecosystemService.isOverwrittenByCustomApp(this.application));\n    this.canDelete = this.ecosystemService.canDeleteApp(this.application);\n    this.isOwner = this.ecosystemService.isOwner(this.application);\n    this.isActivityLogSupported = this.isActivityLogSupportedByApp(this.application);\n    this.isCustomMicroservice = this.ecosystemService.isCustomMicroservice(this.application);\n    this.isSubscribed = await this.ecosystemService.checkIfSubscribed(this.application);\n    this.onApplication(this.application);\n  }\n\n  async save(app: IApplication) {\n    app.id = this.application.id;\n    try {\n      await this.ecosystemService.updateApp(app);\n      this.alertService.success(gettext('Application saved.'));\n      this.formGroup.reset();\n      this.loadApplication();\n    } catch (ex) {\n      // do nothing\n    }\n  }\n\n  onNewArchive() {\n    this.loadBinaryMo();\n  }\n\n  private async resolveSourcePackage() {\n    this.package = (await this.getPackage(this.application.manifest.source)).data;\n    if (this.package) {\n      this.packageProperties.push({\n        label: gettext('Source package'),\n        value: this.package.name,\n        type: 'link',\n        action: () =>\n          this.router.navigateByUrl(\n            ViewContext.Application.replace(':id', this.package.id.toString())\n          )\n      });\n    }\n  }\n\n  private initForm(): void {\n    this.formGroup = this.formBuilder.group({\n      id: [{ value: '' }],\n      name: [Validators.required, Validators.maxLength(120)],\n      key: [Validators.required, Validators.maxLength(120)],\n      contextPath: [Validators.required, Validators.maxLength(120)],\n      description: ['', Validators.maxLength(200)],\n      resourcesUrl: [Validators.required],\n      username: [Validators.required],\n      password: [Validators.required],\n      externalUrl: [Validators.required]\n    });\n  }\n\n  private isActivityLogSupportedByApp(app: IApplication): boolean {\n    return (\n      this.ecosystemService.isOwner(app) &&\n      app.type !== ApplicationType.MICROSERVICE &&\n      app.type !== ApplicationType.EXTERNAL\n    );\n  }\n\n  private setBreadcrumbConifg() {\n    this.breadcrumbConfig = {\n      icon: this.isMicroservice ? 'microchip' : this.isFeature ? 'tab' : 'c8y-modules',\n      label: this.isMicroservice\n        ? gettext('Microservices')\n        : this.isFeature\n        ? gettext('Features')\n        : gettext('All applications'),\n      path: this.isMicroservice\n        ? 'microservices'\n        : this.isFeature\n        ? 'ecosystem/features'\n        : 'ecosystem/applications'\n    };\n  }\n\n  private async loadBinaryMo() {\n    this.binaryMo = (await this.inventoryService.detail(this.application.activeVersionId)).data;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { gettext, NavigatorNode, NavigatorNodeFactory, Permissions } from '@c8y/ngx-components';\n\n@Injectable()\nexport class EcosystemNavigationFactory implements NavigatorNodeFactory {\n  private navs: NavigatorNode[] = [];\n  private showNavigatorNodes: boolean;\n\n  constructor(private permissions: Permissions) {\n    this.showNavigatorNodes = this.permissions.hasAnyRole([\n      'ROLE_APPLICATION_MANAGEMENT_READ',\n      'ROLE_APPLICATION_MANAGEMENT_ADMIN'\n    ]);\n  }\n\n  async get() {\n/*\nThe NavigatorNodes are added in AngularJS code to keep the Quick links widget working.\nAfter the Quick links widget is migrated to Angular, the logic of adding the NavigatorNodes can be migrated as well.\n    if (this.navs.length === 0 && this.showNavigatorNodes) {\n      const applicationsNode: NavigatorNode = new NavigatorNode({\n        label: gettext('Applications'),\n        icon: 'c8y-modules',\n        path: '/ecosystem',\n        priority: 300,\n        routerLinkExact: false\n      });\n\n      const microservicesNode = new NavigatorNode({\n        label: gettext('Microservices'),\n        icon: 'microchip',\n        path: '/microservices',\n        priority: 200,\n        routerLinkExact: false\n      });\n\n      this.navs.push(\n        new NavigatorNode({\n          label: gettext('Ecosystem'),\n          icon: 'c8y-atom',\n          priority: 3200,\n          children: [applicationsNode, microservicesNode]\n        })\n      );\n    }\n*/\n    return this.navs;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, RouterStateSnapshot } from '@angular/router';\nimport { OptionsService } from '@c8y/ngx-components';\n\n@Injectable()\nexport class EcosystemGuard implements CanActivate {\n  constructor(private optionsService: OptionsService) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    return this.isFeatureEnabled();\n  }\n\n  isFeatureEnabled() {\n    return Boolean(this.optionsService.get('beta', false));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { gettext, Tab, TabFactory } from '@c8y/ngx-components';\nimport { Router } from '@angular/router';\nimport { EcosystemGuard } from './ecosystem.guard';\n\n@Injectable()\nexport class EcosystemTabs implements TabFactory {\n  constructor(public router: Router, private ecosystemGuard: EcosystemGuard) {}\n\n  get(): Tab[] {\n    const tabs: Tab[] = [];\n    if (\n      this.router.url === '/ecosystem/applications' ||\n      this.router.url === '/ecosystem/package-list' ||\n      this.router.url === '/ecosystem/features'\n    ) {\n      tabs.push({\n        icon: 'c8y-modules',\n        priority: 1000,\n        label: gettext('All applications'),\n        path: 'ecosystem/applications'\n      } as Tab);\n\n      if (this.ecosystemGuard.isFeatureEnabled()) {\n        tabs.push({\n          icon: 'big-parcel',\n          priority: 999,\n          label: gettext('Packages'),\n          path: 'ecosystem/package-list'\n        } as Tab);\n      }\n\n      tabs.push({\n        icon: 'tab',\n        priority: 998,\n        label: gettext('Features'),\n        path: '/ecosystem/features'\n      } as Tab);\n    }\n    return tabs;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { IApplication, IResultList } from '@c8y/client';\nimport { WizardService } from '@c8y/ngx-components';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-microservice-list',\n  templateUrl: './microservice-list.component.html'\n})\nexport class MicroserviceListComponent implements OnInit {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n  microservices$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getMicroservices()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n  isMicroserviceHostingAllowed$: Observable<boolean> = this.reload$.pipe(\n    switchMap(() => this.ecosystemService.isMicroserviceHostingAllowed()),\n    shareReplay()\n  );\n  listClass: string;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private wizardService: WizardService\n  ) {}\n\n  ngOnInit() {\n    this.loadMicroservices();\n  }\n\n  loadMicroservices() {\n    this.reload$.next();\n  }\n\n  addMicroservice() {\n    const initialState: any = {\n      id: 'uploadMicroservice'\n    };\n    const modalOptions: ModalOptions = { initialState };\n\n    const modalRef = this.wizardService.show(modalOptions);\n    modalRef.content.onClose.subscribe(() => {\n      this.loadMicroservices();\n    });\n  }\n}\n","import { Component } from '@angular/core';\nimport { IApplication } from '@c8y/client';\nimport { WizardService } from '@c8y/ngx-components';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-packages-list',\n  templateUrl: './packages-list.component.html'\n})\nexport class PackagesListComponent {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n\n  packages$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getPackageApplications()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n  listClass: string;\n\n  constructor(private ecosystemService: EcosystemService, private wizardService: WizardService) {}\n\n  ngOnInit() {\n    this.loadPackages();\n  }\n\n  loadPackages() {\n    this.reload$.next();\n  }\n\n  addPackage() {\n    const initialState: any = {\n      id: 'uploadPackage'\n    };\n    const modalOptions: ModalOptions = { initialState };\n\n    const modalRef = this.wizardService.show(modalOptions);\n    modalRef.content.onClose.subscribe(() => {\n      this.loadPackages();\n    });\n  }\n}\n","import { Component } from '@angular/core';\nimport { ApplicationType, IApplication } from '@c8y/client';\nimport { EcosystemService } from '../ecosystem.service';\nimport { gettext } from '@c8y/ngx-components';\n\n@Component({\n  selector: 'c8y-add-package',\n  template: `<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'big-parcel'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createPackageAppHandler\"\n    [uploadApplicationHandler]=\"uploadPackageHandler\"\n  ></c8y-add-application>`\n})\nexport class AddPackageComponent {\n  headerText: string = gettext('Add package');\n  successText: string = gettext('Package created');\n\n  constructor(private ecosystemService: EcosystemService) {}\n\n  createPackageAppHandler = (f: File) => this.createPackageApp(f);\n  uploadPackageHandler = (f: File, app: IApplication) => this.uploadPackage(f, app);\n\n  async createPackageApp(file: File): Promise<IApplication> {\n    await this.ecosystemService.isValidAppType(file, ApplicationType.HOSTED);\n    return this.ecosystemService.createAppForArchive(file, true);\n  }\n\n  uploadPackage(file: File, pckg: IApplication): Promise<IApplication> {\n    return this.ecosystemService.uploadArchiveToApp(file, pckg);\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FetchClient, IApplication, IFetchOptions, IFetchResponse } from '@c8y/client';\nimport { PropertiesListItem, WizardService } from '@c8y/ngx-components';\nimport { lexer as markedLexer, parser as markedParser } from 'marked';\nimport { ModalOptions } from 'ngx-bootstrap/modal';\nimport { packageProperties } from '../../ecosystem.constants';\nimport { ApplicationState } from '../../ecosystem.model';\nimport { EcosystemService } from '../../ecosystem.service';\n\n@Component({\n  selector: 'c8y-package-details',\n  templateUrl: './package-details.component.html'\n})\nexport class PackageDetailsComponent implements OnInit {\n  readme: string;\n  package: IApplication = {};\n  name: string;\n  description: string;\n  appState: ApplicationState;\n  isApplicationPackage: boolean;\n\n  readonly packageProperties: PropertiesListItem[] = packageProperties;\n  private readonly headers: any = { 'Content-Type': 'text/markdown', responseType: 'blob' };\n  private NOT_FOUND_ERROR_CODE = 404;\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private client: FetchClient,\n    private wizard: WizardService,\n    private ecosystemService: EcosystemService\n  ) {}\n\n  async ngOnInit() {\n    this.package = this.getPackage();\n    this.name = this.package?.name;\n    this.description = this.package?.manifest?.description;\n    this.readme = await this.getReadmeFileContentAsHtml();\n    this.appState = this.ecosystemService.getAppState(this.package);\n    this.isApplicationPackage = this.ecosystemService.isApplicationPackage(this.package);\n  }\n\n  deploy() {\n    const initialState: any = {\n      wizardConfig: {},\n      id: 'deployPackage',\n      package: this.package\n    };\n    const modalOptions: ModalOptions = { initialState };\n    this.wizard.show(modalOptions);\n  }\n\n  private getPackage() {\n    return this.activatedRoute?.snapshot?.parent?.data?.contextData;\n  }\n\n  private async getReadmeFileContentAsHtml(): Promise<string> {\n    const readmeFile = await this.getReadmeFile();\n\n    const readmeContent = await readmeFile.text();\n    if (readmeFile.status === 200) {\n      const tokens = markedLexer(readmeContent);\n      const html = markedParser(tokens);\n      return html;\n    }\n  }\n\n  private async getReadmeFile(): Promise<IFetchResponse> {\n    let result: IFetchResponse;\n    const options: IFetchOptions = {\n      method: 'GET',\n      headers: this.headers\n    };\n\n    result = await this.client.fetch(`/apps/${this.package.contextPath}/readme.md`, options);\n\n    if (result && result.status === this.NOT_FOUND_ERROR_CODE) {\n      result = await this.client.fetch(`/apps/${this.package.contextPath}/README.md`, options);\n    }\n    return result;\n  }\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { gettext, WizardComponent } from '@c8y/ngx-components';\nimport { TranslateService } from '@ngx-translate/core';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { ApplicationPropertiesFormComponent } from '../../shared/application-properties-form.component';\n\n@Component({\n  selector: 'c8y-deploy-application',\n  templateUrl: './deploy-application.component.html'\n})\nexport class DeployApplicationComponent implements OnInit {\n  inProgress: boolean = true;\n  package: IApplication;\n  isDeployed: boolean = false;\n  deployedWithSuccess: boolean = false;\n  newAppConfig: IApplication;\n\n  @ViewChild(ApplicationPropertiesFormComponent)\n  applicationPropertiesForm: ApplicationPropertiesFormComponent;\n\n  readonly descriptionTemplate: string = gettext(\n    'Deploy application using \"{{ packageName }}\" package'\n  );\n  headerText: string;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent,\n    private translate: TranslateService\n  ) {}\n\n  async ngOnInit() {\n    this.package = (this.wizardComponent as any).package;\n    const apps = (await this.ecosystemService.getApplications()).data;\n    this.newAppConfig = this.ecosystemService.getUniqueAppConfig(this.package, apps);\n    this.headerText = this.getHeaderText();\n    this.inProgress = false;\n  }\n\n  async deployApp() {\n    const formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();\n\n    this.inProgress = true;\n\n    const { data: clonedPkg } = await this.applicationService.clone(this.package);\n    const config = this.ecosystemService.createConfig(clonedPkg, formGroupValue);\n\n    try {\n      const { data: updatedApp } = await this.ecosystemService.updateApp(config, true);\n\n      if (updatedApp) {\n        await this.ecosystemService.updateAppManifest(updatedApp, this.package);\n      }\n      this.deployedWithSuccess = true;\n    } catch (error) {\n      this.markAsDeployed();\n      await this.applicationService.delete(clonedPkg.id);\n    }\n    this.markAsDeployed();\n  }\n\n  cancel() {\n    this.wizardComponent.close();\n  }\n\n  private markAsDeployed() {\n    this.isDeployed = true;\n    this.inProgress = false;\n  }\n\n  private getHeaderText() {\n    return this.translate.instant(this.descriptionTemplate, {\n      packageName: this.package.name\n    });\n  }\n}\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { AlertService, DropAreaComponent, WizardComponent } from '@c8y/ngx-components';\nimport { BehaviorSubject } from 'rxjs';\nimport { ERROR_MESSAGES } from './../ecosystem.constants';\nimport { EcosystemService } from './../ecosystem.service';\n\n@Component({\n  selector: 'c8y-add-application',\n  templateUrl: './add-application.component.html'\n})\nexport class AddApplicationComponent {\n  @Input() headerText: string;\n  @Input() headerIcon: string;\n  @Input() successText: string;\n  @Input() createApplicationHandler: any;\n  @Input() uploadApplicationHandler: any;\n  @Input() canGoBack: boolean = false;\n\n  @ViewChild(DropAreaComponent) dropAreaComponent;\n\n  isLoading: boolean;\n  isAppCreated: boolean;\n  createdApp: IApplication;\n  canOpenInBrowser: boolean = false;\n  errorMessage: string;\n  private uploadCanceled: boolean = false;\n\n  constructor(\n    private ecosystemService: EcosystemService,\n    private alertService: AlertService,\n    private applicationService: ApplicationService,\n    private wizardComponent: WizardComponent\n  ) {}\n\n  get progress(): BehaviorSubject<number> {\n    return this.ecosystemService.progress;\n  }\n\n  onFileDroppedEvent(event) {\n    if (event && event.length > 0) {\n      const file = event[0].file;\n      this.onFile(file);\n    }\n  }\n\n  async onFile(file: File) {\n    this.isLoading = true;\n    this.errorMessage = null;\n    this.progress.next(0);\n\n    try {\n      this.createdApp = await this.createApplicationHandler(file);\n      await this.uploadApplicationHandler(file, this.createdApp);\n      this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.createdApp);\n      this.isAppCreated = true;\n    } catch (ex) {\n      this.ecosystemService.cancelAppCreation(this.createdApp);\n      this.createdApp = null;\n      this.dropAreaComponent.onDelete();\n      this.errorMessage = ERROR_MESSAGES[ex.message];\n      if (!this.errorMessage && !this.uploadCanceled) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n    this.progress.next(100);\n    this.isLoading = false;\n  }\n\n  getHref(app: IApplication): string {\n    return this.applicationService.getHref(app);\n  }\n\n  cancel() {\n    this.cancelFileUpload();\n    this.wizardComponent.close();\n  }\n\n  done() {\n    this.wizardComponent.close();\n  }\n\n  back() {\n    this.wizardComponent.reset();\n  }\n\n  private cancelFileUpload() {\n    this.uploadCanceled = true;\n    this.ecosystemService.cancelAppCreation(this.createdApp);\n    this.createdApp = null;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Injectable()\nexport class PackageGuard implements CanActivate {\n  constructor(private ecosystemService: EcosystemService) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const app = route.data.contextData || route.parent.data.contextData;\n    if (!app) {\n      return false;\n    }\n    return this.ecosystemService.isPackage(app);\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApplicationService, IApplication } from '@c8y/client';\nimport { AlertService, gettext } from '@c8y/ngx-components';\nimport { ApplicationState } from './../ecosystem.model';\nimport { EcosystemService } from './../ecosystem.service';\n\n@Component({\n  selector: 'c8y-application-card',\n  templateUrl: './application-card.component.html'\n})\nexport class ApplicationCardComponent implements OnInit {\n  @Input() app: IApplication;\n  @Input() canEdit: boolean = true;\n  @Output() onAppDeleted: EventEmitter<void> = new EventEmitter();\n  appState: ApplicationState;\n  canOpenInBrowser: boolean;\n  disableOpenInBrowser: boolean;\n  canDelete: boolean;\n  isPackage: boolean;\n  isFeature: boolean;\n  isExternal: boolean;\n  isMicroservice: boolean;\n  get openButtonTitle() {\n    return !this.disableOpenInBrowser ?\n      gettext('Open') :\n      gettext('This application is overridden.');\n  }\n\n  constructor(\n    private applicationService: ApplicationService,\n    private ecosystemService: EcosystemService,\n    private alertService: AlertService,\n    private router: Router\n  ) {}\n\n  async ngOnInit() {\n    this.appState = this.ecosystemService.getAppState(this.app);\n    const contextPath = this.app.contextPath;\n    this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.app);\n    this.disableOpenInBrowser =\n      this.canOpenInBrowser && (await this.ecosystemService.isOverwrittenByCustomApp(this.app));\n    this.canDelete = this.ecosystemService.canDeleteApp(this.app);\n    this.isPackage = this.ecosystemService.isPackage(this.app);\n    this.isFeature = this.ecosystemService.isFeature(this.app);\n    this.isMicroservice = this.ecosystemService.isMicroservice(this.app);\n    this.isExternal = this.ecosystemService.isExternal(this.app);\n  }\n\n  detail() {\n    this.isMicroservice\n      ? this.router.navigateByUrl(`/microservices/${this.app.id}`)\n      : this.router.navigateByUrl(`/ecosystem/application/${this.app.id}`);\n  }\n\n  openApp() {\n    window.open(this.applicationService.getHref(this.app));\n  }\n\n  async delete() {\n    try {\n      await this.ecosystemService.deleteApp(this.app);\n      this.onAppDeleted.emit();\n    } catch (ex) {\n      if (ex) {\n        this.alertService.addServerFailure(ex);\n      }\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate } from '@angular/router';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Injectable()\nexport class ApplicationPropertiesGuard implements CanActivate {\n  constructor(private ecosystemService: EcosystemService) {}\n\n  canActivate(route: ActivatedRouteSnapshot) {\n    const app = route.data.contextData || route.parent.data.contextData;\n    if (!app) {\n      return false;\n    }\n    return !this.ecosystemService.isPackage(app);\n  }\n}\n","import { Component } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { IApplication } from '@c8y/client';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-feature-list',\n  templateUrl: './feature-list.component.html'\n})\nexport class FeatureListComponent {\n  reloading: boolean = false;\n  reload$: BehaviorSubject<void> = new BehaviorSubject(null);\n\n  features$: Observable<IApplication> = this.reload$.pipe(\n    tap(() => (this.reloading = true)),\n    switchMap(() => this.ecosystemService.getFeatureApplications()),\n    tap(() => (this.reloading = false)),\n    shareReplay()\n  );\n  listClass: string;\n\n  constructor(private ecosystemService: EcosystemService) {}\n\n  ngOnInit() {\n    this.loadFeatures();\n  }\n\n  loadFeatures() {\n    this.reload$.next();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { EcosystemService } from '../../ecosystem.service';\nimport { IApplication } from '@c8y/client';\n\n@Component({\n  selector: 'c8y-package-archives',\n  templateUrl: './package-archives.component.html'\n})\nexport class PackageArchivesComponent implements OnInit {\n  application: IApplication;\n  isLoading: boolean = false;\n\n  constructor(private activatedRoute: ActivatedRoute, private ecosystemService: EcosystemService) {}\n\n  async ngOnInit(): Promise<void> {\n    await this.loadApplication();\n  }\n\n  async loadApplication(): Promise<void> {\n    const { id } = this.activatedRoute.snapshot.parent.data.contextData;\n    this.isLoading = true;\n    this.application = await this.ecosystemService.getApplication(id);\n    this.isLoading = false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { EcosystemGuard } from './ecosystem.guard';\nimport { InstallFromPackageComponent } from './applications/install-from-package/install-from-package.component';\n\n@Injectable()\nexport class EcosystemWizardFactory {\n  constructor(private ecosystemGuard: EcosystemGuard) {}\n\n  async get() {\n    if (!this.ecosystemGuard.isFeatureEnabled()) {\n      return;\n    } else {\n      return {\n        wizardId: 'uploadApplication',\n        component: InstallFromPackageComponent,\n        name: 'Install from available packages',\n        c8yIcon: 'big-parcel'\n      };\n    }\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { IApplication, IApplicationBinary } from '@c8y/client';\nimport { AlertService, gettext } from '@c8y/ngx-components';\nimport { BehaviorSubject } from 'rxjs';\nimport { EcosystemService } from '../ecosystem.service';\n\n@Component({\n  selector: 'c8y-upload-archive',\n  templateUrl: 'upload-archive.component.html'\n})\nexport class UploadArchiveComponent {\n  @Input() application: IApplication;\n  @Output() applicationChange: EventEmitter<IApplication> = new EventEmitter<IApplication>();\n  @Output() refresh: EventEmitter<any> = new EventEmitter();\n\n  archives: IApplicationBinary[] = [];\n  toActivateVersionId: string;\n  last: IApplicationBinary;\n  isLoading: boolean;\n  fileList: FileList;\n  uploadInProgress: boolean = false;\n  canReactivate: boolean = false;\n\n  constructor(private ecosystemService: EcosystemService, private alertService: AlertService) {}\n\n  get uploadProgress(): BehaviorSubject<number> {\n    return this.ecosystemService.progress;\n  }\n\n  onFileDroppedEvent(event): void {\n    if (event && event.length > 0) {\n      const file = event[0].file;\n      this.onFile(file);\n    }\n  }\n\n  private async onFile(file: File): Promise<void> {\n    try {\n      await this.ecosystemService.isValidAppType(file, this.application.type);\n      const isCustomMicroservice = this.ecosystemService.isCustomMicroservice(this.application);\n      this.archives = isCustomMicroservice\n        ? []\n        : await this.ecosystemService.listArchives(this.application.id);\n      this.archives.sort((a, b) => {\n        return (new Date(b.created) as any) - (new Date(a.created) as any);\n      });\n      this.uploadInProgress = true;\n      this.uploadProgress.next(0);\n      if (this.archives.length === 6 && !isCustomMicroservice) {\n        await this.ecosystemService.removeOldestArchive(this.application, this.archives);\n      }\n      const app = await this.ecosystemService.uploadArchiveToApp(file, this.application);\n      this.applicationChange.emit(app);\n      this.uploadProgress.next(100);\n      this.uploadInProgress = false;\n      this.refresh.emit();\n      this.alertService.success(gettext('Archive uploaded and activated.'));\n    } catch (ex) {\n      this.uploadInProgress = false;\n      this.alertService.addServerFailure(ex);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport {\n  CoreModule,\n  FormsModule,\n  gettext,\n  HOOK_NAVIGATOR_NODES,\n  HOOK_ROUTE,\n  HOOK_TABS,\n  HOOK_WIZARD,\n  Route,\n  ViewContext\n} from '@c8y/ngx-components';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { PopoverModule } from 'ngx-bootstrap/popover';\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\nimport { AddWebApplicationComponent } from './applications/add-web-application/add-web-application.component';\nimport { InstallFromPackageComponent } from './applications/install-from-package/install-from-package.component';\nimport { DuplicateApplicationListComponent } from './applications/duplicate-application/duplicate-application-list/duplicate-application-list.component';\nimport { DuplicateApplicationPropertiesComponent } from './applications/duplicate-application/duplicate-application-properties/duplicate-application-properties.component';\nimport { DuplicateApplicationComponent } from './applications/duplicate-application/duplicate-application.component';\nimport { AddExternalApplicationComponent } from './applications/add-external-applicaiton/add-external-application.component';\nimport { AddMicroserviceComponent } from './microservices/add-microservice.component';\nimport { ApplicationListComponent } from './applications/application-list/application-list.component';\nimport { ApplicationPluginsComponent } from './applications/application-plugins/application-plugins.component';\nimport { ApplicationPluginsGuard } from './applications/application-plugins/application-plugins.guard';\nimport { InstallPluginComponent } from './applications/application-plugins/install-plugin.component';\nimport { PluginListItemComponent } from './applications/application-plugins/plugin-list-item.component';\nimport { PluginListComponent } from './applications/application-plugins/plugin-list.component';\nimport { ActivityLogComponent } from './activity-log/activity-log.component';\nimport { ApplicationPropertiesComponent } from './application-properties/application-properties.component';\nimport { EcosystemNavigationFactory } from './ecosystem-navigation.factory';\nimport { EcosystemTabs } from './ecosystem-tabs.factory';\nimport { EcosystemGuard } from './ecosystem.guard';\nimport { EcosystemService } from './ecosystem.service';\nimport { MicroserviceListComponent } from './microservices/microservice-list.component';\nimport { PackagesListComponent } from './packages/package-list/packages-list.component';\nimport { AddPackageComponent } from './packages/add-package.component';\nimport { PackageDetailsComponent } from './packages/package-details/package-details.component';\nimport { DeployApplicationComponent } from './packages/deploy-application/deploy-application.component';\nimport { AddApplicationComponent } from './shared/add-application.component';\nimport { PackageGuard } from './packages/package.guard';\nimport { ApplicationCardComponent } from './shared/application-card.component';\nimport { ApplicationPropertiesFormComponent } from './shared/application-properties-form.component';\nimport { ApplicationPropertiesGuard } from './application-properties/application-properties.guard';\nimport { FeatureListComponent } from './features/feature-list.component';\nimport { PackageArchivesComponent } from './packages/package-archives/package-archives.component';\nimport { EcosystemWizardFactory } from './ecosystem-wizard.factory';\nimport { UploadArchiveComponent } from './shared/upload-archive.component';\n\nconst ecosystemMainRoutes: Route[] = [\n  {\n    path: 'ecosystem/applications',\n    component: ApplicationListComponent\n  },\n  {\n    path: 'ecosystem/package-list',\n    component: PackagesListComponent,\n    canActivate: [EcosystemGuard]\n  },\n  {\n    path: 'ecosystem/features',\n    component: FeatureListComponent\n  },\n  {\n    path: 'ecosystem',\n    redirectTo: 'ecosystem/applications'\n  },\n  {\n    path: 'microservices',\n    component: MicroserviceListComponent\n  }\n];\n\nconst applicationDetailsRoutes: Route[] = [\n  {\n    path: 'properties',\n    component: ApplicationPropertiesComponent,\n    icon: 'list',\n    label: gettext('Properties'),\n    context: ViewContext.Application,\n    priority: 5,\n    canActivate: [ApplicationPropertiesGuard]\n  },\n  {\n    path: 'plugins',\n    component: ApplicationPluginsComponent,\n    icon: 'plugin',\n    label: gettext('Plugins'),\n    context: ViewContext.Application,\n    priority: 3,\n    canActivate: [ApplicationPluginsGuard, EcosystemGuard]\n  },\n  {\n    path: 'package-details',\n    component: PackageDetailsComponent,\n    icon: 'big-parcel',\n    label: gettext('Info'),\n    context: ViewContext.Application,\n    priority: 10,\n    canActivate: [PackageGuard, EcosystemGuard]\n  },\n  {\n    path: 'package-archives',\n    component: PackageArchivesComponent,\n    icon: 'c8y-archive',\n    label: gettext('Archives'),\n    context: ViewContext.Application,\n    priority: 5,\n    canActivate: [PackageGuard, EcosystemGuard]\n  },\n  {\n    path: 'properties',\n    component: ApplicationPropertiesComponent,\n    icon: 'list',\n    label: gettext('Properties'),\n    context: ViewContext.Microservice,\n    priority: 5,\n    canActivate: [ApplicationPropertiesGuard]\n  }\n];\n\n@NgModule({\n  declarations: [\n    ApplicationListComponent,\n    MicroserviceListComponent,\n    ApplicationCardComponent,\n    ApplicationPropertiesComponent,\n    AddMicroserviceComponent,\n    ActivityLogComponent,\n    ApplicationPluginsComponent,\n    PluginListItemComponent,\n    InstallPluginComponent,\n    PluginListComponent,\n    AddWebApplicationComponent,\n    AddExternalApplicationComponent,\n    DuplicateApplicationComponent,\n    DuplicateApplicationListComponent,\n    DuplicateApplicationPropertiesComponent,\n    ApplicationPropertiesComponent,\n    InstallFromPackageComponent,\n    AddMicroserviceComponent,\n    ApplicationPropertiesComponent,\n    PackagesListComponent,\n    PackageDetailsComponent,\n    DeployApplicationComponent,\n    AddPackageComponent,\n    AddApplicationComponent,\n    ApplicationPropertiesFormComponent,\n    FeatureListComponent,\n    PackageArchivesComponent,\n    UploadArchiveComponent\n  ],\n  entryComponents: [\n    AddMicroserviceComponent,\n    AddWebApplicationComponent,\n    AddExternalApplicationComponent,\n    DuplicateApplicationComponent,\n    DuplicateApplicationListComponent,\n    DuplicateApplicationPropertiesComponent,\n    ApplicationPropertiesComponent,\n    ActivityLogComponent,\n    ApplicationPluginsComponent,\n    InstallPluginComponent,\n    PackagesListComponent,\n    InstallFromPackageComponent,\n    PackageDetailsComponent,\n    DeployApplicationComponent,\n    AddPackageComponent,\n    FeatureListComponent,\n    PackageArchivesComponent\n  ],\n  imports: [\n    CoreModule,\n    BsDropdownModule,\n    TooltipModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(ecosystemMainRoutes),\n    PopoverModule\n  ],\n  exports: [ApplicationPropertiesComponent],\n  providers: [\n    {\n      provide: HOOK_TABS,\n      useClass: EcosystemTabs,\n      multi: true\n    },\n    {\n      provide: HOOK_NAVIGATOR_NODES,\n      useClass: EcosystemNavigationFactory,\n      multi: true\n    },\n    {\n      provide: HOOK_ROUTE,\n      useValue: applicationDetailsRoutes,\n      multi: true\n    },\n    EcosystemGuard,\n    EcosystemService,\n    ApplicationPluginsGuard,\n    PackageGuard,\n    ApplicationPropertiesGuard,\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadApplication',\n        component: AddWebApplicationComponent,\n        name: 'Upload web application',\n        c8yIcon: 'upload'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadPackage',\n        component: AddPackageComponent\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadApplication',\n        component: AddExternalApplicationComponent,\n        name: 'External application',\n        c8yIcon: 'cloud-link'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'deployPackage',\n        component: DeployApplicationComponent,\n        name: 'Deploy package',\n        c8yIcon: 'big-parcel'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useClass: EcosystemWizardFactory,\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadApplication',\n        component: DuplicateApplicationComponent,\n        name: 'Duplicate existing application',\n        c8yIcon: 'copy'\n      },\n      multi: true\n    },\n    {\n      provide: HOOK_WIZARD,\n      useValue: {\n        wizardId: 'uploadMicroservice',\n        component: AddMicroserviceComponent\n      },\n      multi: true\n    }\n  ]\n})\nexport class EcosystemModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {ActivityLogComponent as g} from './activity-log/activity-log.component';\nexport {ApplicationPropertiesComponent as e} from './application-properties/application-properties.component';\nexport {ApplicationPropertiesGuard as bd} from './application-properties/application-properties.guard';\nexport {AddExternalApplicationComponent as m} from './applications/add-external-applicaiton/add-external-application.component';\nexport {AddWebApplicationComponent as l} from './applications/add-web-application/add-web-application.component';\nexport {ApplicationListComponent as a} from './applications/application-list/application-list.component';\nexport {ApplicationPluginsComponent as h} from './applications/application-plugins/application-plugins.component';\nexport {ApplicationPluginsGuard as be} from './applications/application-plugins/application-plugins.guard';\nexport {InstallPluginComponent as j} from './applications/application-plugins/install-plugin.component';\nexport {PluginListItemComponent as i} from './applications/application-plugins/plugin-list-item.component';\nexport {PluginListComponent as k} from './applications/application-plugins/plugin-list.component';\nexport {DuplicateApplicationListComponent as o} from './applications/duplicate-application/duplicate-application-list/duplicate-application-list.component';\nexport {DuplicateApplicationPropertiesComponent as p} from './applications/duplicate-application/duplicate-application-properties/duplicate-application-properties.component';\nexport {DuplicateApplicationComponent as n} from './applications/duplicate-application/duplicate-application.component';\nexport {InstallFromPackageComponent as r} from './applications/install-from-package/install-from-package.component';\nexport {EcosystemNavigationFactory as bc} from './ecosystem-navigation.factory';\nexport {EcosystemTabs as bb} from './ecosystem-tabs.factory';\nexport {EcosystemWizardFactory as bg} from './ecosystem-wizard.factory';\nexport {EcosystemGuard as ba} from './ecosystem.guard';\nexport {EcosystemService as b} from './ecosystem.service';\nexport {FeatureListComponent as x} from './features/feature-list.component';\nexport {AddMicroserviceComponent as f} from './microservices/add-microservice.component';\nexport {MicroserviceListComponent as c} from './microservices/microservice-list.component';\nexport {AddPackageComponent as v} from './packages/add-package.component';\nexport {DeployApplicationComponent as u} from './packages/deploy-application/deploy-application.component';\nexport {PackageArchivesComponent as y} from './packages/package-archives/package-archives.component';\nexport {PackageDetailsComponent as t} from './packages/package-details/package-details.component';\nexport {PackagesListComponent as s} from './packages/package-list/packages-list.component';\nexport {PackageGuard as bf} from './packages/package.guard';\nexport {AddApplicationComponent as w} from './shared/add-application.component';\nexport {ApplicationCardComponent as d} from './shared/application-card.component';\nexport {ApplicationPropertiesFormComponent as q} from './shared/application-properties-form.component';\nexport {UploadArchiveComponent as z} from './shared/upload-archive.component';"]}