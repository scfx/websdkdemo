(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('@angular/core'),require('@c8y/ngx-components'),require('@ngx-translate/core'),require('@c8y/client'),require('@angular/forms'),require('@angular/common'),require('ngx-bootstrap/modal'),require('@angular/cdk/stepper'),require('@angular/router'),require('ngx-bootstrap/tooltip'),require('ngx-bootstrap/dropdown'),require('ngx-bootstrap/popover'),exports, require('@angular/core'), require('@angular/forms'), require('@angular/router'), require('@c8y/ngx-components'), require('ngx-bootstrap/dropdown'), require('ngx-bootstrap/popover'), require('ngx-bootstrap/tooltip'), require('@c8y/client'), require('@ngx-translate/core'), require('file-saver/FileSaver'), require('lodash-es'), require('rxjs'), require('rxjs/operators'), require('ngx-bootstrap/modal'), require('marked')) :
    typeof define === 'function' && define.amd ? define('@c8y/ngx-components/ecosystem', ['@angular/core','@c8y/ngx-components','@ngx-translate/core','@c8y/client','@angular/forms','@angular/common','ngx-bootstrap/modal','@angular/cdk/stepper','@angular/router','ngx-bootstrap/tooltip','ngx-bootstrap/dropdown','ngx-bootstrap/popover','exports', '@angular/core', '@angular/forms', '@angular/router', '@c8y/ngx-components', 'ngx-bootstrap/dropdown', 'ngx-bootstrap/popover', 'ngx-bootstrap/tooltip', '@c8y/client', '@ngx-translate/core', 'file-saver/FileSaver', 'lodash-es', 'rxjs', 'rxjs/operators', 'ngx-bootstrap/modal', 'marked'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.ng.core,global.c8y.ngxComponents,global.ngxTranslate.core,global.c8y.client,global.ng.forms,global.ng.common,global.ngxBootstrap.modal,global.ng.cdk.stepper,global.ng.router,global.ngxBootstrap.tooltip,global.ngxBootstrap.dropdown,global.ngxBootstrap.popover,(global.c8y = global.c8y || {}, global.c8y["ngx-components"] = global.c8y["ngx-components"] || {}, global.c8y["ngx-components"].ecosystem = {}), global.ng.core, global.ng.forms, global.ng.router, global.c8y["ngx-components"], global.dropdown, global.popover, global.tooltip, global.client, global.core$1, global.FileSaver, global.lodashEs, global.rxjs, global.rxjs.operators, global.modal, global.marked));
})(this, (function (ɵngcc0,ɵngcc1,ɵngcc2,ɵngcc3,ɵngcc4,ɵngcc5,ɵngcc6,ɵngcc7,ɵngcc8,ɵngcc9,ɵngcc10,ɵngcc11,exports, core, forms, router, ngxComponents, dropdown, popover, tooltip, client, core$1, FileSaver, lodashEs, rxjs, operators, modal, marked) { 
function ApplicationPropertiesFormComponent_c8y_message_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 11);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesFormComponent_c8y_message_14_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 11);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesFormComponent_c8y_message_24_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 11);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
var _c0 = function () { return { example: "1.0.0" }; };
function ApplicationPropertiesFormComponent_c8y_form_group_25_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(1, "label", 12);
    ɵngcc0.ɵɵtext(2, "Use package version");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(3, "div", 7);
    ɵngcc0.ɵɵelement(4, "input", 13);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind2(5, 1, "e.g. {{ example }}", ɵngcc0.ɵɵpureFunction0(4, _c0)));
} }
function InstallFromPackageComponent_ng_container_5_div_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 10);
    ɵngcc0.ɵɵelementStart(1, "p", 11);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 1, "No packages to display."));
} }
function InstallFromPackageComponent_ng_container_5_div_6_button_1_Template(rf, ctx) { if (rf & 1) {
    var _r10 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 14);
    ɵngcc0.ɵɵlistener("click", function InstallFromPackageComponent_ng_container_5_div_6_button_1_Template_button_click_0_listener() { var restoredCtx = ɵngcc0.ɵɵrestoreView(_r10); var package_r8 = restoredCtx.$implicit; var ctx_r9 = ɵngcc0.ɵɵnextContext(3); return ctx_r9.selectPackage(package_r8); });
    ɵngcc0.ɵɵelement(1, "i", 15);
    ɵngcc0.ɵɵelement(2, "span", 16);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var package_r8 = ctx.$implicit;
    ɵngcc0.ɵɵpropertyInterpolate("title", package_r8.name);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("innerText", package_r8.name);
} }
function InstallFromPackageComponent_ng_container_5_div_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 12);
    ɵngcc0.ɵɵtemplate(1, InstallFromPackageComponent_ng_container_5_div_6_button_1_Template, 3, 2, "button", 13);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", ctx_r6.packages);
} }
function InstallFromPackageComponent_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "div", 6);
    ɵngcc0.ɵɵelementStart(2, "p", 7);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(5, InstallFromPackageComponent_ng_container_5_div_5_Template, 4, 3, "div", 8);
    ɵngcc0.ɵɵtemplate(6, InstallFromPackageComponent_ng_container_5_div_6_Template, 2, 1, "div", 9);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 3, "Select from available packages"), " ");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", !(ctx_r0.packages == null ? null : ctx_r0.packages.length));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.packages == null ? null : ctx_r0.packages.length);
} }
function InstallFromPackageComponent_ng_container_6_c8y_application_properties_form_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-application-properties-form", 21);
} if (rf & 2) {
    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("application", ctx_r11.newAppConfig);
} }
function InstallFromPackageComponent_ng_container_6_c8y_progress_bar_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-progress-bar", 22);
    ɵngcc0.ɵɵpipe(1, "translate");
} if (rf & 2) {
    ɵngcc0.ɵɵproperty("message", ɵngcc0.ɵɵpipeBind1(1, 1, "Installing\u2026"));
} }
function InstallFromPackageComponent_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "p", 17);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "div", 18);
    ɵngcc0.ɵɵtemplate(5, InstallFromPackageComponent_ng_container_6_c8y_application_properties_form_5_Template, 1, 1, "c8y-application-properties-form", 19);
    ɵngcc0.ɵɵtemplate(6, InstallFromPackageComponent_ng_container_6_c8y_progress_bar_6_Template, 2, 3, "c8y-progress-bar", 20);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 3, "Provide application details"), " ");
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r1.inProgress);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r1.inProgress);
} }
function InstallFromPackageComponent_ng_container_7_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 25);
    ɵngcc0.ɵɵelement(1, "c8y-operation-result", 26);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("text", ɵngcc0.ɵɵpipeBind1(2, 3, "Application created"));
    ɵngcc0.ɵɵproperty("size", 84)("vertical", true);
} }
function InstallFromPackageComponent_ng_container_7_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 25);
    ɵngcc0.ɵɵelement(1, "c8y-operation-result", 27);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("text", ɵngcc0.ɵɵpipeBind1(2, 3, "Application creation failed"));
    ɵngcc0.ɵɵproperty("size", 84)("vertical", true);
} }
function InstallFromPackageComponent_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, InstallFromPackageComponent_ng_container_7_div_1_Template, 3, 5, "div", 23);
    ɵngcc0.ɵɵtemplate(2, InstallFromPackageComponent_ng_container_7_ng_template_2_Template, 3, 5, "ng-template", null, 24, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var _r14 = ɵngcc0.ɵɵreference(3);
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.deployedWithSuccess)("ngIfElse", _r14);
} }
function InstallFromPackageComponent_button_9_Template(rf, ctx) { if (rf & 1) {
    var _r17 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 28);
    ɵngcc0.ɵɵlistener("click", function InstallFromPackageComponent_button_9_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r17); var ctx_r16 = ɵngcc0.ɵɵnextContext(); return ctx_r16.selectedPackage ? ctx_r16.selectedPackage = null : ctx_r16.back(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2, " Back ");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, "Back"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r3.inProgress);
} }
function InstallFromPackageComponent_button_16_Template(rf, ctx) { if (rf & 1) {
    var _r19 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 29);
    ɵngcc0.ɵɵlistener("click", function InstallFromPackageComponent_button_16_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r19); var ctx_r18 = ɵngcc0.ɵɵnextContext(); return ctx_r18.save(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r4 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 3, "Install"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r4.inProgress);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 5, "Install"), " ");
} }
function DuplicateApplicationListComponent_button_1_Template(rf, ctx) { if (rf & 1) {
    var _r3 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 4);
    ɵngcc0.ɵɵlistener("click", function DuplicateApplicationListComponent_button_1_Template_button_click_0_listener() { var restoredCtx = ɵngcc0.ɵɵrestoreView(_r3); var app_r1 = restoredCtx.$implicit; var ctx_r2 = ɵngcc0.ɵɵnextContext(); return ctx_r2.select(app_r1); });
    ɵngcc0.ɵɵelement(1, "c8y-app-icon", 5);
    ɵngcc0.ɵɵelement(2, "span", 6);
    ɵngcc0.ɵɵpipe(3, "async");
    ɵngcc0.ɵɵpipe(4, "humanizeAppName");
    ɵngcc0.ɵɵelementStart(5, "span", 7);
    ɵngcc0.ɵɵtext(6);
    ɵngcc0.ɵɵpipe(7, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var app_r1 = ctx.$implicit;
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("app", app_r1)("contextPath", app_r1.contextPath)("name", app_r1.name);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("innerText", ɵngcc0.ɵɵpipeBind1(3, 6, ɵngcc0.ɵɵpipeBind1(4, 8, app_r1)));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngClass", ctx_r0.ecosystemService.getAppState(app_r1).class);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(7, 10, ctx_r0.ecosystemService.getAppState(app_r1).label));
} }
function DuplicateApplicationPropertiesComponent_p_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "p", 6);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, "Provide application details"), "\n");
} }
function DuplicateApplicationPropertiesComponent_c8y_application_properties_form_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-application-properties-form", 7);
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("application", ctx_r1.newAppConfig);
} }
function DuplicateApplicationPropertiesComponent_c8y_progress_bar_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-progress-bar", 8);
    ɵngcc0.ɵɵpipe(1, "translate");
} if (rf & 2) {
    ɵngcc0.ɵɵproperty("message", ɵngcc0.ɵɵpipeBind1(1, 1, "Duplicating\u2026"));
} }
function DuplicateApplicationComponent_c8y_duplicate_application_list_10_Template(rf, ctx) { if (rf & 1) {
    var _r5 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-duplicate-application-list", 7);
    ɵngcc0.ɵɵlistener("onSelectedApp", function DuplicateApplicationComponent_c8y_duplicate_application_list_10_Template_c8y_duplicate_application_list_onSelectedApp_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r5); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.onSelectedApp($event); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("existingApps", ctx_r0.existingApps)("stepper", ctx_r0.stepper);
} }
function DuplicateApplicationComponent_c8y_duplicate_application_properties_12_Template(rf, ctx) { if (rf & 1) {
    var _r7 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-duplicate-application-properties", 8);
    ɵngcc0.ɵɵlistener("duplicatedApp", function DuplicateApplicationComponent_c8y_duplicate_application_properties_12_Template_c8y_duplicate_application_properties_duplicatedApp_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r7); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.duplicatedApp = $event; });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("existingApps", ctx_r1.existingApps)("selectedApp", ctx_r1.selectedApp)("stepper", ctx_r1.stepper);
} }
function DuplicateApplicationComponent_ng_container_14_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 11);
    ɵngcc0.ɵɵelement(1, "c8y-operation-result", 12);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("text", ɵngcc0.ɵɵpipeBind1(2, 3, "Application created"));
    ɵngcc0.ɵɵproperty("size", 84)("vertical", true);
} }
function DuplicateApplicationComponent_ng_container_14_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 11);
    ɵngcc0.ɵɵelement(1, "c8y-operation-result", 13);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("text", ɵngcc0.ɵɵpipeBind1(2, 3, "Application creation failed"));
    ɵngcc0.ɵɵproperty("size", 84)("vertical", true);
} }
function DuplicateApplicationComponent_ng_container_14_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DuplicateApplicationComponent_ng_container_14_div_1_Template, 3, 5, "div", 9);
    ɵngcc0.ɵɵtemplate(2, DuplicateApplicationComponent_ng_container_14_ng_template_2_Template, 3, 5, "ng-template", null, 10, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var _r9 = ɵngcc0.ɵɵreference(3);
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.duplicatedApp)("ngIfElse", _r9);
} }
function DuplicateApplicationComponent_c8y_wizard_footer_15_Template(rf, ctx) { if (rf & 1) {
    var _r12 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-wizard-footer");
    ɵngcc0.ɵɵelementStart(1, "button", 14);
    ɵngcc0.ɵɵlistener("click", function DuplicateApplicationComponent_c8y_wizard_footer_15_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r12); var ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.done(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "a", 15);
    ɵngcc0.ɵɵlistener("click", function DuplicateApplicationComponent_c8y_wizard_footer_15_Template_a_click_5_listener($event) { return $event.stopPropagation(); });
    ɵngcc0.ɵɵpipe(6, "translate");
    ɵngcc0.ɵɵelement(7, "i", 16);
    ɵngcc0.ɵɵtext(8);
    ɵngcc0.ɵɵpipe(9, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 5, "Done"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 7, "Done"), " ");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(6, 9, "Open"));
    ɵngcc0.ɵɵproperty("href", ctx_r3.getHref(ctx_r3.duplicatedApp), ɵngcc0.ɵɵsanitizeUrl);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(9, 11, "Open"), " ");
} }
var _c1 = function () { return ["hidden"]; };
var _c2 = function () { return { edit: true, done: false }; };
function AddExternalApplicationComponent_form_0_c8y_message_17_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 4);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function AddExternalApplicationComponent_form_0_c8y_message_18_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 4);
    ɵngcc0.ɵɵtext(1, " Maximum 120 characters allowed. ");
    ɵngcc0.ɵɵelementEnd();
} }
function AddExternalApplicationComponent_form_0_c8y_message_26_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 4);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function AddExternalApplicationComponent_form_0_c8y_message_27_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 4);
    ɵngcc0.ɵɵtext(1, " Maximum 120 characters allowed. ");
    ɵngcc0.ɵɵelementEnd();
} }
function AddExternalApplicationComponent_form_0_c8y_message_35_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 4);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function AddExternalApplicationComponent_form_0_Template(rf, ctx) { if (rf & 1) {
    var _r9 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "form", 2);
    ɵngcc0.ɵɵelementStart(1, "c8y-wizard-header");
    ɵngcc0.ɵɵelement(2, "h1", 3);
    ɵngcc0.ɵɵelementStart(3, "h4", 4);
    ɵngcc0.ɵɵtext(4, "Add external application");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "c8y-wizard-body");
    ɵngcc0.ɵɵelementStart(6, "p", 5);
    ɵngcc0.ɵɵtext(7);
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(9, "div", 6);
    ɵngcc0.ɵɵelementStart(10, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(11, "label", 7);
    ɵngcc0.ɵɵtext(12);
    ɵngcc0.ɵɵpipe(13, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(14, "input", 8);
    ɵngcc0.ɵɵpipe(15, "translate");
    ɵngcc0.ɵɵelementStart(16, "c8y-messages");
    ɵngcc0.ɵɵtemplate(17, AddExternalApplicationComponent_form_0_c8y_message_17_Template, 2, 0, "c8y-message", 9);
    ɵngcc0.ɵɵtemplate(18, AddExternalApplicationComponent_form_0_c8y_message_18_Template, 2, 0, "c8y-message", 9);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(19, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(20, "label", 7);
    ɵngcc0.ɵɵtext(21);
    ɵngcc0.ɵɵpipe(22, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(23, "input", 10);
    ɵngcc0.ɵɵpipe(24, "translate");
    ɵngcc0.ɵɵelementStart(25, "c8y-messages");
    ɵngcc0.ɵɵtemplate(26, AddExternalApplicationComponent_form_0_c8y_message_26_Template, 2, 0, "c8y-message", 9);
    ɵngcc0.ɵɵtemplate(27, AddExternalApplicationComponent_form_0_c8y_message_27_Template, 2, 0, "c8y-message", 9);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(28, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(29, "label", 7);
    ɵngcc0.ɵɵtext(30);
    ɵngcc0.ɵɵpipe(31, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(32, "input", 11);
    ɵngcc0.ɵɵpipe(33, "translate");
    ɵngcc0.ɵɵelementStart(34, "c8y-messages");
    ɵngcc0.ɵɵtemplate(35, AddExternalApplicationComponent_form_0_c8y_message_35_Template, 2, 0, "c8y-message", 9);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(36, "c8y-wizard-footer");
    ɵngcc0.ɵɵelementStart(37, "button", 12);
    ɵngcc0.ɵɵlistener("click", function AddExternalApplicationComponent_form_0_Template_button_click_37_listener() { ɵngcc0.ɵɵrestoreView(_r9); var ctx_r8 = ɵngcc0.ɵɵnextContext(); return ctx_r8.back(); });
    ɵngcc0.ɵɵpipe(38, "translate");
    ɵngcc0.ɵɵtext(39, " Back ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(40, "button", 13);
    ɵngcc0.ɵɵlistener("click", function AddExternalApplicationComponent_form_0_Template_button_click_40_listener() { ɵngcc0.ɵɵrestoreView(_r9); var ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.cancel(); });
    ɵngcc0.ɵɵpipe(41, "translate");
    ɵngcc0.ɵɵtext(42, " Cancel ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(43, "button", 14);
    ɵngcc0.ɵɵlistener("click", function AddExternalApplicationComponent_form_0_Template_button_click_43_listener() { ɵngcc0.ɵɵrestoreView(_r9); var ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.save(ctx_r11.formGroup.value); });
    ɵngcc0.ɵɵpipe(44, "translate");
    ɵngcc0.ɵɵtext(45);
    ɵngcc0.ɵɵpipe(46, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("formGroup", ctx_r0.formGroup);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("c8yIcon", "cloud-link");
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(8, 20, "Provide external application details"), " ");
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(13, 22, "Name"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(15, 24, "e.g. My application"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", (ctx_r0.formGroup == null ? null : ctx_r0.formGroup.controls == null ? null : ctx_r0.formGroup.controls.name == null ? null : ctx_r0.formGroup.controls.name.errors == null ? null : ctx_r0.formGroup.controls.name.errors.required) && !ctx_r0.formGroup.controls.name.pristine);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.formGroup == null ? null : ctx_r0.formGroup.controls == null ? null : ctx_r0.formGroup.controls.name == null ? null : ctx_r0.formGroup.controls.name.errors == null ? null : ctx_r0.formGroup.controls.name.errors.maxlength);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(22, 26, "Application key"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(24, 28, "e.g. my-external-application-key"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", (ctx_r0.formGroup == null ? null : ctx_r0.formGroup.controls == null ? null : ctx_r0.formGroup.controls.key == null ? null : ctx_r0.formGroup.controls.key.errors == null ? null : ctx_r0.formGroup.controls.key.errors.required) && !ctx_r0.formGroup.controls.key.pristine);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.formGroup == null ? null : ctx_r0.formGroup.controls == null ? null : ctx_r0.formGroup.controls.key == null ? null : ctx_r0.formGroup.controls.key.errors == null ? null : ctx_r0.formGroup.controls.key.errors.maxlength);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(31, 30, "External URL"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate1("placeholder", "", ɵngcc0.ɵɵpipeBind1(33, 32, "e.g."), " https://www.example.com");
    ɵngcc0.ɵɵproperty("pattern", "^(?!javascript:).+");
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", (ctx_r0.formGroup == null ? null : ctx_r0.formGroup.controls == null ? null : ctx_r0.formGroup.controls.externalUrl == null ? null : ctx_r0.formGroup.controls.externalUrl.errors == null ? null : ctx_r0.formGroup.controls.externalUrl.errors.required) && !ctx_r0.formGroup.controls.externalUrl.pristine);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(38, 34, "Back"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(41, 36, "Cancel"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(44, 38, "Add application"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r0.formGroup.invalid || ctx_r0.formGroup.pristine);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(46, 40, "Add application"), " ");
} }
function AddExternalApplicationComponent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    var _r13 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-wizard-body");
    ɵngcc0.ɵɵelementStart(1, "div", 15);
    ɵngcc0.ɵɵelement(2, "c8y-operation-result", 16);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "c8y-wizard-footer");
    ɵngcc0.ɵɵelementStart(5, "button", 13);
    ɵngcc0.ɵɵlistener("click", function AddExternalApplicationComponent_ng_template_1_Template_button_click_5_listener() { ɵngcc0.ɵɵrestoreView(_r13); var ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.done(); });
    ɵngcc0.ɵɵpipe(6, "translate");
    ɵngcc0.ɵɵtext(7, " Done ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(8, "a", 17);
    ɵngcc0.ɵɵlistener("click", function AddExternalApplicationComponent_ng_template_1_Template_a_click_8_listener($event) { return $event.stopPropagation(); });
    ɵngcc0.ɵɵpipe(9, "translate");
    ɵngcc0.ɵɵelement(10, "i", 18);
    ɵngcc0.ɵɵtext(11);
    ɵngcc0.ɵɵpipe(12, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("text", ɵngcc0.ɵɵpipeBind1(3, 7, "Application created"));
    ɵngcc0.ɵɵproperty("size", 84)("vertical", true);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(6, 9, "Done"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(9, 11, "Open"));
    ɵngcc0.ɵɵproperty("href", ctx_r2.formGroup.value.externalUrl, ɵngcc0.ɵɵsanitizeUrl);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(12, 13, "Open"), " ");
} }
function ApplicationListComponent_div_25_Template(rf, ctx) { if (rf & 1) {
    var _r4 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 12);
    ɵngcc0.ɵɵelement(1, "h1", 13);
    ɵngcc0.ɵɵelementStart(2, "h3", 14);
    ɵngcc0.ɵɵtext(3, "No applications to display.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "p", 14);
    ɵngcc0.ɵɵtext(5, "Add your first application by clicking below.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(6, "p");
    ɵngcc0.ɵɵelementStart(7, "button", 15);
    ɵngcc0.ɵɵlistener("click", function ApplicationListComponent_div_25_Template_button_click_7_listener() { ɵngcc0.ɵɵrestoreView(_r4); var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.addApplication(); });
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵtext(9);
    ɵngcc0.ɵɵpipe(10, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(7);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(8, 2, "Add application"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(10, 4, "Add application"), " ");
} }
function ApplicationListComponent_div_28_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 16);
    ɵngcc0.ɵɵelementStart(1, "div", 17);
    ɵngcc0.ɵɵelement(2, "div", 18);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "div", 19);
    ɵngcc0.ɵɵelementStart(6, "div", 20);
    ɵngcc0.ɵɵtext(7);
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(9, "div", 21);
    ɵngcc0.ɵɵtext(10);
    ɵngcc0.ɵɵpipe(11, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(12, "div", 21);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 3, "Application"), " ");
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(8, 5, "Description"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(11, 7, "Type"));
} }
function ApplicationListComponent_div_30_Template(rf, ctx) { if (rf & 1) {
    var _r7 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 22);
    ɵngcc0.ɵɵelementStart(1, "c8y-application-card", 23);
    ɵngcc0.ɵɵlistener("onAppDeleted", function ApplicationListComponent_div_30_Template_c8y_application_card_onAppDeleted_1_listener() { ɵngcc0.ɵɵrestoreView(_r7); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.loadApplications(); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var app_r5 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("app", app_r5);
} }
var _c3 = function (a0) { return { "icon-spin": a0 }; };
var _c4 = function (a0) { return { "btn-pending": a0 }; };
function PluginListItemComponent_c8y_li_checkbox_1_Template(rf, ctx) { if (rf & 1) {
    var _r4 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-li-checkbox", 10);
    ɵngcc0.ɵɵlistener("change", function PluginListItemComponent_c8y_li_checkbox_1_Template_c8y_li_checkbox_change_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r4); var ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.onChange($event.target.checked); });
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("disabled", ctx_r0.plugin.installed);
} }
function PluginListItemComponent_span_13_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵelement(1, "i", 11);
    ɵngcc0.ɵɵelementStart(2, "em", 12);
    ɵngcc0.ɵɵtext(3, "Installed");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("c8yIcon", "check-circle");
} }
function PluginListItemComponent_span_16_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 13);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ctx_r2.plugin.contextPath);
} }
var _c5 = function (a0) { return { disabled: a0 }; };
function PluginListComponent_ng_container_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    var _r6 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "c8y-plugin-list-item", 4);
    ɵngcc0.ɵɵlistener("isItemSelected", function PluginListComponent_ng_container_1_ng_container_1_Template_c8y_plugin_list_item_isItemSelected_1_listener($event) { var restoredCtx = ɵngcc0.ɵɵrestoreView(_r6); var plugin_r4 = restoredCtx.$implicit; var ctx_r5 = ɵngcc0.ɵɵnextContext(2); return ctx_r5.updateSelectedItems($event, plugin_r4.id); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var plugin_r4 = ctx.$implicit;
    var ctx_r3 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("plugin", plugin_r4)("selectable", ctx_r3.selectable);
} }
function PluginListComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, PluginListComponent_ng_container_1_ng_container_1_Template, 2, 2, "ng-container", 3);
    ɵngcc0.ɵɵpipe(2, "async");
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngForOf", ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r0.plugins$));
} }
function PluginListComponent_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 5);
    ɵngcc0.ɵɵelement(1, "h1", 6);
    ɵngcc0.ɵɵelementStart(2, "p");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 1, ctx_r2.emptyListText), " ");
} }
function ActivityLogComponent_c8y_li_timeline_3_small_11_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "small", 17);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var archive_r2 = ɵngcc0.ɵɵnextContext().$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(archive_r2.description);
} }
function ActivityLogComponent_c8y_li_timeline_3_i_12_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 18);
    ɵngcc0.ɵɵpipe(1, "translate");
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, "Activating"));
    ɵngcc0.ɵɵproperty("c8yIcon", "circle-o-notch");
} }
function ActivityLogComponent_c8y_li_timeline_3_span_13_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 19);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 1, "Active"));
} }
function ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_14_Template(rf, ctx) { if (rf & 1) {
    var _r12 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-li-action", 20);
    ɵngcc0.ɵɵlistener("click", function ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_14_Template_c8y_li_action_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r12); var archive_r2 = ɵngcc0.ɵɵnextContext().$implicit; var ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.setActive(archive_r2); });
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, "Set as active`archive`"), " ");
} }
function ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_18_Template(rf, ctx) { if (rf & 1) {
    var _r15 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-li-action", 21);
    ɵngcc0.ɵɵlistener("click", function ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_18_Template_c8y_li_action_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r15); var archive_r2 = ɵngcc0.ɵɵnextContext().$implicit; var ctx_r13 = ɵngcc0.ɵɵnextContext(); return ctx_r13.deleteArchive(archive_r2); });
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, "Delete`archive`"), " ");
} }
function ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_19_Template(rf, ctx) { if (rf & 1) {
    var _r17 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-li-action", 22);
    ɵngcc0.ɵɵlistener("click", function ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_19_Template_c8y_li_action_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r17); var ctx_r16 = ɵngcc0.ɵɵnextContext(2); return ctx_r16.reactivateArchive(); });
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, "Reactivate archive"), " ");
} }
var _c6 = function (a0) { return { active: a0 }; };
function ActivityLogComponent_c8y_li_timeline_3_Template(rf, ctx) { if (rf & 1) {
    var _r19 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-li-timeline", 5);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "date");
    ɵngcc0.ɵɵpipe(3, "date");
    ɵngcc0.ɵɵelementStart(4, "c8y-li");
    ɵngcc0.ɵɵelement(5, "c8y-li-icon", 6);
    ɵngcc0.ɵɵelementStart(6, "c8y-li-body");
    ɵngcc0.ɵɵelementStart(7, "div", 7);
    ɵngcc0.ɵɵelementStart(8, "div", 8);
    ɵngcc0.ɵɵelementStart(9, "span", 9);
    ɵngcc0.ɵɵtext(10);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(11, ActivityLogComponent_c8y_li_timeline_3_small_11_Template, 2, 1, "small", 10);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(12, ActivityLogComponent_c8y_li_timeline_3_i_12_Template, 2, 4, "i", 11);
    ɵngcc0.ɵɵtemplate(13, ActivityLogComponent_c8y_li_timeline_3_span_13_Template, 3, 3, "span", 12);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(14, ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_14_Template, 3, 3, "c8y-li-action", 13);
    ɵngcc0.ɵɵelementStart(15, "c8y-li-action", 14);
    ɵngcc0.ɵɵlistener("click", function ActivityLogComponent_c8y_li_timeline_3_Template_c8y_li_action_click_15_listener() { var restoredCtx = ɵngcc0.ɵɵrestoreView(_r19); var archive_r2 = restoredCtx.$implicit; var ctx_r18 = ɵngcc0.ɵɵnextContext(); return ctx_r18.downloadArchive(archive_r2); });
    ɵngcc0.ɵɵtext(16);
    ɵngcc0.ɵɵpipe(17, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(18, ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_18_Template, 3, 3, "c8y-li-action", 15);
    ɵngcc0.ɵɵtemplate(19, ActivityLogComponent_c8y_li_timeline_3_c8y_li_action_19_Template, 3, 3, "c8y-li-action", 16);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var archive_r2 = ctx.$implicit;
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(21, _c6, ctx_r0.isActive(archive_r2)));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate2(" ", ɵngcc0.ɵɵpipeBind2(2, 13, archive_r2.created, "d MMM YYYY"), " ", ɵngcc0.ɵɵpipeBind2(3, 16, archive_r2.created, "shortTime"), " ");
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵproperty("icon", ctx_r0.checkIfLast(archive_r2) ? "flag-checkered" : "file-zip-o");
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵpropertyInterpolate1("title", " ", archive_r2.description || archive_r2.name, "");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", archive_r2.description || archive_r2.name, " ");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", archive_r2.description);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.isLoading && ctx_r0.toActivate(archive_r2));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.isActive(archive_r2));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r0.isLoading && !ctx_r0.isActive(archive_r2));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(17, 19, "Download`archive`"), " ");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.archives.length > 1 && !ctx_r0.checkIfLast(archive_r2) && !ctx_r0.isActive(archive_r2));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.canReactivate && ctx_r0.isActive(archive_r2));
} }
function ActivityLogComponent_c8y_form_group_5_Template(rf, ctx) { if (rf & 1) {
    var _r21 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-form-group", 23);
    ɵngcc0.ɵɵelementStart(1, "c8y-upload-archive", 24);
    ɵngcc0.ɵɵlistener("applicationChange", function ActivityLogComponent_c8y_form_group_5_Template_c8y_upload_archive_applicationChange_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r21); var ctx_r20 = ɵngcc0.ɵɵnextContext(); return ctx_r20.application = $event; })("refresh", function ActivityLogComponent_c8y_form_group_5_Template_c8y_upload_archive_refresh_1_listener() { ɵngcc0.ɵɵrestoreView(_r21); var ctx_r22 = ɵngcc0.ɵɵnextContext(); return ctx_r22.onRefresh(); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("application", ctx_r1.application);
} }
function ApplicationPropertiesComponent_c8y_breadcrumb_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-breadcrumb");
    ɵngcc0.ɵɵelement(1, "c8y-breadcrumb-item", 4);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "c8y-breadcrumb-item", 5);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelement(5, "c8y-breadcrumb-item", 5);
    ɵngcc0.ɵɵelement(6, "c8y-breadcrumb-item", 6);
    ɵngcc0.ɵɵpipe(7, "async");
    ɵngcc0.ɵɵpipe(8, "humanizeAppName");
    ɵngcc0.ɵɵelement(9, "c8y-breadcrumb-item", 6);
    ɵngcc0.ɵɵpipe(10, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(2, 10, "Ecosystem"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(4, 12, "Applications"))("path", "ecosystem/applications");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("icon", ctx_r0.breadcrumbConfig == null ? null : ctx_r0.breadcrumbConfig.icon)("label", ctx_r0.breadcrumbConfig == null ? null : ctx_r0.breadcrumbConfig.label)("path", ctx_r0.breadcrumbConfig == null ? null : ctx_r0.breadcrumbConfig.path);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(7, 14, ɵngcc0.ɵɵpipeBind1(8, 16, ctx_r0.application)));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(10, 18, "Properties"));
} }
function ApplicationPropertiesComponent_c8y_breadcrumb_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-breadcrumb");
    ɵngcc0.ɵɵelement(1, "c8y-breadcrumb-item", 4);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "c8y-breadcrumb-item", 5);
    ɵngcc0.ɵɵelement(4, "c8y-breadcrumb-item", 6);
    ɵngcc0.ɵɵpipe(5, "async");
    ɵngcc0.ɵɵpipe(6, "humanizeAppName");
    ɵngcc0.ɵɵelement(7, "c8y-breadcrumb-item", 6);
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(2, 7, "Ecosystem"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("icon", ctx_r1.breadcrumbConfig == null ? null : ctx_r1.breadcrumbConfig.icon)("label", ctx_r1.breadcrumbConfig == null ? null : ctx_r1.breadcrumbConfig.label)("path", ctx_r1.breadcrumbConfig == null ? null : ctx_r1.breadcrumbConfig.path);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(5, 9, ɵngcc0.ɵɵpipeBind1(6, 11, ctx_r1.application)));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(8, 13, "Properties"));
} }
function ApplicationPropertiesComponent_div_8_div_2_c8y_app_icon_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-app-icon", 39);
} if (rf & 2) {
    var ctx_r5 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵproperty("app", ctx_r5.application)("contextPath", ctx_r5.application.contextPath)("name", ctx_r5.application.name);
} }
function ApplicationPropertiesComponent_div_8_div_2_i_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 40);
} }
function ApplicationPropertiesComponent_div_8_div_2_i_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 41);
} }
function ApplicationPropertiesComponent_div_8_div_2_i_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 42);
} }
function ApplicationPropertiesComponent_div_8_div_2_i_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 43);
} }
function ApplicationPropertiesComponent_div_8_div_2_p_13_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "p");
    ɵngcc0.ɵɵelementStart(1, "em", 44);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r10 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r10.application.description || ɵngcc0.ɵɵpipeBind1(3, 1, "No description available."), " ");
} }
var _c7 = function (a0) { return { updated: a0 }; };
function ApplicationPropertiesComponent_div_8_div_2_div_14_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 45);
    ɵngcc0.ɵɵelementStart(1, "label", 46);
    ɵngcc0.ɵɵelement(2, "textarea", 47);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r11 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(4, _c7, ctx_r11.formGroup == null ? null : ctx_r11.formGroup.controls == null ? null : ctx_r11.formGroup.controls.description == null ? null : ctx_r11.formGroup.controls.description.dirty));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(3, 2, "No description available."));
} }
function ApplicationPropertiesComponent_div_8_div_2_div_19_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 48);
    ɵngcc0.ɵɵelementStart(1, "label", 49);
    ɵngcc0.ɵɵtext(2, "Version:");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(3, "small", 50);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r12 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ctx_r12.application.manifest == null ? null : ctx_r12.application.manifest.version);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_20_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 48);
    ɵngcc0.ɵɵelementStart(1, "label", 49);
    ɵngcc0.ɵɵtext(2, "Creation time:");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(3, "small", 50);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "c8yDate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r13 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(5, 1, ctx_r13.binaryMo == null ? null : ctx_r13.binaryMo.creationTime));
} }
function ApplicationPropertiesComponent_div_8_div_2_button_22_Template(rf, ctx) { if (rf & 1) {
    var _r29 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 51);
    ɵngcc0.ɵɵlistener("click", function ApplicationPropertiesComponent_div_8_div_2_button_22_Template_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r29); var ctx_r28 = ɵngcc0.ɵɵnextContext(3); ctx_r28.openApp(ctx_r28.application); return $event.stopPropagation(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵelement(2, "i", 52);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r14 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 4, "Open"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r14.disableOpenInBrowser);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("c8yIcon", "external-link");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 6, "Open"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_23_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "small", 53);
    ɵngcc0.ɵɵtext(2, "The application is overwritten by a custom application sharing the same path");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_span_24_button_1_Template(rf, ctx) { if (rf & 1) {
    var _r33 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 55);
    ɵngcc0.ɵɵlistener("click", function ApplicationPropertiesComponent_div_8_div_2_span_24_button_1_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r33); var ctx_r32 = ɵngcc0.ɵɵnextContext(4); return ctx_r32.subscribe(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵelement(2, "i", 52);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 3, "Subscribe"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("c8yIcon", "check-circle-o");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 5, "Subscribe"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_span_24_button_2_Template(rf, ctx) { if (rf & 1) {
    var _r35 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 55);
    ɵngcc0.ɵɵlistener("click", function ApplicationPropertiesComponent_div_8_div_2_span_24_button_2_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r35); var ctx_r34 = ɵngcc0.ɵɵnextContext(4); return ctx_r34.unsubscribe(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵelement(2, "i", 52);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 3, "Unsubscribe"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("c8yIcon", "minus-circle");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 5, "Unsubscribe"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_span_24_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵtemplate(1, ApplicationPropertiesComponent_div_8_div_2_span_24_button_1_Template, 5, 7, "button", 54);
    ɵngcc0.ɵɵtemplate(2, ApplicationPropertiesComponent_div_8_div_2_span_24_button_2_Template, 5, 7, "button", 54);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r16 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r16.isSubscribed);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r16.isSubscribed);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_27_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 56);
    ɵngcc0.ɵɵelement(1, "c8y-properties-list", 57);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r17 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("data", ctx_r17.application.manifest)("properties", ctx_r17.packageProperties)("title", ɵngcc0.ɵɵpipeBind1(2, 3, "Package details"));
} }
function ApplicationPropertiesComponent_div_8_div_2_div_28_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 56);
    ɵngcc0.ɵɵelement(1, "c8y-properties-list", 57);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r18 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("data", ctx_r18.package.manifest)("properties", ctx_r18.packageProperties)("title", ɵngcc0.ɵɵpipeBind1(2, 3, "Source package information"));
} }
function ApplicationPropertiesComponent_div_8_div_2_c8y_message_43_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_c8y_message_53_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_div_60_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "p", 59);
    ɵngcc0.ɵɵelement(2, "i", 52);
    ɵngcc0.ɵɵelementStart(3, "span");
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r21 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("c8yIcon", ctx_r21.iconMap[ctx_r21.application.type]);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(5, 2, ctx_r21.application.type), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_62_c8y_message_11_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_div_62_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(2, "label");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "div", 60);
    ɵngcc0.ɵɵelementStart(6, "span", 61);
    ɵngcc0.ɵɵtext(7, "/apps/");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(8, "input", 62);
    ɵngcc0.ɵɵpipe(9, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(10, "c8y-messages");
    ɵngcc0.ɵɵtemplate(11, ApplicationPropertiesComponent_div_8_div_2_div_62_c8y_message_11_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r22 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 4, "Path"));
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(9, 6, "e.g. my-application`used in URL`"));
    ɵngcc0.ɵɵproperty("readOnly", ctx_r22.application.id || !ctx_r22.isOwner);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r22.formGroup == null ? null : ctx_r22.formGroup.controls == null ? null : ctx_r22.formGroup.controls.contextPath == null ? null : ctx_r22.formGroup.controls.contextPath.errors == null ? null : ctx_r22.formGroup.controls.contextPath.errors.required);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_c8y_message_11_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_13_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 66);
    ɵngcc0.ɵɵelementStart(1, "label");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "p", 59);
    ɵngcc0.ɵɵtext(5);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r38 = ɵngcc0.ɵɵnextContext(4);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 2, "Version"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r38.application.manifest.version, " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_14_span_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵelement(1, "i", 67);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("c8yIcon", "c8y-enterprise");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 2, "Single tenant"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_14_span_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span");
    ɵngcc0.ɵɵelement(1, "i", 67);
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("c8yIcon", "c8y-sub-tenants");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 2, "Multi tenant"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_14_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 66);
    ɵngcc0.ɵɵelementStart(1, "label");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "p", 59);
    ɵngcc0.ɵɵtemplate(5, ApplicationPropertiesComponent_div_8_div_2_div_63_div_14_span_5_Template, 4, 4, "span", 0);
    ɵngcc0.ɵɵtemplate(6, ApplicationPropertiesComponent_div_8_div_2_div_63_div_14_span_6_Template, 4, 4, "span", 0);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r39 = ɵngcc0.ɵɵnextContext(4);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 3, "Isolation"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r39.singleTenant);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r39.singleTenant);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_span_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 69);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵproperty("tooltip", ɵngcc0.ɵɵpipeBind1(1, 2, "Resources usage assigned to: Owner"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 4, "Subscription"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_span_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 69);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵproperty("tooltip", "Resources usage assigned to: Subscriber | translate");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 2, "Resources"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_span_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "span", 69);
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵproperty("tooltip", ɵngcc0.ɵɵpipeBind1(1, 2, "Resources usage assigned to: Owner"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 4, "Resources"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 66);
    ɵngcc0.ɵɵelementStart(1, "label");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "p", 59);
    ɵngcc0.ɵɵtemplate(5, ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_span_5_Template, 4, 6, "span", 68);
    ɵngcc0.ɵɵtemplate(6, ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_span_6_Template, 3, 4, "span", 68);
    ɵngcc0.ɵɵtemplate(7, ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_span_7_Template, 4, 6, "span", 68);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r40 = ɵngcc0.ɵɵnextContext(4);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 4, "Billing mode"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r40.subscription);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r40.subscription && ctx_r40.singleTenant);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r40.subscription && !ctx_r40.singleTenant);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_16_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 70);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, "Provider"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div", 72);
    ɵngcc0.ɵɵelementStart(2, "label");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "p", 59);
    ɵngcc0.ɵɵtext(6);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r48 = ɵngcc0.ɵɵnextContext(5);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 2, "Name"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r48.application.manifest.provider.name, " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_div_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div", 72);
    ɵngcc0.ɵɵelementStart(2, "label");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "p", 59);
    ɵngcc0.ɵɵtext(6);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r49 = ɵngcc0.ɵɵnextContext(5);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 2, "Domain"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r49.application.manifest.provider.domain, " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_div_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div", 72);
    ɵngcc0.ɵɵelementStart(2, "label");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "p", 59);
    ɵngcc0.ɵɵtext(6);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r50 = ɵngcc0.ɵɵnextContext(5);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 2, "Support"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ctx_r50.application.manifest.provider.support, " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 71);
    ɵngcc0.ɵɵtemplate(1, ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_div_1_Template, 7, 4, "div", 0);
    ɵngcc0.ɵɵtemplate(2, ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_div_2_Template, 7, 4, "div", 0);
    ɵngcc0.ɵɵtemplate(3, ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_div_3_Template, 7, 4, "div", 0);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r42 = ɵngcc0.ɵɵnextContext(4);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r42.application.manifest.provider.name);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r42.application.manifest.provider.domain);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r42.application.manifest.provider.support);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_63_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(2, "label");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "div", 60);
    ɵngcc0.ɵɵelementStart(6, "span", 61);
    ɵngcc0.ɵɵtext(7, "/service/");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(8, "input", 62);
    ɵngcc0.ɵɵpipe(9, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(10, "c8y-messages");
    ɵngcc0.ɵɵtemplate(11, ApplicationPropertiesComponent_div_8_div_2_div_63_c8y_message_11_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(12, "div", 1);
    ɵngcc0.ɵɵtemplate(13, ApplicationPropertiesComponent_div_8_div_2_div_63_div_13_Template, 6, 4, "div", 63);
    ɵngcc0.ɵɵtemplate(14, ApplicationPropertiesComponent_div_8_div_2_div_63_div_14_Template, 7, 5, "div", 63);
    ɵngcc0.ɵɵtemplate(15, ApplicationPropertiesComponent_div_8_div_2_div_63_div_15_Template, 8, 6, "div", 63);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(16, ApplicationPropertiesComponent_div_8_div_2_div_63_div_16_Template, 3, 3, "div", 64);
    ɵngcc0.ɵɵtemplate(17, ApplicationPropertiesComponent_div_8_div_2_div_63_div_17_Template, 4, 3, "div", 65);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r23 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 9, "Path"));
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(9, 11, "e.g. my-microservice`used in URL`"));
    ɵngcc0.ɵɵproperty("readOnly", ctx_r23.application.id || !ctx_r23.isOwner);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r23.formGroup == null ? null : ctx_r23.formGroup.controls == null ? null : ctx_r23.formGroup.controls.contextPath == null ? null : ctx_r23.formGroup.controls.contextPath.errors == null ? null : ctx_r23.formGroup.controls.contextPath.errors.required);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r23.application.manifest.version);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r23.application.manifest.isolation);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r23.application.manifest.isolation);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r23.application.manifest.provider);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r23.application.manifest.provider);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_64_c8y_message_11_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_div_64_c8y_message_19_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_div_64_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(2, "label");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "div", 60);
    ɵngcc0.ɵɵelementStart(6, "span", 61);
    ɵngcc0.ɵɵtext(7, " /apps/ ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(8, "input", 73);
    ɵngcc0.ɵɵpipe(9, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(10, "c8y-messages");
    ɵngcc0.ɵɵtemplate(11, ApplicationPropertiesComponent_div_8_div_2_div_64_c8y_message_11_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(12, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(13, "label");
    ɵngcc0.ɵɵtext(14);
    ɵngcc0.ɵɵpipe(15, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(16, "input", 74);
    ɵngcc0.ɵɵpipe(17, "translate");
    ɵngcc0.ɵɵelementStart(18, "c8y-messages");
    ɵngcc0.ɵɵtemplate(19, ApplicationPropertiesComponent_div_8_div_2_div_64_c8y_message_19_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(20, "div", 75);
    ɵngcc0.ɵɵelementStart(21, "label");
    ɵngcc0.ɵɵtext(22);
    ɵngcc0.ɵɵpipe(23, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(24, "input", 76);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(25, "div", 75);
    ɵngcc0.ɵɵelementStart(26, "label");
    ɵngcc0.ɵɵtext(27);
    ɵngcc0.ɵɵpipe(28, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(29, "input", 77);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r24 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 9, "Path"));
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(9, 11, "e.g. my-application`used in URL`"));
    ɵngcc0.ɵɵproperty("readOnly", ctx_r24.application.id || !ctx_r24.isOwner);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r24.formGroup == null ? null : ctx_r24.formGroup.controls == null ? null : ctx_r24.formGroup.controls.contextPath == null ? null : ctx_r24.formGroup.controls.contextPath.errors == null ? null : ctx_r24.formGroup.controls.contextPath.errors.required);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(15, 13, "Server URL"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(17, 15, "e.g. my-application`used in URL`"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r24.formGroup == null ? null : ctx_r24.formGroup.controls == null ? null : ctx_r24.formGroup.controls.resourcesUrl == null ? null : ctx_r24.formGroup.controls.resourcesUrl.errors == null ? null : ctx_r24.formGroup.controls.resourcesUrl.errors.required);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(23, 17, "Username"), "");
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(28, 19, "Password"));
} }
function ApplicationPropertiesComponent_div_8_div_2_div_65_c8y_message_8_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " This field is required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_div_65_c8y_message_9_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message", 58);
    ɵngcc0.ɵɵtext(1, " Valid URL required. ");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_2_div_65_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(2, "label");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(5, "input", 78);
    ɵngcc0.ɵɵpipe(6, "translate");
    ɵngcc0.ɵɵelementStart(7, "c8y-messages");
    ɵngcc0.ɵɵtemplate(8, ApplicationPropertiesComponent_div_8_div_2_div_65_c8y_message_8_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵtemplate(9, ApplicationPropertiesComponent_div_8_div_2_div_65_c8y_message_9_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r25 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 6, "External URL"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate1("placeholder", "", ɵngcc0.ɵɵpipeBind1(6, 8, "e.g."), " http://www.example.com/");
    ɵngcc0.ɵɵproperty("pattern", "^(?!javascript:).+")("readOnly", !ctx_r25.isOwner);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r25.formGroup == null ? null : ctx_r25.formGroup.controls == null ? null : ctx_r25.formGroup.controls.externalUrl == null ? null : ctx_r25.formGroup.controls.externalUrl.errors == null ? null : ctx_r25.formGroup.controls.externalUrl.errors.required);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r25.formGroup == null ? null : ctx_r25.formGroup.controls == null ? null : ctx_r25.formGroup.controls.externalUrl == null ? null : ctx_r25.formGroup.controls.externalUrl.errors == null ? null : ctx_r25.formGroup.controls.externalUrl.errors.pattern);
} }
function ApplicationPropertiesComponent_div_8_div_2_ng_container_66_div_1_Template(rf, ctx) { if (rf & 1) {
    var _r57 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 11);
    ɵngcc0.ɵɵelementStart(1, "c8y-upload-archive", 79);
    ɵngcc0.ɵɵlistener("applicationChange", function ApplicationPropertiesComponent_div_8_div_2_ng_container_66_div_1_Template_c8y_upload_archive_applicationChange_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r57); var ctx_r56 = ɵngcc0.ɵɵnextContext(4); return ctx_r56.application = $event; })("refresh", function ApplicationPropertiesComponent_div_8_div_2_ng_container_66_div_1_Template_c8y_upload_archive_refresh_1_listener() { ɵngcc0.ɵɵrestoreView(_r57); var ctx_r58 = ɵngcc0.ɵɵnextContext(4); return ctx_r58.onNewArchive(); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r55 = ɵngcc0.ɵɵnextContext(4);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("application", ctx_r55.application);
} }
function ApplicationPropertiesComponent_div_8_div_2_ng_container_66_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, ApplicationPropertiesComponent_div_8_div_2_ng_container_66_div_1_Template, 2, 1, "div", 9);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r26 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r26.isLoading);
} }
function ApplicationPropertiesComponent_div_8_div_2_div_67_button_5_Template(rf, ctx) { if (rf & 1) {
    var _r61 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 84);
    ɵngcc0.ɵɵlistener("click", function ApplicationPropertiesComponent_div_8_div_2_div_67_button_5_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r61); var ctx_r60 = ɵngcc0.ɵɵnextContext(4); return ctx_r60.delete(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 2, "Delete"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 4, "Delete"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_div_67_Template(rf, ctx) { if (rf & 1) {
    var _r63 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 80);
    ɵngcc0.ɵɵelementStart(1, "button", 81);
    ɵngcc0.ɵɵlistener("click", function ApplicationPropertiesComponent_div_8_div_2_div_67_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r63); var ctx_r62 = ɵngcc0.ɵɵnextContext(3); return ctx_r62.cancel(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(5, ApplicationPropertiesComponent_div_8_div_2_div_67_button_5_Template, 4, 6, "button", 82);
    ɵngcc0.ɵɵelementStart(6, "button", 83);
    ɵngcc0.ɵɵpipe(7, "translate");
    ɵngcc0.ɵɵtext(8);
    ɵngcc0.ɵɵpipe(9, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r27 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 6, "Cancel"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 8, "Cancel"), " ");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r27.canDelete);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(7, 10, "Save"));
    ɵngcc0.ɵɵproperty("disabled", !ctx_r27.application.type || ctx_r27.formGroup.invalid || ctx_r27.formGroup.pristine);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(9, 12, "Save"), " ");
} }
function ApplicationPropertiesComponent_div_8_div_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 11);
    ɵngcc0.ɵɵelementStart(1, "div", 12);
    ɵngcc0.ɵɵelementStart(2, "div", 13);
    ɵngcc0.ɵɵtemplate(3, ApplicationPropertiesComponent_div_8_div_2_c8y_app_icon_3_Template, 1, 3, "c8y-app-icon", 14);
    ɵngcc0.ɵɵtemplate(4, ApplicationPropertiesComponent_div_8_div_2_i_4_Template, 1, 0, "i", 15);
    ɵngcc0.ɵɵtemplate(5, ApplicationPropertiesComponent_div_8_div_2_i_5_Template, 1, 0, "i", 16);
    ɵngcc0.ɵɵtemplate(6, ApplicationPropertiesComponent_div_8_div_2_i_6_Template, 1, 0, "i", 17);
    ɵngcc0.ɵɵtemplate(7, ApplicationPropertiesComponent_div_8_div_2_i_7_Template, 1, 0, "i", 18);
    ɵngcc0.ɵɵelementStart(8, "div", 19);
    ɵngcc0.ɵɵelementStart(9, "h4", 20);
    ɵngcc0.ɵɵtext(10);
    ɵngcc0.ɵɵpipe(11, "async");
    ɵngcc0.ɵɵpipe(12, "humanizeAppName");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(13, ApplicationPropertiesComponent_div_8_div_2_p_13_Template, 4, 3, "p", 0);
    ɵngcc0.ɵɵtemplate(14, ApplicationPropertiesComponent_div_8_div_2_div_14_Template, 4, 6, "div", 21);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(15, "div", 22);
    ɵngcc0.ɵɵelementStart(16, "span", 23);
    ɵngcc0.ɵɵtext(17);
    ɵngcc0.ɵɵpipe(18, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(19, ApplicationPropertiesComponent_div_8_div_2_div_19_Template, 5, 1, "div", 24);
    ɵngcc0.ɵɵtemplate(20, ApplicationPropertiesComponent_div_8_div_2_div_20_Template, 6, 3, "div", 24);
    ɵngcc0.ɵɵelementStart(21, "div", 25);
    ɵngcc0.ɵɵtemplate(22, ApplicationPropertiesComponent_div_8_div_2_button_22_Template, 5, 8, "button", 26);
    ɵngcc0.ɵɵtemplate(23, ApplicationPropertiesComponent_div_8_div_2_div_23_Template, 3, 0, "div", 0);
    ɵngcc0.ɵɵtemplate(24, ApplicationPropertiesComponent_div_8_div_2_span_24_Template, 3, 2, "span", 0);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(25, "div", 27);
    ɵngcc0.ɵɵelementStart(26, "div", 28);
    ɵngcc0.ɵɵtemplate(27, ApplicationPropertiesComponent_div_8_div_2_div_27_Template, 3, 5, "div", 29);
    ɵngcc0.ɵɵtemplate(28, ApplicationPropertiesComponent_div_8_div_2_div_28_Template, 3, 5, "div", 29);
    ɵngcc0.ɵɵelementStart(29, "div", 1);
    ɵngcc0.ɵɵelementStart(30, "div", 30);
    ɵngcc0.ɵɵelementStart(31, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(32, "label");
    ɵngcc0.ɵɵtext(33, "ID");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(34, "input", 31);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(35, "div", 32);
    ɵngcc0.ɵɵelementStart(36, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(37, "label");
    ɵngcc0.ɵɵtext(38);
    ɵngcc0.ɵɵpipe(39, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(40, "input", 33);
    ɵngcc0.ɵɵpipe(41, "translate");
    ɵngcc0.ɵɵelementStart(42, "c8y-messages");
    ɵngcc0.ɵɵtemplate(43, ApplicationPropertiesComponent_div_8_div_2_c8y_message_43_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(44, "div", 1);
    ɵngcc0.ɵɵelementStart(45, "div", 30);
    ɵngcc0.ɵɵelementStart(46, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(47, "label");
    ɵngcc0.ɵɵtext(48);
    ɵngcc0.ɵɵpipe(49, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(50, "input", 35);
    ɵngcc0.ɵɵpipe(51, "translate");
    ɵngcc0.ɵɵelementStart(52, "c8y-messages");
    ɵngcc0.ɵɵtemplate(53, ApplicationPropertiesComponent_div_8_div_2_c8y_message_53_Template, 2, 0, "c8y-message", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(54, "div", 32);
    ɵngcc0.ɵɵelementStart(55, "c8y-form-group");
    ɵngcc0.ɵɵelementStart(56, "label");
    ɵngcc0.ɵɵtext(57);
    ɵngcc0.ɵɵpipe(58, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(59, "div");
    ɵngcc0.ɵɵtemplate(60, ApplicationPropertiesComponent_div_8_div_2_div_60_Template, 6, 4, "div", 0);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(61, "div", 36);
    ɵngcc0.ɵɵtemplate(62, ApplicationPropertiesComponent_div_8_div_2_div_62_Template, 12, 8, "div", 37);
    ɵngcc0.ɵɵtemplate(63, ApplicationPropertiesComponent_div_8_div_2_div_63_Template, 18, 13, "div", 37);
    ɵngcc0.ɵɵtemplate(64, ApplicationPropertiesComponent_div_8_div_2_div_64_Template, 30, 21, "div", 37);
    ɵngcc0.ɵɵtemplate(65, ApplicationPropertiesComponent_div_8_div_2_div_65_Template, 10, 10, "div", 37);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(66, ApplicationPropertiesComponent_div_8_div_2_ng_container_66_Template, 2, 1, "ng-container", 0);
    ɵngcc0.ɵɵtemplate(67, ApplicationPropertiesComponent_div_8_div_2_div_67_Template, 10, 14, "div", 38);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r3.isPackage && !ctx_r3.isFeature && !ctx_r3.isMicroservice && !ctx_r3.isExternal);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isPackage);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isFeature);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isMicroservice);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isExternal);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(11, 35, ɵngcc0.ɵɵpipeBind1(12, 37, ctx_r3.application)));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r3.isOwner);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isOwner);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngClass", ctx_r3.appState == null ? null : ctx_r3.appState.class);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(18, 39, ctx_r3.appState == null ? null : ctx_r3.appState.label));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", (ctx_r3.application.manifest == null ? null : ctx_r3.application.manifest.version) && (ctx_r3.isPackage || ctx_r3.isMicroservice));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.binaryMo == null ? null : ctx_r3.binaryMo.creationTime);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.canOpenInBrowser);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.canOpenInBrowser && ctx_r3.disableOpenInBrowser);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isCustomMicroservice);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isPackage);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.package);
    ɵngcc0.ɵɵadvance(6);
    ɵngcc0.ɵɵproperty("readonly", true);
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(39, 41, "Name"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(41, 43, "e.g. My application"));
    ɵngcc0.ɵɵproperty("readonly", !ctx_r3.isOwner);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.formGroup == null ? null : ctx_r3.formGroup.controls == null ? null : ctx_r3.formGroup.controls.name == null ? null : ctx_r3.formGroup.controls.name.errors == null ? null : ctx_r3.formGroup.controls.name.errors.required);
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(49, 45, "Application key"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(51, 47, "e.g. my-application-key"));
    ɵngcc0.ɵɵproperty("readonly", ctx_r3.application.id || !ctx_r3.isOwner);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.formGroup == null ? null : ctx_r3.formGroup.controls == null ? null : ctx_r3.formGroup.controls.key == null ? null : ctx_r3.formGroup.controls.key.errors == null ? null : ctx_r3.formGroup.controls.key.errors.required);
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(58, 49, "Type"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.application.id);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitch", ctx_r3.application.type);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitchCase", "HOSTED");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitchCase", "MICROSERVICE");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitchCase", "REPOSITORY");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngSwitchCase", "EXTERNAL");
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.isCustomMicroservice);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r3.application && !!ctx_r3.isOwner);
} }
function ApplicationPropertiesComponent_div_8_div_3_div_10_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 93);
    ɵngcc0.ɵɵelement(1, "c8y-loading");
    ɵngcc0.ɵɵelementEnd();
} }
function ApplicationPropertiesComponent_div_8_div_3_c8y_activity_log_11_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-activity-log", 94);
} if (rf & 2) {
    var ctx_r65 = ɵngcc0.ɵɵnextContext(3);
    ɵngcc0.ɵɵproperty("application", ctx_r65.application);
} }
function ApplicationPropertiesComponent_div_8_div_3_Template(rf, ctx) { if (rf & 1) {
    var _r67 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 85);
    ɵngcc0.ɵɵelementStart(1, "div", 86);
    ɵngcc0.ɵɵelementStart(2, "h4", 87);
    ɵngcc0.ɵɵtext(3, "Activity log");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "div", 88);
    ɵngcc0.ɵɵelementStart(5, "button", 89);
    ɵngcc0.ɵɵlistener("click", function ApplicationPropertiesComponent_div_8_div_3_Template_button_click_5_listener() { ɵngcc0.ɵɵrestoreView(_r67); var ctx_r66 = ɵngcc0.ɵɵnextContext(2); return ctx_r66.load(); });
    ɵngcc0.ɵɵpipe(6, "translate");
    ɵngcc0.ɵɵelement(7, "i", 90);
    ɵngcc0.ɵɵtext(8);
    ɵngcc0.ɵɵpipe(9, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(10, ApplicationPropertiesComponent_div_8_div_3_div_10_Template, 2, 0, "div", 91);
    ɵngcc0.ɵɵtemplate(11, ApplicationPropertiesComponent_div_8_div_3_c8y_activity_log_11_Template, 1, 1, "c8y-activity-log", 92);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r4 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(5);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(6, 5, "Reload"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(9, _c3, ctx_r4.isLoading));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(9, 7, "Reload"), " ");
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r4.isLoading);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r4.isLoading);
} }
var _c8 = function (a0) { return { "d-grid grid__col--7-5--md": a0 }; };
function ApplicationPropertiesComponent_div_8_Template(rf, ctx) { if (rf & 1) {
    var _r69 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 7);
    ɵngcc0.ɵɵelementStart(1, "form", 8);
    ɵngcc0.ɵɵlistener("ngSubmit", function ApplicationPropertiesComponent_div_8_Template_form_ngSubmit_1_listener() { ɵngcc0.ɵɵrestoreView(_r69); var ctx_r68 = ɵngcc0.ɵɵnextContext(); return ctx_r68.formGroup.valid && ctx_r68.save(ctx_r68.formGroup.value); });
    ɵngcc0.ɵɵtemplate(2, ApplicationPropertiesComponent_div_8_div_2_Template, 68, 51, "div", 9);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(3, ApplicationPropertiesComponent_div_8_div_3_Template, 12, 11, "div", 10);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(4, _c8, ctx_r2.isActivityLogSupported));
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("formGroup", ctx_r2.formGroup);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r2.isLoading);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r2.isActivityLogSupported);
} }
var _c9 = function (a0, a1) { return { "col-md-8": a0, "col-md-12": a1 }; };
function MicroserviceListComponent_c8y_action_bar_item_8_Template(rf, ctx) { if (rf & 1) {
    var _r5 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-action-bar-item", 12);
    ɵngcc0.ɵɵelementStart(1, "button", 4);
    ɵngcc0.ɵɵlistener("click", function MicroserviceListComponent_c8y_action_bar_item_8_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r5); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.addMicroservice(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 13);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵproperty("placement", "right")("priority", 100);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 4, "Add microservice"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(5, 6, "Add microservice"), " ");
} }
function MicroserviceListComponent_div_19_Template(rf, ctx) { if (rf & 1) {
    var _r7 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 14);
    ɵngcc0.ɵɵelement(1, "h1", 15);
    ɵngcc0.ɵɵelementStart(2, "h3", 16);
    ɵngcc0.ɵɵtext(3, "No microservices to display.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "p", 16);
    ɵngcc0.ɵɵtext(5, "Add your first microservice by clicking below.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(6, "p");
    ɵngcc0.ɵɵelementStart(7, "button", 17);
    ɵngcc0.ɵɵlistener("click", function MicroserviceListComponent_div_19_Template_button_click_7_listener() { ɵngcc0.ɵɵrestoreView(_r7); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.addMicroservice(); });
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵtext(9);
    ɵngcc0.ɵɵpipe(10, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(7);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(8, 2, "Add microservice"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(10, 4, "Add microservice"), " ");
} }
function MicroserviceListComponent_div_22_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 18);
    ɵngcc0.ɵɵelementStart(1, "div", 19);
    ɵngcc0.ɵɵelement(2, "div", 20);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "div", 21);
    ɵngcc0.ɵɵelementStart(6, "div", 22);
    ɵngcc0.ɵɵtext(7);
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(9, "div", 23);
    ɵngcc0.ɵɵtext(10);
    ɵngcc0.ɵɵpipe(11, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(12, "div", 23);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 3, "Microservice"), " ");
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(8, 5, "Description"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(11, 7, "Type"));
} }
function MicroserviceListComponent_div_24_Template(rf, ctx) { if (rf & 1) {
    var _r10 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 24);
    ɵngcc0.ɵɵelementStart(1, "c8y-application-card", 25);
    ɵngcc0.ɵɵlistener("onAppDeleted", function MicroserviceListComponent_div_24_Template_c8y_application_card_onAppDeleted_1_listener() { ɵngcc0.ɵɵrestoreView(_r10); var ctx_r9 = ɵngcc0.ɵɵnextContext(); return ctx_r9.loadMicroservices(); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var microservice_r8 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("app", microservice_r8);
} }
function PackagesListComponent_div_26_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 12);
    ɵngcc0.ɵɵelementStart(1, "div", 13);
    ɵngcc0.ɵɵelement(2, "div", 14);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "div", 15);
    ɵngcc0.ɵɵelementStart(6, "div", 16);
    ɵngcc0.ɵɵtext(7);
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(9, "div", 17);
    ɵngcc0.ɵɵtext(10);
    ɵngcc0.ɵɵpipe(11, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(12, "div", 17);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 3, "Package"), " ");
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(8, 5, "Description"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(11, 7, "Type"));
} }
function PackagesListComponent_div_28_Template(rf, ctx) { if (rf & 1) {
    var _r5 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 18);
    ɵngcc0.ɵɵelementStart(1, "c8y-application-card", 19);
    ɵngcc0.ɵɵlistener("onAppDeleted", function PackagesListComponent_div_28_Template_c8y_application_card_onAppDeleted_1_listener() { ɵngcc0.ɵɵrestoreView(_r5); var ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.loadPackages(); });
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var app_r3 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("app", app_r3);
} }
function PackagesListComponent_div_30_Template(rf, ctx) { if (rf & 1) {
    var _r7 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 20);
    ɵngcc0.ɵɵelement(1, "h1", 21);
    ɵngcc0.ɵɵelementStart(2, "h3", 22);
    ɵngcc0.ɵɵtext(3, "No packages to display.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "p", 22);
    ɵngcc0.ɵɵtext(5, "Add your first package by clicking below.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(6, "p");
    ɵngcc0.ɵɵelementStart(7, "button", 23);
    ɵngcc0.ɵɵlistener("click", function PackagesListComponent_div_30_Template_button_click_7_listener() { ɵngcc0.ɵɵrestoreView(_r7); var ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.addPackage(); });
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵtext(9);
    ɵngcc0.ɵɵpipe(10, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(7);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(8, 2, "Add package"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(10, 4, "Add package"), " ");
} }
function PackageDetailsComponent_p_33_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "p");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate(ctx_r0.description);
} }
function PackageDetailsComponent_p_34_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "p", 27);
    ɵngcc0.ɵɵelementStart(1, "em");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(3, 1, "No description available."));
} }
function PackageDetailsComponent_div_35_Template(rf, ctx) { if (rf & 1) {
    var _r6 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 28);
    ɵngcc0.ɵɵelementStart(1, "button", 29);
    ɵngcc0.ɵɵlistener("click", function PackageDetailsComponent_div_35_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r6); var ctx_r5 = ɵngcc0.ɵɵnextContext(); return ctx_r5.deploy(); });
    ɵngcc0.ɵɵelement(2, "i", 30);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 1, "Deploy application"), " ");
} }
function PackageDetailsComponent_div_45_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 31);
    ɵngcc0.ɵɵelement(1, "h1", 32);
    ɵngcc0.ɵɵelementStart(2, "div");
    ɵngcc0.ɵɵelementStart(3, "h3", 33);
    ɵngcc0.ɵɵtext(4, "No README.md found.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "p", 34);
    ɵngcc0.ɵɵtext(6, " To view the contents of \"README\", add the file \"README.md\" to the package. ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} }
function PackageDetailsComponent_div_54_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 31);
    ɵngcc0.ɵɵelement(1, "h1", 35);
    ɵngcc0.ɵɵelementStart(2, "div");
    ɵngcc0.ɵɵelementStart(3, "h3", 33);
    ɵngcc0.ɵɵtext(4, "No plugins to display.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "p", 34);
    ɵngcc0.ɵɵtext(6, " This package doesn't contain plugins. ");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} }
function DeployApplicationComponent_ng_container_7_p_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "p", 9);
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r3 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r3.headerText), " ");
} }
function DeployApplicationComponent_ng_container_7_c8y_application_properties_form_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-application-properties-form", 10);
} if (rf & 2) {
    var ctx_r4 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵproperty("application", ctx_r4.newAppConfig);
} }
function DeployApplicationComponent_ng_container_7_c8y_progress_bar_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-progress-bar", 11);
    ɵngcc0.ɵɵpipe(1, "translate");
} if (rf & 2) {
    ɵngcc0.ɵɵproperty("message", ɵngcc0.ɵɵpipeBind1(1, 1, "Deploying\u2026"));
} }
function DeployApplicationComponent_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵelementStart(1, "div", 5);
    ɵngcc0.ɵɵtemplate(2, DeployApplicationComponent_ng_container_7_p_2_Template, 3, 3, "p", 6);
    ɵngcc0.ɵɵtemplate(3, DeployApplicationComponent_ng_container_7_c8y_application_properties_form_3_Template, 1, 1, "c8y-application-properties-form", 7);
    ɵngcc0.ɵɵtemplate(4, DeployApplicationComponent_ng_container_7_c8y_progress_bar_4_Template, 2, 3, "c8y-progress-bar", 8);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r0.inProgress);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", !ctx_r0.inProgress);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.inProgress);
} }
function DeployApplicationComponent_ng_container_8_div_1_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 14);
    ɵngcc0.ɵɵelementStart(1, "div", 15);
    ɵngcc0.ɵɵelement(2, "c8y-operation-result", 16);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate3("text", "", ɵngcc0.ɵɵpipeBind1(3, 5, "Application"), " ", ctx_r6.package.name, " ", ɵngcc0.ɵɵpipeBind1(4, 7, "created"), "");
    ɵngcc0.ɵɵproperty("size", 84)("vertical", true);
} }
function DeployApplicationComponent_ng_container_8_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 17);
    ɵngcc0.ɵɵelement(1, "c8y-operation-result", 18);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("text", ɵngcc0.ɵɵpipeBind1(2, 3, "Application creation failed"));
    ɵngcc0.ɵɵproperty("size", 84)("vertical", true);
} }
function DeployApplicationComponent_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementContainerStart(0);
    ɵngcc0.ɵɵtemplate(1, DeployApplicationComponent_ng_container_8_div_1_Template, 5, 9, "div", 12);
    ɵngcc0.ɵɵtemplate(2, DeployApplicationComponent_ng_container_8_ng_template_2_Template, 3, 5, "ng-template", null, 13, ɵngcc0.ɵɵtemplateRefExtractor);
    ɵngcc0.ɵɵelementContainerEnd();
} if (rf & 2) {
    var _r7 = ɵngcc0.ɵɵreference(3);
    var ctx_r1 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r1.deployedWithSuccess)("ngIfElse", _r7);
} }
function DeployApplicationComponent_button_14_Template(rf, ctx) { if (rf & 1) {
    var _r10 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 19);
    ɵngcc0.ɵɵlistener("click", function DeployApplicationComponent_button_14_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r10); var ctx_r9 = ɵngcc0.ɵɵnextContext(); return ctx_r9.deployApp(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 4, "Deploy"));
    ɵngcc0.ɵɵproperty("disabled", ctx_r2.inProgress)("ngClass", ɵngcc0.ɵɵpureFunction1(8, _c4, ctx_r2.inProgress));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(3, 6, "Deploy"), " ");
} }
function AddApplicationComponent_c8y_form_group_7_c8y_message_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "c8y-message");
    ɵngcc0.ɵɵtext(1);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(2, 1, ctx_r7.errorMessage), " ");
} }
function AddApplicationComponent_c8y_form_group_7_Template(rf, ctx) { if (rf & 1) {
    var _r9 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "c8y-form-group", 7);
    ɵngcc0.ɵɵelementStart(1, "c8y-drop-area", 8);
    ɵngcc0.ɵɵlistener("dropped", function AddApplicationComponent_c8y_form_group_7_Template_c8y_drop_area_dropped_1_listener($event) { ɵngcc0.ɵɵrestoreView(_r9); var ctx_r8 = ɵngcc0.ɵɵnextContext(); return ctx_r8.onFileDroppedEvent($event); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵpipe(3, "async");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "c8y-messages");
    ɵngcc0.ɵɵtemplate(5, AddApplicationComponent_c8y_form_group_7_c8y_message_5_Template, 3, 3, "c8y-message", 9);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("hasError", ctx_r0.errorMessage);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("accept", ".zip")("loading", ctx_r0.isLoading)("maxAllowedFiles", 1)("message", ɵngcc0.ɵɵpipeBind1(2, 7, "Upload a *.zip file"))("progress", ɵngcc0.ɵɵpipeBind1(3, 9, ctx_r0.progress));
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r0.errorMessage);
} }
function AddApplicationComponent_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 10);
    ɵngcc0.ɵɵelement(1, "c8y-operation-result", 11);
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r2 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("text", ɵngcc0.ɵɵpipeBind1(2, 3, ctx_r2.successText));
    ɵngcc0.ɵɵproperty("vertical", true)("size", 84);
} }
function AddApplicationComponent_button_11_Template(rf, ctx) { if (rf & 1) {
    var _r11 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 12);
    ɵngcc0.ɵɵlistener("click", function AddApplicationComponent_button_11_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r11); var ctx_r10 = ɵngcc0.ɵɵnextContext(); return ctx_r10.back(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2, " Back ");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 1, "Back"));
} }
function AddApplicationComponent_button_12_Template(rf, ctx) { if (rf & 1) {
    var _r13 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 12);
    ɵngcc0.ɵɵlistener("click", function AddApplicationComponent_button_12_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r13); var ctx_r12 = ɵngcc0.ɵɵnextContext(); return ctx_r12.cancel(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2, " Cancel ");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 1, "Cancel"));
} }
function AddApplicationComponent_button_13_Template(rf, ctx) { if (rf & 1) {
    var _r15 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 12);
    ɵngcc0.ɵɵlistener("click", function AddApplicationComponent_button_13_Template_button_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r15); var ctx_r14 = ɵngcc0.ɵɵnextContext(); return ctx_r14.done(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵtext(2, " Done ");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 1, "Done"));
} }
function AddApplicationComponent_a_14_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "a", 13);
    ɵngcc0.ɵɵlistener("click", function AddApplicationComponent_a_14_Template_a_click_0_listener($event) { return $event.stopPropagation(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵelement(2, "i", 14);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(1, 3, "Open"));
    ɵngcc0.ɵɵproperty("href", ctx_r6.getHref(ctx_r6.createdApp), ɵngcc0.ɵɵsanitizeUrl);
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 5, "Open"), " ");
} }
function ApplicationCardComponent_c8y_app_icon_3_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-app-icon", 20);
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("app", ctx_r0.app)("contextPath", ctx_r0.app.contextPath)("name", ctx_r0.app.name);
} }
function ApplicationCardComponent_i_4_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 21);
} }
function ApplicationCardComponent_i_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 22);
} }
function ApplicationCardComponent_i_6_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 23);
} }
function ApplicationCardComponent_i_7_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "i", 24);
} }
function ApplicationCardComponent_small_14_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "small", 25);
    ɵngcc0.ɵɵelementStart(1, "em");
    ɵngcc0.ɵɵtext(2);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r5 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(ctx_r5.app.manifest.version);
} }
function ApplicationCardComponent_div_17_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 26);
    ɵngcc0.ɵɵelement(1, "div", 27);
    ɵngcc0.ɵɵelementStart(2, "p", 28);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r6 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 1, ctx_r6.app.description));
} }
function ApplicationCardComponent_button_24_Template(rf, ctx) { if (rf & 1) {
    var _r10 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "button", 29);
    ɵngcc0.ɵɵlistener("click", function ApplicationCardComponent_button_24_Template_button_click_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r10); var ctx_r9 = ɵngcc0.ɵɵnextContext(); ctx_r9.openApp(); return $event.stopPropagation(); });
    ɵngcc0.ɵɵpipe(1, "translate");
    ɵngcc0.ɵɵelement(2, "i", 30);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r7 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("disabled", ctx_r7.disableOpenInBrowser)("title", ɵngcc0.ɵɵpipeBind1(1, 3, ctx_r7.openButtonTitle));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 5, "Open"), " ");
} }
function ApplicationCardComponent_div_26_ul_5_li_1_Template(rf, ctx) { if (rf & 1) {
    var _r15 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "li");
    ɵngcc0.ɵɵelementStart(1, "button", 38);
    ɵngcc0.ɵɵlistener("click", function ApplicationCardComponent_div_26_ul_5_li_1_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r15); var ctx_r14 = ɵngcc0.ɵɵnextContext(3); return ctx_r14.detail(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 39);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 2, "Edit"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(5, 4, "Edit"), " ");
} }
function ApplicationCardComponent_div_26_ul_5_li_2_Template(rf, ctx) { if (rf & 1) {
    var _r17 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "li");
    ɵngcc0.ɵɵelementStart(1, "button", 40);
    ɵngcc0.ɵɵlistener("click", function ApplicationCardComponent_div_26_ul_5_li_2_Template_button_click_1_listener() { ɵngcc0.ɵɵrestoreView(_r17); var ctx_r16 = ɵngcc0.ɵɵnextContext(3); return ctx_r16.delete(); });
    ɵngcc0.ɵɵpipe(2, "translate");
    ɵngcc0.ɵɵelement(3, "i", 41);
    ɵngcc0.ɵɵtext(4);
    ɵngcc0.ɵɵpipe(5, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(2, 2, "Delete"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(5, 4, "Delete"), " ");
} }
function ApplicationCardComponent_div_26_ul_5_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "ul", 36);
    ɵngcc0.ɵɵtemplate(1, ApplicationCardComponent_div_26_ul_5_li_1_Template, 6, 6, "li", 37);
    ɵngcc0.ɵɵtemplate(2, ApplicationCardComponent_div_26_ul_5_li_2_Template, 6, 6, "li", 37);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r11.canEdit);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngIf", ctx_r11.canDelete);
} }
function ApplicationCardComponent_div_26_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 31);
    ɵngcc0.ɵɵelementStart(1, "div", 32);
    ɵngcc0.ɵɵelementStart(2, "button", 33);
    ɵngcc0.ɵɵpipe(3, "translate");
    ɵngcc0.ɵɵelement(4, "i", 34);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtemplate(5, ApplicationCardComponent_div_26_ul_5_Template, 3, 2, "ul", 35);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(3, 1, "Settings"));
} }
function FeatureListComponent_div_19_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 11);
    ɵngcc0.ɵɵelement(1, "h1", 12);
    ɵngcc0.ɵɵelementStart(2, "h3", 13);
    ɵngcc0.ɵɵtext(3, "No features to display.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "p", 13);
    ɵngcc0.ɵɵtext(5, "No additional features are subscribed to the tenant.");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} }
function FeatureListComponent_div_22_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 14);
    ɵngcc0.ɵɵelementStart(1, "div", 15);
    ɵngcc0.ɵɵelement(2, "div", 16);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵpipe(4, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(5, "div", 17);
    ɵngcc0.ɵɵelementStart(6, "div", 18);
    ɵngcc0.ɵɵtext(7);
    ɵngcc0.ɵɵpipe(8, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(9, "div", 19);
    ɵngcc0.ɵɵtext(10);
    ɵngcc0.ɵɵpipe(11, "translate");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelement(12, "div", 19);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(4, 3, "Feature"), " ");
    ɵngcc0.ɵɵadvance(4);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(8, 5, "Description"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(11, 7, "Type"));
} }
function FeatureListComponent_div_24_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 20);
    ɵngcc0.ɵɵelement(1, "c8y-application-card", 21);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var feature_r3 = ctx.$implicit;
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("app", feature_r3)("canEdit", false);
} }
function PackageArchivesComponent_c8y_activity_log_23_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelement(0, "c8y-activity-log", 9);
} if (rf & 2) {
    var ctx_r0 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("application", ctx_r0.application);
} }
'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (Object.prototype.hasOwnProperty.call(b, p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __rest(s, e) {
        var t = {};
        for (var p in s)
            if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
                t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                    t[p[i]] = s[p[i]];
            }
        return t;
    }
    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }
    function __param(paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); };
    }
    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(metadataKey, metadataValue);
    }
    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try {
                step(generator.next(value));
            }
            catch (e) {
                reject(e);
            } }
            function rejected(value) { try {
                step(generator["throw"](value));
            }
            catch (e) {
                reject(e);
            } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }
    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function () { if (t[0] & 1)
                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f)
                throw new TypeError("Generator is already executing.");
            while (_)
                try {
                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                        return t;
                    if (y = 0, t)
                        op = [op[0] & 2, t.value];
                    switch (op[0]) {
                        case 0:
                        case 1:
                            t = op;
                            break;
                        case 4:
                            _.label++;
                            return { value: op[1], done: false };
                        case 5:
                            _.label++;
                            y = op[1];
                            op = [0];
                            continue;
                        case 7:
                            op = _.ops.pop();
                            _.trys.pop();
                            continue;
                        default:
                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                                _ = 0;
                                continue;
                            }
                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                _.label = op[1];
                                break;
                            }
                            if (op[0] === 6 && _.label < t[1]) {
                                _.label = t[1];
                                t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2];
                                _.ops.push(op);
                                break;
                            }
                            if (t[2])
                                _.ops.pop();
                            _.trys.pop();
                            continue;
                    }
                    op = body.call(thisArg, _);
                }
                catch (e) {
                    op = [6, e];
                    y = 0;
                }
                finally {
                    f = t = 0;
                }
            if (op[0] & 5)
                throw op[1];
            return { value: op[0] ? op[1] : void 0, done: true };
        }
    }
    var __createBinding = Object.create ? (function (o, m, k, k2) {
        if (k2 === undefined)
            k2 = k;
        Object.defineProperty(o, k2, { enumerable: true, get: function () { return m[k]; } });
    }) : (function (o, m, k, k2) {
        if (k2 === undefined)
            k2 = k;
        o[k2] = m[k];
    });
    function __exportStar(m, o) {
        for (var p in m)
            if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p))
                __createBinding(o, m, p);
    }
    function __values(o) {
        var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
        if (m)
            return m.call(o);
        if (o && typeof o.length === "number")
            return {
                next: function () {
                    if (o && i >= o.length)
                        o = void 0;
                    return { value: o && o[i++], done: !o };
                }
            };
        throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
    }
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    /** @deprecated */
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }
    /** @deprecated */
    function __spreadArrays() {
        for (var s = 0, i = 0, il = arguments.length; i < il; i++)
            s += arguments[i].length;
        for (var r = Array(s), k = 0, i = 0; i < il; i++)
            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
                r[k] = a[j];
        return r;
    }
    function __spreadArray(to, from, pack) {
        if (pack || arguments.length === 2)
            for (var i = 0, l = from.length, ar; i < l; i++) {
                if (ar || !(i in from)) {
                    if (!ar)
                        ar = Array.prototype.slice.call(from, 0, i);
                    ar[i] = from[i];
                }
            }
        return to.concat(ar || Array.prototype.slice.call(from));
    }
    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }
    function __asyncGenerator(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n])
            i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try {
            step(g[n](v));
        }
        catch (e) {
            settle(q[0][3], e);
        } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length)
            resume(q[0][0], q[0][1]); }
    }
    function __asyncDelegator(o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
    }
    function __asyncValues(o) {
        if (!Symbol.asyncIterator)
            throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function (v) { resolve({ value: v, done: d }); }, reject); }
    }
    function __makeTemplateObject(cooked, raw) {
        if (Object.defineProperty) {
            Object.defineProperty(cooked, "raw", { value: raw });
        }
        else {
            cooked.raw = raw;
        }
        return cooked;
    }
    ;
    var __setModuleDefault = Object.create ? (function (o, v) {
        Object.defineProperty(o, "default", { enumerable: true, value: v });
    }) : function (o, v) {
        o["default"] = v;
    };
    function __importStar(mod) {
        if (mod && mod.__esModule)
            return mod;
        var result = {};
        if (mod != null)
            for (var k in mod)
                if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k))
                    __createBinding(result, mod, k);
        __setModuleDefault(result, mod);
        return result;
    }
    function __importDefault(mod) {
        return (mod && mod.__esModule) ? mod : { default: mod };
    }
    function __classPrivateFieldGet(receiver, state, kind, f) {
        if (kind === "a" && !f)
            throw new TypeError("Private accessor was defined without a getter");
        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
            throw new TypeError("Cannot read private member from an object whose class did not declare it");
        return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
    }
    function __classPrivateFieldSet(receiver, state, value, kind, f) {
        if (kind === "m")
            throw new TypeError("Private method is not writable");
        if (kind === "a" && !f)
            throw new TypeError("Private accessor was defined without a setter");
        if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
            throw new TypeError("Cannot write private member to an object whose class did not declare it");
        return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
    }

    /** Wizard types  */
    var Wizards;
    (function (Wizards) {
        Wizards["APPLICATION_UPLOAD"] = "applicationUpload";
        Wizards["MICROSERVICE_UPLOAD"] = "microserviceUpload";
    })(Wizards || (Wizards = {}));
    var ERROR_TYPE;
    (function (ERROR_TYPE) {
        ERROR_TYPE["TYPE_VALIDATION"] = "TYPE_VALIDATION";
        ERROR_TYPE["ALREADY_SUBSCRIBED"] = "ALREADY_SUBSCRIBED";
        ERROR_TYPE["INTERNAL_ERROR"] = "INTERNAL_ERROR";
        ERROR_TYPE["NO_MANIFEST_FILE"] = "NO_MANIFEST_FILE";
        ERROR_TYPE["INVALID_PACKAGE"] = "INVALID_PACKAGE";
        ERROR_TYPE["INVALID_APPLICATION"] = "INVALID_APPLICATION";
    })(ERROR_TYPE || (ERROR_TYPE = {}));

    var _a;
    var ERROR_MESSAGES = (_a = {},
        _a[ERROR_TYPE.TYPE_VALIDATION] = ngxComponents.gettext('Wrong file format. Expected a *.zip file with a valid manifest.'),
        _a[ERROR_TYPE.ALREADY_SUBSCRIBED] = ngxComponents.gettext('Could not subscribe to the microservice because another application with the same context path is already subscribed.'),
        _a[ERROR_TYPE.NO_MANIFEST_FILE] = ngxComponents.gettext('Could not find a manifest.'),
        _a[ERROR_TYPE.INVALID_PACKAGE] = ngxComponents.gettext('You have not uploaded a valid package.'),
        _a[ERROR_TYPE.INVALID_APPLICATION] = ngxComponents.gettext('You have not uploaded a valid application.'),
        _a[ERROR_TYPE.INTERNAL_ERROR] = ngxComponents.gettext('An internal error occurred, try to upload again.'),
        _a);
    var APP_STATE = {
        SUBSCRIBED: {
            label: ngxComponents.gettext('Subscribed`application`'),
            class: 'label-primary'
        },
        CUSTOM: {
            label: ngxComponents.gettext('Custom`application`'),
            class: 'label-info'
        },
        EXTERNAL: {
            label: ngxComponents.gettext('External`application`'),
            class: 'label-warning'
        },
        UNPACKED: {
            label: ngxComponents.gettext('Unpacked`application`'),
            class: 'label-success'
        },
        PACKAGE_APP: {
            label: ngxComponents.gettext('Application'),
            class: 'label-success'
        },
        PACKAGE_PLUGIN: {
            label: ngxComponents.gettext('Plugins'),
            class: 'label-info'
        }
    };
    var ɵ0$1 = function (repository) { return ((repository === null || repository === void 0 ? void 0 : repository.url) ? repository.url : repository); }, ɵ1$1 = function (e, link) { return window.open(link.value, '_blank', 'noopener,noreferrer'); }, ɵ2$1 = function (e, link) { return window.open(link.value, '_blank', 'noopener,noreferrer'); };
    var packageProperties = [
        {
            label: ngxComponents.gettext('Version'),
            key: 'version'
        },
        {
            label: ngxComponents.gettext('Author'),
            key: 'author'
        },
        {
            label: ngxComponents.gettext('Keywords'),
            key: 'keywords'
        },
        {
            label: ngxComponents.gettext('Source'),
            key: 'repository',
            transform: ɵ0$1,
            type: 'link',
            action: ɵ1$1
        },
        {
            label: ngxComponents.gettext('Homepage'),
            key: 'homepage',
            type: 'link',
            action: ɵ2$1
        },
        {
            label: ngxComponents.gettext('Required platform version'),
            key: 'requiredPlatformVersion'
        },
        {
            label: ngxComponents.gettext('License'),
            key: 'license'
        }
    ];

    var CUMULOCITY_JSON = 'cumulocity.json';
    var EcosystemService = /** @class */ (function () {
        function EcosystemService(modal, alertService, humanizeAppName, translateService, applicationService, appStateService, zipService, tenantService) {
            this.modal = modal;
            this.alertService = alertService;
            this.humanizeAppName = humanizeAppName;
            this.translateService = translateService;
            this.applicationService = applicationService;
            this.appStateService = appStateService;
            this.zipService = zipService;
            this.tenantService = tenantService;
            this.appDeleted = new core.EventEmitter();
            this.progress = new rxjs.BehaviorSubject(null);
        }
        EcosystemService.prototype.getUniqueAppConfig = function (srcApp, existingApps) {
            var app = {
                name: srcApp.name,
                key: srcApp.key,
                contextPath: srcApp.contextPath
            };
            for (var retryNo = 0; retryNo < 9;) {
                if (this.checkIfAppNameKeyPathExists(existingApps, app, retryNo)) {
                    retryNo++;
                    app = {
                        name: [srcApp.name, retryNo].join('-'),
                        key: [srcApp.key, retryNo].join('-'),
                        contextPath: [srcApp.contextPath, retryNo].join('-')
                    };
                }
                else {
                    return app;
                }
            }
            return app;
        };
        EcosystemService.prototype.getApplication = function (appId) {
            return this.applicationService.detail(appId).then(function (res) { return res.data; });
        };
        EcosystemService.prototype.getApplications = function (customFilter) {
            if (customFilter === void 0) { customFilter = {}; }
            var filter = {
                pageSize: 2000,
                withTotalPages: true
            };
            Object.assign(filter, customFilter);
            var currentTenant = this.appStateService.currentTenant.value;
            return this.applicationService.listByTenant(currentTenant.name, filter);
        };
        EcosystemService.prototype.getMicroservices = function () {
            return __awaiter(this, void 0, void 0, function () {
                var apps, microservices;
                var _this = this;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.getApplications()];
                        case 1:
                            apps = (_c.sent()).data;
                            microservices = apps.filter(function (app) { return _this.isMicroservice(app); });
                            return [2 /*return*/, microservices.sort(function (a, b) { return a.name.localeCompare(b.name); })];
                    }
                });
            });
        };
        EcosystemService.prototype.getWebApplications = function (customFilter) {
            if (customFilter === void 0) { customFilter = {}; }
            return __awaiter(this, void 0, void 0, function () {
                var apps, webApps;
                var _this = this;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.getApplications(customFilter)];
                        case 1:
                            apps = (_c.sent()).data;
                            webApps = apps.filter(function (app) { return _this.isApplication(app); });
                            this.appsGroupedByContextPath = lodashEs.groupBy(webApps, 'contextPath');
                            return [2 /*return*/, webApps.sort(function (a, b) { return a.name.localeCompare(b.name); })];
                    }
                });
            });
        };
        EcosystemService.prototype.getFeatureApplications = function (customFilter) {
            if (customFilter === void 0) { customFilter = {}; }
            return __awaiter(this, void 0, void 0, function () {
                var apps, webApps;
                var _this = this;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.getApplications(customFilter)];
                        case 1:
                            apps = (_c.sent()).data;
                            webApps = apps.filter(function (app) { return _this.isFeature(app); });
                            return [2 /*return*/, webApps.sort(function (a, b) { return a.name.localeCompare(b.name); })];
                    }
                });
            });
        };
        EcosystemService.prototype.getPackageApplications = function (customFilter) {
            if (customFilter === void 0) { customFilter = {}; }
            return __awaiter(this, void 0, void 0, function () {
                var apps, webApps;
                var _this = this;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.getApplications(customFilter)];
                        case 1:
                            apps = (_c.sent()).data;
                            webApps = apps.filter(function (app) { return _this.isPackage(app); });
                            return [2 /*return*/, webApps.sort(function (a, b) { return a.name.localeCompare(b.name); })];
                    }
                });
            });
        };
        EcosystemService.prototype.isMicroserviceHostingAllowed = function () {
            return __awaiter(this, void 0, void 0, function () {
                var apps;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.applicationService.listByName('feature-microservice-hosting')];
                        case 1:
                            apps = (_c.sent()).data;
                            return [2 /*return*/, !!apps.filter(function (app) { var _a, _b; return ((_b = (_a = app.owner) === null || _a === void 0 ? void 0 : _a.tenant) === null || _b === void 0 ? void 0 : _b.id) === 'management'; }).length];
                    }
                });
            });
        };
        EcosystemService.prototype.canOpenAppInBrowser = function (app) {
            var isNotAFeature = !this.isFeature(app);
            var hasProperType = [
                client.ApplicationType.HOSTED,
                client.ApplicationType.EXTERNAL,
                client.ApplicationType.REPOSITORY
            ].includes(app.type);
            var isNotAPackage = !this.isPackage(app);
            return isNotAFeature && hasProperType && isNotAPackage;
        };
        EcosystemService.prototype.canDeleteApp = function (app) {
            return !this.isCurrentApp(app) && this.isOwner(app);
        };
        EcosystemService.prototype.isOwner = function (app) {
            var currentTenant = this.appStateService.currentTenant.value;
            var appOwner = lodashEs.get(app, 'owner.tenant.id');
            return currentTenant.name === appOwner;
        };
        EcosystemService.prototype.isFeature = function (app) {
            return !!app.name.match(/feature-/);
        };
        EcosystemService.prototype.isMicroservice = function (app) {
            return app.type === 'MICROSERVICE';
        };
        EcosystemService.prototype.isExternal = function (app) {
            return app.type === 'EXTERNAL';
        };
        EcosystemService.prototype.isPackage = function (app) {
            var _a;
            return ((_a = app.manifest) === null || _a === void 0 ? void 0 : _a.isPackage) === true;
        };
        EcosystemService.prototype.cancelAppCreation = function (app) {
            if (this.xhr) {
                this.xhr.abort();
            }
            if (app) {
                this.applicationService.delete(app);
            }
        };
        EcosystemService.prototype.updateUploadProgress = function (event) {
            if (event.lengthComputable) {
                var currentProgress = this.progress.value;
                this.progress.next(currentProgress + (event.loaded / event.total) * (95 - currentProgress));
            }
        };
        EcosystemService.prototype.setAppActiveVersion = function (app, activeVersionId) {
            return this.applicationService.update({ id: app.id, activeVersionId: activeVersionId });
        };
        EcosystemService.prototype.getHumanizedAppName = function (app) {
            return this.humanizeAppName.transform(app.name).pipe(operators.debounceTime(250), operators.take(1)).toPromise();
        };
        EcosystemService.prototype.createConfig = function (app, formGroupValue) {
            var id = app.id, manifest = app.manifest;
            var config = lodashEs.pick(formGroupValue, ['name', 'key', 'contextPath']);
            config = Object.assign(Object.assign({}, config), { setup: true, id: id, description: manifest.description });
            return config;
        };
        EcosystemService.prototype.updateAppManifest = function (application, sourcePackage) {
            return __awaiter(this, void 0, void 0, function () {
                var id, cleanedApp;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            id = application.id;
                            cleanedApp = this.removeAppProperties(application);
                            cleanedApp.setup = true;
                            cleanedApp.manifest.isPackage = false;
                            cleanedApp.manifest.source = sourcePackage.id;
                            return [4 /*yield*/, this.applicationService
                                    .binary(id)
                                    .updateFiles([{ path: CUMULOCITY_JSON, contents: JSON.stringify(cleanedApp) }])];
                        case 1: return [2 /*return*/, _c.sent()];
                    }
                });
            });
        };
        EcosystemService.prototype.listArchives = function (appId) {
            return __awaiter(this, void 0, void 0, function () {
                var filter;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            filter = {
                                pageSize: 100
                            };
                            return [4 /*yield*/, this.applicationService.binary(appId).list(filter)];
                        case 1: return [2 /*return*/, (_c.sent()).data];
                    }
                });
            });
        };
        EcosystemService.prototype.deleteArchive = function (archive, app) {
            return __awaiter(this, void 0, void 0, function () {
                var humanizedArchiveName, ex_1;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.getHumanizedAppName(archive)];
                        case 1:
                            humanizedArchiveName = _c.sent();
                            _c.label = 2;
                        case 2:
                            _c.trys.push([2, 5, , 6]);
                            return [4 /*yield*/, this.modal.confirm(ngxComponents.gettext('Delete archive'), this.translateService.instant(ngxComponents.gettext("You are about to delete archive \"{{ humanizedArchiveName }}\". Do you want to proceed?"), { humanizedArchiveName: humanizedArchiveName }), ngxComponents.Status.DANGER, { ok: ngxComponents.gettext('Delete'), cancel: ngxComponents.gettext('Cancel') })];
                        case 3:
                            _c.sent();
                            return [4 /*yield*/, this.applicationService.binary(app).delete(archive.id)];
                        case 4:
                            _c.sent();
                            this.alertService.success(ngxComponents.gettext('Archive deleted.'));
                            return [3 /*break*/, 6];
                        case 5:
                            ex_1 = _c.sent();
                            if (ex_1) {
                                this.alertService.danger(lodashEs.get(ex_1, 'data.message'), ex_1.data);
                            }
                            throw new Error('Cancelled');
                        case 6: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.downloadArchive = function (app, archive) {
            return __awaiter(this, void 0, void 0, function () {
                var binary, fileBinary, e_1;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _c.trys.push([0, 2, , 3]);
                            return [4 /*yield*/, this.getBinary(app, archive)];
                        case 1:
                            binary = _c.sent();
                            fileBinary = new Blob([binary], { type: 'application/x-zip-compressed' });
                            FileSaver.saveAs(fileBinary, archive.name);
                            return [3 /*break*/, 3];
                        case 2:
                            e_1 = _c.sent();
                            return [3 /*break*/, 3];
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.updateApp = function (app, deleteOnFailure) {
            if (deleteOnFailure === void 0) { deleteOnFailure = false; }
            return __awaiter(this, void 0, void 0, function () {
                var ex_2;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _c.trys.push([0, 2, , 5]);
                            return [4 /*yield*/, this.applicationService.update(app)];
                        case 1: return [2 /*return*/, _c.sent()];
                        case 2:
                            ex_2 = _c.sent();
                            this.alertService.addServerFailure(ex_2);
                            if (!deleteOnFailure) return [3 /*break*/, 4];
                            return [4 /*yield*/, this.applicationService.delete(app.id)];
                        case 3:
                            _c.sent();
                            throw new Error('Application creation failed.');
                        case 4: return [3 /*break*/, 5];
                        case 5: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.deleteApp = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                var humanizedAppName;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.getHumanizedAppName(app)];
                        case 1:
                            humanizedAppName = _c.sent();
                            return [4 /*yield*/, this.modal.confirm(ngxComponents.gettext('Delete application'), this.translateService.instant(ngxComponents.gettext("You are about to delete application \"{{ humanizedAppName }}\". Do you want to proceed?"), { humanizedAppName: humanizedAppName }), ngxComponents.Status.DANGER, { ok: ngxComponents.gettext('Delete'), cancel: ngxComponents.gettext('Cancel') })];
                        case 2:
                            _c.sent();
                            return [4 /*yield*/, this.applicationService.delete(app.id)];
                        case 3:
                            _c.sent();
                            this.alertService.success(ngxComponents.gettext('Application deleted.'));
                            this.appDeleted.emit(app);
                            return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.checkIfSubscribed = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                var currentTenant, subscribedApps;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0: return [4 /*yield*/, this.tenantService.current()];
                        case 1:
                            currentTenant = _c.sent();
                            subscribedApps = currentTenant.data.applications.references;
                            return [2 /*return*/, subscribedApps.some(function (application) { return application.application.id === app.id; })];
                    }
                });
            });
        };
        EcosystemService.prototype.subscribeApp = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                var currentTenant, ex_3;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            currentTenant = this.appStateService.currentTenant.value;
                            _c.label = 1;
                        case 1:
                            _c.trys.push([1, 3, , 4]);
                            return [4 /*yield*/, this.tenantService.subscribeApplication(currentTenant, app)];
                        case 2:
                            _c.sent();
                            this.alertService.success(ngxComponents.gettext('Successfully subscribed to application.'));
                            return [3 /*break*/, 4];
                        case 3:
                            ex_3 = _c.sent();
                            this.alertService.addServerFailure(ex_3);
                            return [3 /*break*/, 4];
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.unsubscribeApp = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                var currentTenant, ex_4;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            currentTenant = this.appStateService.currentTenant.value;
                            _c.label = 1;
                        case 1:
                            _c.trys.push([1, 3, , 4]);
                            return [4 /*yield*/, this.tenantService.unsubscribeApplication(currentTenant, app)];
                        case 2:
                            _c.sent();
                            this.alertService.success(ngxComponents.gettext('Successfully unsubscribed from application.'));
                            return [3 /*break*/, 4];
                        case 3:
                            ex_4 = _c.sent();
                            this.alertService.addServerFailure(ex_4);
                            return [3 /*break*/, 4];
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.isValidAppType = function (archive, appType) {
            return __awaiter(this, void 0, void 0, function () {
                var currentType, ex_5;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _c.trys.push([0, 2, , 3]);
                            return [4 /*yield*/, this.getAppType(archive)];
                        case 1:
                            currentType = _c.sent();
                            if (currentType !== appType) {
                                throw new Error(ERROR_TYPE.TYPE_VALIDATION);
                            }
                            else {
                                this.progress.next(this.progress.value + 10);
                                return [2 /*return*/, true];
                            }
                            return [3 /*break*/, 3];
                        case 2:
                            ex_5 = _c.sent();
                            throw new Error(ERROR_TYPE.TYPE_VALIDATION);
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.uploadArchiveToApp = function (archive, app) {
            return __awaiter(this, void 0, void 0, function () {
                var binaryService, binaryMo;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            binaryService = this.applicationService.binary(app);
                            this.xhr = binaryService.uploadWithProgressXhr(archive, this.updateUploadProgress.bind(this));
                            return [4 /*yield*/, binaryService.getXMLHttpResponse(this.xhr)];
                        case 1:
                            binaryMo = _c.sent();
                            return [4 /*yield*/, this.setAppActiveVersion(app, binaryMo.id)];
                        case 2: return [2 /*return*/, (_c.sent()).data];
                    }
                });
            });
        };
        EcosystemService.prototype.createAppForArchive = function (archive, isPackageTypeArchive) {
            if (isPackageTypeArchive === void 0) { isPackageTypeArchive = false; }
            return __awaiter(this, void 0, void 0, function () {
                var isPackage, appType, appModel, e_2, name, clearedName, key, contextPath, appToSave;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            isPackage = false;
                            return [4 /*yield*/, this.getAppType(archive)];
                        case 1:
                            appType = _c.sent();
                            appModel = {};
                            if (!(appType === client.ApplicationType.HOSTED)) return [3 /*break*/, 5];
                            _c.label = 2;
                        case 2:
                            _c.trys.push([2, 4, , 5]);
                            return [4 /*yield*/, this.getCumulocityJson(archive).toPromise()];
                        case 3:
                            appModel = _c.sent();
                            isPackage = appModel.isPackage;
                            return [3 /*break*/, 5];
                        case 4:
                            e_2 = _c.sent();
                            return [3 /*break*/, 5];
                        case 5:
                            name = this.getBaseNameFromArchiveOrAppModel(archive, appType, appModel);
                            clearedName = this.removeForbiddenCharacters(name);
                            key = this.getAppKey(appModel, clearedName);
                            contextPath = this.getContextPath(appModel, name);
                            appToSave = {
                                resourcesUrl: '/',
                                type: appType,
                                name: name,
                                key: key,
                                contextPath: contextPath
                            };
                            if (isPackageTypeArchive && !isPackage) {
                                throw new Error(ERROR_TYPE.INVALID_PACKAGE);
                            }
                            else if (!isPackageTypeArchive && isPackage) {
                                throw new Error(ERROR_TYPE.INVALID_APPLICATION);
                            }
                            return [4 /*yield*/, this.applicationService.create(Object.assign(Object.assign({}, appToSave), { manifest: { isPackage: isPackage } }))];
                        case 6: return [2 /*return*/, (_c.sent()).data];
                    }
                });
            });
        };
        EcosystemService.prototype.reactivateArchive = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                var ex_6;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _c.trys.push([0, 2, , 3]);
                            return [4 /*yield*/, this.applicationService.reactivateArchive(app.id)];
                        case 1:
                            _c.sent();
                            this.alertService.success(ngxComponents.gettext('Application reactivated.'));
                            return [3 /*break*/, 3];
                        case 2:
                            ex_6 = _c.sent();
                            this.alertService.addServerFailure(ex_6);
                            return [3 /*break*/, 3];
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.removeOldestArchive = function (app, archives) {
            return __awaiter(this, void 0, void 0, function () {
                var archiveToDelete, ex_7;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _c.trys.push([0, 3, , 4]);
                            return [4 /*yield*/, this.modal.confirm(ngxComponents.gettext('Delete oldest archive and continue'), ngxComponents.gettext('Up to 6 archives can be saved in the platform. If you upload a new archive, the oldest archive that is not active will be deleted. Do you want to proceed?'), ngxComponents.Status.INFO, { ok: ngxComponents.gettext('Delete and continue') })];
                        case 1:
                            _c.sent();
                            archiveToDelete = archives[archives.length - 2];
                            return [4 /*yield*/, this.applicationService.binary(app).delete(archiveToDelete.id)];
                        case 2:
                            _c.sent();
                            this.alertService.success(ngxComponents.gettext('Archive deleted.'));
                            return [3 /*break*/, 4];
                        case 3:
                            ex_7 = _c.sent();
                            this.alertService.addServerFailure(ex_7);
                            return [3 /*break*/, 4];
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        EcosystemService.prototype.getAppState = function (app) {
            if (!this.isOwner(app)) {
                return APP_STATE.SUBSCRIBED;
            }
            else if (this.isUnpacked(app)) {
                return APP_STATE.UNPACKED;
            }
            else if (app.type === client.ApplicationType.EXTERNAL) {
                return APP_STATE.EXTERNAL;
            }
            else if (this.isApplicationPackage(app)) {
                return APP_STATE.PACKAGE_APP;
            }
            else if (this.isPluginsPackage(app)) {
                return APP_STATE.PACKAGE_PLUGIN;
            }
            return APP_STATE.CUSTOM;
        };
        EcosystemService.prototype.isApplicationPackage = function (app) {
            return this.isPackage(app) && app.manifest.package === 'application';
        };
        EcosystemService.prototype.isPluginsPackage = function (app) {
            return this.isPackage(app) && app.manifest.package === 'plugin';
        };
        EcosystemService.prototype.isUnpacked = function (app) {
            var _a;
            return !!((_a = app.manifest) === null || _a === void 0 ? void 0 : _a.source);
        };
        EcosystemService.prototype.hasExports = function (app) {
            var _a, _b;
            return !!((_b = (_a = app.manifest) === null || _a === void 0 ? void 0 : _a.exports) === null || _b === void 0 ? void 0 : _b.length);
        };
        EcosystemService.prototype.isApplication = function (app) {
            return (app.type !== client.ApplicationType.MICROSERVICE && !this.isFeature(app) && !this.isPackage(app));
        };
        EcosystemService.prototype.isCustomMicroservice = function (app) {
            return this.isOwner(app) && app.type === client.ApplicationType.MICROSERVICE;
        };
        EcosystemService.prototype.isOverwrittenByCustomApp = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            if (!!this.appsGroupedByContextPath) return [3 /*break*/, 2];
                            return [4 /*yield*/, this.getWebApplications()];
                        case 1:
                            _c.sent();
                            _c.label = 2;
                        case 2: return [2 /*return*/, (app.contextPath &&
                                this.appsGroupedByContextPath[app.contextPath].length === 2 &&
                                !this.isOwner(app))];
                    }
                });
            });
        };
        EcosystemService.prototype.getAppKey = function (appModel, name) {
            var key = appModel === null || appModel === void 0 ? void 0 : appModel.key;
            if (!key) {
                key = lodashEs.kebabCase(name) + "-key";
            }
            return key;
        };
        EcosystemService.prototype.getContextPath = function (appModel, name) {
            return (appModel === null || appModel === void 0 ? void 0 : appModel.contextPath) || name.toLowerCase();
        };
        EcosystemService.prototype.removeForbiddenCharacters = function (str) {
            return str.replace(/[^a-zA-Z0-9-_]/g, '');
        };
        EcosystemService.prototype.isCurrentApp = function (app) {
            var currentApp = this.appStateService.state.app;
            return currentApp.contextPath === app.contextPath;
        };
        EcosystemService.prototype.getCumulocityJson = function (archive) {
            return this.zipService.getJsonData(archive, {
                filename: CUMULOCITY_JSON
            });
        };
        EcosystemService.prototype.getAppType = function (archive) {
            return this.getCumulocityJson(archive)
                .toPromise()
                .then(function (data) { return lodashEs.get(data, 'type') ||
                (lodashEs.get(data, 'apiVersion') ? client.ApplicationType.MICROSERVICE : client.ApplicationType.HOSTED); })
                .catch(function () { return client.ApplicationType.HOSTED; });
        };
        EcosystemService.prototype.getBinary = function (app, archive) {
            return __awaiter(this, void 0, void 0, function () {
                var binary, res, ex_8, msg;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _c.trys.push([0, 3, , 4]);
                            return [4 /*yield*/, this.applicationService.binary(app).downloadArchive(archive.id)];
                        case 1:
                            res = _c.sent();
                            return [4 /*yield*/, res.arrayBuffer()];
                        case 2:
                            binary = _c.sent();
                            return [3 /*break*/, 4];
                        case 3:
                            ex_8 = _c.sent();
                            msg = ngxComponents.gettext('Could not get the binary.');
                            this.alertService.danger(msg);
                            return [3 /*break*/, 4];
                        case 4: return [2 /*return*/, binary];
                    }
                });
            });
        };
        EcosystemService.prototype.getBaseNameFromArchiveOrAppModel = function (archive, appType, appModel) {
            var baseName = (appModel === null || appModel === void 0 ? void 0 : appModel.name) || archive.name.replace(/\.zip$/i, '');
            if (appType === 'MICROSERVICE') {
                baseName = baseName.replace(/-\d+\.\d+\.\d+(-SNAPSHOT)?$/, '');
            }
            return baseName;
        };
        EcosystemService.prototype.checkIfAppNameKeyPathExists = function (existingApps, app, retryNo) {
            return existingApps.find(function (existingApp) { return existingApp.name === app.name ||
                existingApp.key === app.key ||
                existingApp.contextPath === app.contextPath ||
                existingApp.name === [app.name, retryNo].join('-') ||
                existingApp.key === [app.key, retryNo].join('-') ||
                existingApp.contextPath === [app.contextPath, retryNo].join('-'); });
        };
        EcosystemService.prototype.removeAppProperties = function (app) {
            var tempApp = lodashEs.cloneDeep(app);
            var propertiesToRemove = ['id', 'owner', 'activeVersionId'];
            propertiesToRemove.forEach(function (prop) { return delete tempApp[prop]; });
            return tempApp;
        };
EcosystemService.ɵfac = function EcosystemService_Factory(t) { return new (t || EcosystemService)(ɵngcc0.ɵɵinject(ɵngcc1.ModalService), ɵngcc0.ɵɵinject(ɵngcc1.AlertService), ɵngcc0.ɵɵinject(ɵngcc1.HumanizeAppNamePipe), ɵngcc0.ɵɵinject(ɵngcc2.TranslateService), ɵngcc0.ɵɵinject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵinject(ɵngcc1.AppStateService), ɵngcc0.ɵɵinject(ɵngcc1.ZipService), ɵngcc0.ɵɵinject(ɵngcc3.TenantService)); };
EcosystemService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: EcosystemService, factory: function (t) { return EcosystemService.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EcosystemService, [{
        type: core.Injectable
    }], function () { return [{ type: ɵngcc1.ModalService }, { type: ɵngcc1.AlertService }, { type: ɵngcc1.HumanizeAppNamePipe }, { type: ɵngcc2.TranslateService }, { type: ɵngcc3.ApplicationService }, { type: ɵngcc1.AppStateService }, { type: ɵngcc1.ZipService }, { type: ɵngcc3.TenantService }]; }, null); })();
        return EcosystemService;
    }());
    EcosystemService.ctorParameters = function () { return [
        { type: ngxComponents.ModalService },
        { type: ngxComponents.AlertService },
        { type: ngxComponents.HumanizeAppNamePipe },
        { type: core$1.TranslateService },
        { type: client.ApplicationService },
        { type: ngxComponents.AppStateService },
        { type: ngxComponents.ZipService },
        { type: client.TenantService }
    ]; };

    var AddWebApplicationComponent = /** @class */ (function () {
        function AddWebApplicationComponent(ecosystemService) {
            var _this = this;
            this.ecosystemService = ecosystemService;
            this.headerText = ngxComponents.gettext('Upload web application');
            this.successText = ngxComponents.gettext('Application created');
            this.createApplicationHandler = function (f) { return _this.createApplication(f); };
            this.uploadApplicationHandler = function (f, app) { return _this.uploadApplication(f, app); };
        }
        AddWebApplicationComponent.prototype.createApplication = function (file) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.isValidAppType(file, client.ApplicationType.HOSTED)];
                        case 1:
                            _a.sent();
                            return [2 /*return*/, this.ecosystemService.createAppForArchive(file)];
                    }
                });
            });
        };
        AddWebApplicationComponent.prototype.uploadApplication = function (file, app) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    return [2 /*return*/, this.ecosystemService.uploadArchiveToApp(file, app)];
                });
            });
        };
AddWebApplicationComponent.ɵfac = function AddWebApplicationComponent_Factory(t) { return new (t || AddWebApplicationComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService)); };
AddWebApplicationComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: AddWebApplicationComponent, selectors: [["c8y-add-web-application"]], decls: 1, vars: 6, consts: [[3, "headerText", "headerIcon", "successText", "createApplicationHandler", "uploadApplicationHandler", "canGoBack"]], template: function AddWebApplicationComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelement(0, "c8y-add-application", 0);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("headerText", ctx.headerText)("headerIcon", "upload")("successText", ctx.successText)("createApplicationHandler", ctx.createApplicationHandler)("uploadApplicationHandler", ctx.uploadApplicationHandler)("canGoBack", true);
    } }, directives: function () { return [AddApplicationComponent]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AddWebApplicationComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-add-web-application',
                template: "<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'upload'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createApplicationHandler\"\n    [uploadApplicationHandler]=\"uploadApplicationHandler\"\n    [canGoBack]=\"true\"\n  ></c8y-add-application>"
            }]
    }], function () { return [{ type: EcosystemService }]; }, null); })();
        return AddWebApplicationComponent;
    }());
    AddWebApplicationComponent.ctorParameters = function () { return [
        { type: EcosystemService }
    ]; };

    var ApplicationPropertiesFormComponent = /** @class */ (function () {
        function ApplicationPropertiesFormComponent(formBuilder) {
            this.formBuilder = formBuilder;
        }
        ApplicationPropertiesFormComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.initForm();
                    this.setForm(this.application);
                    return [2 /*return*/];
                });
            });
        };
        ApplicationPropertiesFormComponent.prototype.initForm = function () {
            this.formGroup = this.formBuilder.group({
                name: [forms.Validators.required, forms.Validators.maxLength(120)],
                key: [forms.Validators.required, forms.Validators.maxLength(120)],
                contextPath: [forms.Validators.required, forms.Validators.maxLength(120)]
            });
        };
        ApplicationPropertiesFormComponent.prototype.setForm = function (applicationConfig) {
            this.formGroup.patchValue(Object.assign({}, applicationConfig));
        };
ApplicationPropertiesFormComponent.ɵfac = function ApplicationPropertiesFormComponent_Factory(t) { return new (t || ApplicationPropertiesFormComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc4.FormBuilder)); };
ApplicationPropertiesFormComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ApplicationPropertiesFormComponent, selectors: [["c8y-application-properties-form"]], inputs: { application: "application", isPackage: "isPackage" }, decls: 26, vars: 14, consts: [["name", "appDeployForm", "novalidate", "", 1, "c8y-wizard-form", "text-left", 3, "formGroup", "ngSubmit"], ["for", "name", "translate", ""], ["formControlName", "name", "name", "name", "required", "", "type", "text", 1, "form-control", 3, "placeholder"], ["translate", "", 4, "ngIf"], ["for", "key", "translate", ""], ["formControlName", "key", "name", "key", "required", "", "type", "text", 1, "form-control", 3, "placeholder"], ["for", "contextPath", "translate", ""], [1, "input-group"], [1, "input-group-addon"], ["formControlName", "contextPath", "name", "contextPath", "required", "", "type", "text", 1, "form-control", 3, "placeholder"], [4, "ngIf"], ["translate", ""], ["for", "version", "translate", ""], ["disabled", "", "formControlName", "version", "name", "version", "type", "text", 1, "form-control", 3, "placeholder"]], template: function ApplicationPropertiesFormComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "form", 0);
        ɵngcc0.ɵɵlistener("ngSubmit", function ApplicationPropertiesFormComponent_Template_form_ngSubmit_0_listener() { return ctx.formGroup.valid; });
        ɵngcc0.ɵɵelementStart(1, "c8y-form-group");
        ɵngcc0.ɵɵelementStart(2, "label", 1);
        ɵngcc0.ɵɵtext(3, "Name");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelement(4, "input", 2);
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵelementStart(6, "c8y-messages");
        ɵngcc0.ɵɵtemplate(7, ApplicationPropertiesFormComponent_c8y_message_7_Template, 2, 0, "c8y-message", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(8, "c8y-form-group");
        ɵngcc0.ɵɵelementStart(9, "label", 4);
        ɵngcc0.ɵɵtext(10, "Application key");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelement(11, "input", 5);
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵelementStart(13, "c8y-messages");
        ɵngcc0.ɵɵtemplate(14, ApplicationPropertiesFormComponent_c8y_message_14_Template, 2, 0, "c8y-message", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(15, "c8y-form-group");
        ɵngcc0.ɵɵelementStart(16, "label", 6);
        ɵngcc0.ɵɵtext(17, "Path");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(18, "div", 7);
        ɵngcc0.ɵɵelementStart(19, "span", 8);
        ɵngcc0.ɵɵtext(20, "/apps/");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelement(21, "input", 9);
        ɵngcc0.ɵɵpipe(22, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(23, "c8y-messages");
        ɵngcc0.ɵɵtemplate(24, ApplicationPropertiesFormComponent_c8y_message_24_Template, 2, 0, "c8y-message", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(25, ApplicationPropertiesFormComponent_c8y_form_group_25_Template, 6, 5, "c8y-form-group", 10);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("formGroup", ctx.formGroup);
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(5, 8, "e.g. My application"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", ctx.formGroup == null ? null : ctx.formGroup.controls == null ? null : ctx.formGroup.controls.name == null ? null : ctx.formGroup.controls.name.errors == null ? null : ctx.formGroup.controls.name.errors.required);
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(12, 10, "e.g. my-application-key"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", ctx.formGroup == null ? null : ctx.formGroup.controls == null ? null : ctx.formGroup.controls.key == null ? null : ctx.formGroup.controls.key.errors == null ? null : ctx.formGroup.controls.key.errors.required);
        ɵngcc0.ɵɵadvance(7);
        ɵngcc0.ɵɵpropertyInterpolate("placeholder", ɵngcc0.ɵɵpipeBind1(22, 12, "e.g. my-application"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", ctx.formGroup == null ? null : ctx.formGroup.controls == null ? null : ctx.formGroup.controls.contextPath == null ? null : ctx.formGroup.controls.contextPath.errors == null ? null : ctx.formGroup.controls.contextPath.errors.required);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isPackage);
    } }, directives: [ɵngcc4.ɵNgNoValidate, ɵngcc4.NgControlStatusGroup, ɵngcc4.FormGroupDirective, ɵngcc1.FormGroupComponent, ɵngcc1.C8yTranslateDirective, ɵngcc4.DefaultValueAccessor, ɵngcc1.RequiredInputPlaceholderDirective, ɵngcc4.NgControlStatus, ɵngcc4.FormControlName, ɵngcc4.RequiredValidator, ɵngcc1.MessagesComponent, ɵngcc5.NgIf, ɵngcc1.MessageDirective], pipes: [ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplicationPropertiesFormComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-application-properties-form',
                template: "<form\n  (ngSubmit)=\"(formGroup.valid)\"\n  [formGroup]=\"formGroup\"\n  class=\"c8y-wizard-form text-left\"\n  name=\"appDeployForm\"\n  novalidate\n>\n  <c8y-form-group>\n    <label for=\"name\" translate>Name</label>\n    <input\n      class=\"form-control\"\n      formControlName=\"name\"\n      name=\"name\"\n      placeholder=\"{{ 'e.g. My application' | translate }}\"\n      required\n      type=\"text\"\n    />\n    <c8y-messages>\n      <c8y-message *ngIf=\"formGroup?.controls?.name?.errors?.required\" translate>\n        This field is required.\n      </c8y-message>\n    </c8y-messages>\n  </c8y-form-group>\n  <c8y-form-group>\n    <label for=\"key\" translate>Application key</label>\n    <input\n      class=\"form-control\"\n      formControlName=\"key\"\n      name=\"key\"\n      placeholder=\"{{ 'e.g. my-application-key' | translate }}\"\n      required\n      type=\"text\"\n    />\n    <c8y-messages>\n      <c8y-message *ngIf=\"formGroup?.controls?.key?.errors?.required\" translate>\n        This field is required.\n      </c8y-message>\n    </c8y-messages>\n  </c8y-form-group>\n  <c8y-form-group>\n    <label for=\"contextPath\" translate>Path</label>\n    <div class=\"input-group\">\n      <span class=\"input-group-addon\">/apps/</span>\n      <input\n        class=\"form-control\"\n        formControlName=\"contextPath\"\n        name=\"contextPath\"\n        placeholder=\"{{ 'e.g. my-application' | translate }}\"\n        required\n        type=\"text\"\n      />\n    </div>\n    <c8y-messages>\n      <c8y-message *ngIf=\"formGroup?.controls?.contextPath?.errors?.required\" translate>\n        This field is required.\n      </c8y-message>\n    </c8y-messages>\n  </c8y-form-group>\n  <c8y-form-group *ngIf=\"isPackage\">\n    <label for=\"version\" translate>Use package version</label>\n    <div class=\"input-group\">\n      <input\n        class=\"form-control\"\n        disabled\n        formControlName=\"version\"\n        name=\"version\"\n        placeholder=\"{{ 'e.g. \\{\\{ example \\}\\}' | translate:{ example: '1.0.0' } }}\"\n        type=\"text\"\n      />\n    </div>\n  </c8y-form-group>\n</form>\n"
            }]
    }], function () { return [{ type: ɵngcc4.FormBuilder }]; }, { application: [{
            type: core.Input
        }], isPackage: [{
            type: core.Input
        }] }); })();
        return ApplicationPropertiesFormComponent;
    }());
    ApplicationPropertiesFormComponent.ctorParameters = function () { return [
        { type: forms.FormBuilder }
    ]; };
    ApplicationPropertiesFormComponent.propDecorators = {
        application: [{ type: core.Input }],
        isPackage: [{ type: core.Input }]
    };

    var InstallFromPackageComponent = /** @class */ (function () {
        function InstallFromPackageComponent(ecosystemService, applicationService, wizardComponent) {
            this.ecosystemService = ecosystemService;
            this.applicationService = applicationService;
            this.wizardComponent = wizardComponent;
            this.deployedWithSuccess = false;
            this.isDeployed = false;
        }
        InstallFromPackageComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.loadPackages();
                    return [2 /*return*/];
                });
            });
        };
        InstallFromPackageComponent.prototype.back = function () {
            this.wizardComponent.reset();
        };
        InstallFromPackageComponent.prototype.cancel = function () {
            this.wizardComponent.close();
        };
        InstallFromPackageComponent.prototype.save = function () {
            return __awaiter(this, void 0, void 0, function () {
                var formGroupValue, clonedPkg, config, updatedApp, error_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();
                            this.inProgress = true;
                            return [4 /*yield*/, this.applicationService.clone(this.selectedPackage)];
                        case 1:
                            clonedPkg = (_a.sent()).data;
                            config = this.ecosystemService.createConfig(clonedPkg, formGroupValue);
                            _a.label = 2;
                        case 2:
                            _a.trys.push([2, 6, , 8]);
                            return [4 /*yield*/, this.ecosystemService.updateApp(config, true)];
                        case 3:
                            updatedApp = (_a.sent()).data;
                            if (!updatedApp) return [3 /*break*/, 5];
                            return [4 /*yield*/, this.ecosystemService.updateAppManifest(updatedApp, this.selectedPackage)];
                        case 4:
                            _a.sent();
                            _a.label = 5;
                        case 5:
                            this.deployedWithSuccess = true;
                            return [3 /*break*/, 8];
                        case 6:
                            error_1 = _a.sent();
                            this.inProgress = false;
                            return [4 /*yield*/, this.applicationService.delete(clonedPkg.id)];
                        case 7:
                            _a.sent();
                            return [3 /*break*/, 8];
                        case 8:
                            this.markAsDeployed();
                            return [2 /*return*/];
                    }
                });
            });
        };
        InstallFromPackageComponent.prototype.selectPackage = function (selectedPackage) {
            return __awaiter(this, void 0, void 0, function () {
                var apps;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.getWebApplications()];
                        case 1:
                            apps = _a.sent();
                            this.newAppConfig = this.ecosystemService.getUniqueAppConfig(selectedPackage, apps);
                            this.selectedPackage = selectedPackage;
                            return [2 /*return*/];
                    }
                });
            });
        };
        /* The 'select package version' option will be added later when BE support for multiple app versions has been implemented. MTM-40278
        // onSelectedArchive(archive) {
        //   this.formGroup.controls['packageVersion'].setValue(archive.name);
        // } */
        InstallFromPackageComponent.prototype.markAsDeployed = function () {
            this.isDeployed = true;
            this.inProgress = false;
        };
        InstallFromPackageComponent.prototype.loadPackages = function () {
            return __awaiter(this, void 0, void 0, function () {
                var applications;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.getApplications()];
                        case 1:
                            applications = _a.sent();
                            this.packages = applications.data.filter(function (app) { return _this.ecosystemService.isApplicationPackage(app); });
                            return [2 /*return*/];
                    }
                });
            });
        };
InstallFromPackageComponent.ɵfac = function InstallFromPackageComponent_Factory(t) { return new (t || InstallFromPackageComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardComponent)); };
InstallFromPackageComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: InstallFromPackageComponent, selectors: [["c8y-install-from-package"]], viewQuery: function InstallFromPackageComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(ApplicationPropertiesFormComponent, 5);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.applicationPropertiesForm = _t.first);
    } }, decls: 17, vars: 16, consts: [[3, "c8yIcon"], ["translate", ""], [4, "ngIf"], ["class", "btn btn-default", "translate", "", "type", "button", 3, "title", "disabled", "click", 4, "ngIf"], ["type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["class", "btn btn-primary", "type", "button", 3, "title", "disabled", "click", 4, "ngIf"], [1, "modal-inner-scroll"], [1, "p-16", "text-medium", "text-center", "separator-bottom", "sticky-top", "bg-white"], ["class", "c8y-empty-state text-center", 4, "ngIf"], ["class", "c8y-wizard-list-nav", "style", "min-height: 257px", 4, "ngIf"], [1, "c8y-empty-state", "text-center"], [1, "text-center"], [1, "c8y-wizard-list-nav", 2, "min-height", "257px"], ["class", "list-group-item text-truncate", "type", "button", 3, "title", "click", 4, "ngFor", "ngForOf"], ["type", "button", 1, "list-group-item", "text-truncate", 3, "title", "click"], ["c8yIcon", "big-parcel", 1, "list-group-icon"], [3, "innerText"], [1, "p-16", "text-center", "text-medium", "separator-bottom", "sticky-top", "bg-white"], [1, "d-flex", "d-col", "a-i-center", "j-c-center", 2, "min-height", "257px"], ["class", "d-block fit-w", 3, "application", 4, "ngIf"], ["class", "text-center d-block", 3, "message", 4, "ngIf"], [1, "d-block", "fit-w", 3, "application"], [1, "text-center", "d-block", 3, "message"], ["class", "d-flex a-i-center j-c-center", "style", "min-height: 257px", 4, "ngIf", "ngIfElse"], ["failedDeploy", ""], [1, "d-flex", "a-i-center", "j-c-center", 2, "min-height", "257px"], ["type", "success", 1, "lead", 3, "text", "size", "vertical"], ["type", "error", 1, "lead", 3, "text", "size", "vertical"], ["translate", "", "type", "button", 1, "btn", "btn-default", 3, "title", "disabled", "click"], ["type", "button", 1, "btn", "btn-primary", 3, "title", "disabled", "click"]], template: function InstallFromPackageComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-wizard-header");
        ɵngcc0.ɵɵelement(1, "i", 0);
        ɵngcc0.ɵɵelementStart(2, "h4", 1);
        ɵngcc0.ɵɵtext(3, "Install from package");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(4, "c8y-wizard-body");
        ɵngcc0.ɵɵtemplate(5, InstallFromPackageComponent_ng_container_5_Template, 7, 5, "ng-container", 2);
        ɵngcc0.ɵɵtemplate(6, InstallFromPackageComponent_ng_container_6_Template, 7, 5, "ng-container", 2);
        ɵngcc0.ɵɵtemplate(7, InstallFromPackageComponent_ng_container_7_Template, 4, 2, "ng-container", 2);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(8, "c8y-wizard-footer");
        ɵngcc0.ɵɵtemplate(9, InstallFromPackageComponent_button_9_Template, 3, 4, "button", 3);
        ɵngcc0.ɵɵelementStart(10, "button", 4);
        ɵngcc0.ɵɵlistener("click", function InstallFromPackageComponent_Template_button_click_10_listener() { return ctx.cancel(); });
        ɵngcc0.ɵɵpipe(11, "translate");
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵtext(13);
        ɵngcc0.ɵɵpipe(14, "translate");
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(16, InstallFromPackageComponent_button_16_Template, 4, 7, "button", 5);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("c8yIcon", "big-parcel");
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.selectedPackage);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isDeployed && ctx.selectedPackage);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isDeployed);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isDeployed);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ctx.isDeployed && ctx.deployedWithSuccess ? ɵngcc0.ɵɵpipeBind1(11, 8, "Close") : ɵngcc0.ɵɵpipeBind1(12, 10, "Cancel"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵtextInterpolate1(" ", ctx.isDeployed && ctx.deployedWithSuccess ? ɵngcc0.ɵɵpipeBind1(14, 12, "Close") : ɵngcc0.ɵɵpipeBind1(15, 14, "Cancel"), " ");
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isDeployed);
    } }, directives: [ɵngcc1.WizardHeaderComponent, ɵngcc1.IconDirective, ɵngcc1.C8yTranslateDirective, ɵngcc1.WizardBodyComponent, ɵngcc5.NgIf, ɵngcc1.WizardFooterComponent, ɵngcc5.NgForOf, ApplicationPropertiesFormComponent, ɵngcc1.ProgressBarComponent, ɵngcc1.ɵe], pipes: [ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(InstallFromPackageComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-install-from-package',
                template: "<c8y-wizard-header>\n  <i [c8yIcon]=\"'big-parcel'\"></i>\n  <h4 translate>Install from package</h4>\n</c8y-wizard-header>\n<c8y-wizard-body>\n  <ng-container *ngIf=\"!selectedPackage\">\n    <div class=\"modal-inner-scroll\">\n      <p class=\"p-16 text-medium text-center separator-bottom sticky-top bg-white\">\n        {{ 'Select from available packages' | translate }}\n      </p>\n      <div *ngIf=\"!packages?.length\" class=\"c8y-empty-state text-center\">\n        <p class=\"text-center\">{{ 'No packages to display.' | translate }}</p>\n      </div>\n      <div *ngIf=\"packages?.length\" class=\"c8y-wizard-list-nav\" style=\"min-height: 257px\">\n        <button\n          class=\"list-group-item text-truncate\"\n          *ngFor=\"let package of packages\"\n          (click)=\"selectPackage(package)\"\n          title=\"{{ package.name }}\"\n          type=\"button\"\n        >\n          <i c8yIcon=\"big-parcel\" class=\"list-group-icon\"></i>\n          <span [innerText]=\"package.name\"></span>\n        </button>\n      </div>\n    </div>\n  </ng-container>\n  <ng-container *ngIf=\"!isDeployed && selectedPackage\">\n    <p class=\"p-16 text-center text-medium separator-bottom sticky-top bg-white\">\n      {{ 'Provide application details' | translate }}\n    </p>\n    <div class=\"d-flex d-col a-i-center j-c-center\" style=\"min-height: 257px\">\n      <c8y-application-properties-form\n        *ngIf=\"!inProgress\"\n        [application]=\"newAppConfig\"\n        class=\"d-block fit-w\"\n      ></c8y-application-properties-form>\n      <c8y-progress-bar\n        [message]=\"'Installing\u2026' | translate\"\n        class=\"text-center d-block\"\n        *ngIf=\"inProgress\"\n      ></c8y-progress-bar>\n    </div>\n  </ng-container>\n\n  <ng-container *ngIf=\"isDeployed\">\n    <div\n      *ngIf=\"deployedWithSuccess; else failedDeploy\"\n      class=\"d-flex a-i-center j-c-center\"\n      style=\"min-height: 257px\"\n    >\n      <c8y-operation-result\n        text=\"{{ 'Application created' | translate }}\"\n        [size]=\"84\"\n        [vertical]=\"true\"\n        type=\"success\"\n        class=\"lead\"\n      ></c8y-operation-result>\n    </div>\n    <ng-template #failedDeploy>\n      <div class=\"d-flex a-i-center j-c-center\" style=\"min-height: 257px\">\n        <c8y-operation-result\n          text=\"{{ 'Application creation failed' | translate }}\"\n          [size]=\"84\"\n          [vertical]=\"true\"\n          type=\"error\"\n          class=\"lead\"\n        ></c8y-operation-result>\n      </div>\n    </ng-template>\n  </ng-container>\n</c8y-wizard-body>\n\n<c8y-wizard-footer>\n  <button\n    *ngIf=\"!isDeployed\"\n    (click)=\"selectedPackage ? (selectedPackage = null) : back()\"\n    class=\"btn btn-default\"\n    title=\"{{ 'Back' | translate }}\"\n    translate\n    [disabled]=\"inProgress\"\n    type=\"button\"\n  >\n    Back\n  </button>\n  <button\n    title=\"{{ isDeployed && deployedWithSuccess ? ('Close' | translate) : ('Cancel' | translate) }}\"\n    class=\"btn btn-default\"\n    type=\"button\"\n    (click)=\"cancel()\"\n  >\n    {{ isDeployed && deployedWithSuccess ? ('Close' | translate) : ('Cancel' | translate) }}\n  </button>\n\n  <button\n    title=\"{{ 'Install' | translate }}\"\n    class=\"btn btn-primary\"\n    type=\"button\"\n    (click)=\"save()\"\n    [disabled]=\"inProgress\"\n    *ngIf=\"!isDeployed\"\n  >\n    {{ 'Install' | translate }}\n  </button>\n</c8y-wizard-footer>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc3.ApplicationService }, { type: ɵngcc1.WizardComponent }]; }, { applicationPropertiesForm: [{
            type: core.ViewChild,
            args: [ApplicationPropertiesFormComponent]
        }] }); })();
        return InstallFromPackageComponent;
    }());
    InstallFromPackageComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: client.ApplicationService },
        { type: ngxComponents.WizardComponent }
    ]; };
    InstallFromPackageComponent.propDecorators = {
        applicationPropertiesForm: [{ type: core.ViewChild, args: [ApplicationPropertiesFormComponent,] }]
    };

    var DuplicateApplicationListComponent = /** @class */ (function () {
        function DuplicateApplicationListComponent(ecosystemService, wizardComponent) {
            this.ecosystemService = ecosystemService;
            this.wizardComponent = wizardComponent;
            this.onSelectedApp = new core.EventEmitter();
        }
        DuplicateApplicationListComponent.prototype.select = function (selectedApp) {
            this.onSelectedApp.emit(selectedApp);
            this.stepper.next();
        };
        DuplicateApplicationListComponent.prototype.cancel = function () {
            this.wizardComponent.close();
        };
        DuplicateApplicationListComponent.prototype.back = function () {
            this.wizardComponent.reset();
        };
DuplicateApplicationListComponent.ɵfac = function DuplicateApplicationListComponent_Factory(t) { return new (t || DuplicateApplicationListComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardComponent)); };
DuplicateApplicationListComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: DuplicateApplicationListComponent, selectors: [["c8y-duplicate-application-list"]], inputs: { stepper: "stepper", existingApps: "existingApps" }, outputs: { onSelectedApp: "onSelectedApp" }, decls: 9, vars: 7, consts: [[1, "c8y-wizard-list-nav"], ["class", "list-group-item text-truncate p-t-8 p-b-8", "type", "button", 3, "click", 4, "ngFor", "ngForOf"], ["translate", "", "type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["translate", "", 1, "btn", "btn-default", 3, "title", "click"], ["type", "button", 1, "list-group-item", "text-truncate", "p-t-8", "p-b-8", 3, "click"], [1, "list-group-icon", 3, "app", "contextPath", "name"], [1, "pointer", 3, "innerText"], [1, "label", "m-l-16", 3, "ngClass"]], template: function DuplicateApplicationListComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵtemplate(1, DuplicateApplicationListComponent_button_1_Template, 8, 12, "button", 1);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(2, "c8y-wizard-footer");
        ɵngcc0.ɵɵelementStart(3, "button", 2);
        ɵngcc0.ɵɵlistener("click", function DuplicateApplicationListComponent_Template_button_click_3_listener() { return ctx.back(); });
        ɵngcc0.ɵɵpipe(4, "translate");
        ɵngcc0.ɵɵtext(5, " Back ");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(6, "button", 3);
        ɵngcc0.ɵɵlistener("click", function DuplicateApplicationListComponent_Template_button_click_6_listener() { return ctx.cancel(); });
        ɵngcc0.ɵɵpipe(7, "translate");
        ɵngcc0.ɵɵtext(8, " Cancel ");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.existingApps);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(4, 3, "Back"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(7, 5, "Cancel"));
    } }, directives: [ɵngcc5.NgForOf, ɵngcc1.WizardFooterComponent, ɵngcc1.C8yTranslateDirective, ɵngcc1.AppIconComponent, ɵngcc5.NgClass], pipes: [ɵngcc1.C8yTranslatePipe, ɵngcc5.AsyncPipe, ɵngcc1.HumanizeAppNamePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DuplicateApplicationListComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-duplicate-application-list',
                template: "<div class=\"c8y-wizard-list-nav\">\n  <button\n    (click)=\"select(app)\"\n    *ngFor=\"let app of existingApps\"\n    class=\"list-group-item text-truncate p-t-8 p-b-8\"\n    type=\"button\"\n  >\n    <c8y-app-icon\n      [app]=\"app\"\n      [contextPath]=\"app.contextPath\"\n      [name]=\"app.name\"\n      class=\"list-group-icon\"\n    ></c8y-app-icon>\n    <span [innerText]=\"app | humanizeAppName | async\" class=\"pointer\"></span>\n    <span [ngClass]=\"ecosystemService.getAppState(app).class\" class=\"label m-l-16\">{{\n      ecosystemService.getAppState(app).label | translate\n    }}</span>\n  </button>\n</div>\n<c8y-wizard-footer>\n  <button\n    (click)=\"back()\"\n    class=\"btn btn-default\"\n    title=\"{{ 'Back' | translate }}\"\n    translate\n    type=\"button\"\n  >\n    Back\n  </button>\n  <button (click)=\"cancel()\" class=\"btn btn-default\" title=\"{{ 'Cancel' | translate }}\" translate>\n    Cancel\n  </button>\n</c8y-wizard-footer>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.WizardComponent }]; }, { onSelectedApp: [{
            type: core.Output
        }], stepper: [{
            type: core.Input
        }], existingApps: [{
            type: core.Input
        }] }); })();
        return DuplicateApplicationListComponent;
    }());
    DuplicateApplicationListComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.WizardComponent }
    ]; };
    DuplicateApplicationListComponent.propDecorators = {
        stepper: [{ type: core.Input }],
        existingApps: [{ type: core.Input }],
        onSelectedApp: [{ type: core.Output }]
    };

    var DuplicateApplicationPropertiesComponent = /** @class */ (function () {
        function DuplicateApplicationPropertiesComponent(bsModalRef, ecosystemService, applicationService) {
            this.bsModalRef = bsModalRef;
            this.ecosystemService = ecosystemService;
            this.applicationService = applicationService;
            this.duplicatedApp = new core.EventEmitter();
            this.inProgress = false;
        }
        DuplicateApplicationPropertiesComponent.prototype.ngOnInit = function () {
            this.newAppConfig = this.ecosystemService.getUniqueAppConfig(this.selectedApp.value, this.existingApps);
        };
        DuplicateApplicationPropertiesComponent.prototype.duplicateApp = function () {
            return __awaiter(this, void 0, void 0, function () {
                var formGroupValue, clonedApp;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();
                            this.inProgress = true;
                            return [4 /*yield*/, this.applicationService.clone(this.selectedApp.value)];
                        case 1:
                            clonedApp = (_a.sent()).data;
                            Object.assign(clonedApp, formGroupValue);
                            delete clonedApp.type;
                            return [4 /*yield*/, this.updateApp(clonedApp)];
                        case 2:
                            _a.sent();
                            this.inProgress = false;
                            return [2 /*return*/];
                    }
                });
            });
        };
        DuplicateApplicationPropertiesComponent.prototype.cancel = function () {
            this.bsModalRef.hide();
        };
        DuplicateApplicationPropertiesComponent.prototype.back = function () {
            this.stepper.previous();
        };
        DuplicateApplicationPropertiesComponent.prototype.updateApp = function (clonedAppConfig) {
            return __awaiter(this, void 0, void 0, function () {
                var app, err_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 2, , 3]);
                            return [4 /*yield*/, this.ecosystemService.updateApp(clonedAppConfig, true)];
                        case 1:
                            app = (_a.sent()).data;
                            this.duplicatedApp.emit(app);
                            this.stepper.next();
                            return [3 /*break*/, 3];
                        case 2:
                            err_1 = _a.sent();
                            this.inProgress = false;
                            return [3 /*break*/, 3];
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
DuplicateApplicationPropertiesComponent.ɵfac = function DuplicateApplicationPropertiesComponent_Factory(t) { return new (t || DuplicateApplicationPropertiesComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc6.BsModalRef), ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService)); };
DuplicateApplicationPropertiesComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: DuplicateApplicationPropertiesComponent, selectors: [["c8y-duplicate-application-properties"]], viewQuery: function DuplicateApplicationPropertiesComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(ApplicationPropertiesFormComponent, 5);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.applicationPropertiesForm = _t.first);
    } }, inputs: { stepper: "stepper", existingApps: "existingApps", selectedApp: "selectedApp" }, outputs: { duplicatedApp: "duplicatedApp" }, decls: 16, vars: 23, consts: [["class", "p-16 text-center text-medium separator-bottom sticky-top bg-white fit-w", 4, "ngIf"], ["class", "d-block fit-w", 3, "application", 4, "ngIf"], ["class", "text-center d-block", 3, "message", 4, "ngIf"], ["type", "button", 1, "btn", "btn-default", 3, "disabled", "title", "click"], [1, "btn", "btn-default", 3, "title", "click"], ["type", "button", 1, "btn", "btn-primary", 3, "disabled", "title", "click"], [1, "p-16", "text-center", "text-medium", "separator-bottom", "sticky-top", "bg-white", "fit-w"], [1, "d-block", "fit-w", 3, "application"], [1, "text-center", "d-block", 3, "message"]], template: function DuplicateApplicationPropertiesComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵtemplate(0, DuplicateApplicationPropertiesComponent_p_0_Template, 3, 3, "p", 0);
        ɵngcc0.ɵɵtemplate(1, DuplicateApplicationPropertiesComponent_c8y_application_properties_form_1_Template, 1, 1, "c8y-application-properties-form", 1);
        ɵngcc0.ɵɵtemplate(2, DuplicateApplicationPropertiesComponent_c8y_progress_bar_2_Template, 2, 3, "c8y-progress-bar", 2);
        ɵngcc0.ɵɵelementStart(3, "c8y-wizard-footer");
        ɵngcc0.ɵɵelementStart(4, "button", 3);
        ɵngcc0.ɵɵlistener("click", function DuplicateApplicationPropertiesComponent_Template_button_click_4_listener() { return ctx.back(); });
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵtext(6);
        ɵngcc0.ɵɵpipe(7, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(8, "button", 4);
        ɵngcc0.ɵɵlistener("click", function DuplicateApplicationPropertiesComponent_Template_button_click_8_listener() { return ctx.cancel(); });
        ɵngcc0.ɵɵpipe(9, "translate");
        ɵngcc0.ɵɵtext(10);
        ɵngcc0.ɵɵpipe(11, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(12, "button", 5);
        ɵngcc0.ɵɵlistener("click", function DuplicateApplicationPropertiesComponent_Template_button_click_12_listener() { return ctx.duplicateApp(); });
        ɵngcc0.ɵɵpipe(13, "translate");
        ɵngcc0.ɵɵtext(14);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngIf", !ctx.inProgress);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.inProgress);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.inProgress);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(5, 11, "Back"));
        ɵngcc0.ɵɵproperty("disabled", ctx.inProgress);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(7, 13, "Back"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(9, 15, "Cancel"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(11, 17, "Cancel"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(13, 19, "Duplicate"));
        ɵngcc0.ɵɵproperty("disabled", ctx.inProgress);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(15, 21, "Duplicate"), " ");
    } }, directives: [ɵngcc5.NgIf, ɵngcc1.WizardFooterComponent, ApplicationPropertiesFormComponent, ɵngcc1.ProgressBarComponent], pipes: [ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DuplicateApplicationPropertiesComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-duplicate-application-properties',
                template: "<p\n  class=\"p-16 text-center text-medium separator-bottom sticky-top bg-white fit-w\"\n  *ngIf=\"!inProgress\"\n>\n  {{ 'Provide application details' | translate }}\n</p>\n<c8y-application-properties-form\n  *ngIf=\"!inProgress\"\n  [application]=\"newAppConfig\"\n  class=\"d-block fit-w\"\n></c8y-application-properties-form>\n<c8y-progress-bar\n  *ngIf=\"inProgress\"\n  [message]=\"'Duplicating\u2026' | translate\"\n  class=\"text-center d-block\"\n></c8y-progress-bar>\n\n<c8y-wizard-footer>\n  <button\n    (click)=\"back()\"\n    [disabled]=\"inProgress\"\n    class=\"btn btn-default\"\n    type=\"button\"\n    title=\"{{ 'Back' | translate }}\"\n  >\n    {{ 'Back' | translate }}\n  </button>\n  <button (click)=\"cancel()\" class=\"btn btn-default\" title=\"{{ 'Cancel' | translate }}\">\n    {{ 'Cancel' | translate }}\n  </button>\n  <button\n    (click)=\"duplicateApp()\"\n    [disabled]=\"inProgress\"\n    class=\"btn btn-primary\"\n    type=\"button\"\n    title=\"{{ 'Duplicate' | translate }}\"\n  >\n    {{ 'Duplicate' | translate }}\n  </button>\n</c8y-wizard-footer>\n"
            }]
    }], function () { return [{ type: ɵngcc6.BsModalRef }, { type: EcosystemService }, { type: ɵngcc3.ApplicationService }]; }, { duplicatedApp: [{
            type: core.Output
        }], stepper: [{
            type: core.Input
        }], existingApps: [{
            type: core.Input
        }], selectedApp: [{
            type: core.Input
        }], applicationPropertiesForm: [{
            type: core.ViewChild,
            args: [ApplicationPropertiesFormComponent]
        }] }); })();
        return DuplicateApplicationPropertiesComponent;
    }());
    DuplicateApplicationPropertiesComponent.ctorParameters = function () { return [
        { type: modal.BsModalRef },
        { type: EcosystemService },
        { type: client.ApplicationService }
    ]; };
    DuplicateApplicationPropertiesComponent.propDecorators = {
        stepper: [{ type: core.Input }],
        existingApps: [{ type: core.Input }],
        selectedApp: [{ type: core.Input }],
        duplicatedApp: [{ type: core.Output }],
        applicationPropertiesForm: [{ type: core.ViewChild, args: [ApplicationPropertiesFormComponent,] }]
    };

    var DuplicateApplicationComponent = /** @class */ (function () {
        function DuplicateApplicationComponent(ecosystemService, applicationService, wizardComponent) {
            this.ecosystemService = ecosystemService;
            this.applicationService = applicationService;
            this.wizardComponent = wizardComponent;
            this.selectedApp = new rxjs.BehaviorSubject(null);
            this.existingApps = [];
        }
        DuplicateApplicationComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                var _a;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            _a = this;
                            return [4 /*yield*/, this.ecosystemService.getWebApplications()];
                        case 1:
                            _a.existingApps = _b.sent();
                            return [2 /*return*/];
                    }
                });
            });
        };
        DuplicateApplicationComponent.prototype.onSelectedApp = function (app) {
            this.selectedApp.next(app);
        };
        DuplicateApplicationComponent.prototype.getHref = function (app) {
            return this.applicationService.getHref(app);
        };
        DuplicateApplicationComponent.prototype.done = function () {
            this.wizardComponent.close();
        };
DuplicateApplicationComponent.ɵfac = function DuplicateApplicationComponent_Factory(t) { return new (t || DuplicateApplicationComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardComponent)); };
DuplicateApplicationComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: DuplicateApplicationComponent, selectors: [["c8y-duplicate-application"]], viewQuery: function DuplicateApplicationComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(ngxComponents.C8yStepper, 7);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.stepper = _t.first);
    } }, decls: 16, vars: 12, consts: [[3, "c8yIcon"], ["translate", ""], ["linear", "", 3, "customClasses", "disableDefaultIcons"], [1, "p-16", "text-center", "text-medium", "separator-bottom", "sticky-top", "bg-white"], ["class", "d-block", "style", "min-height: 257px", 3, "existingApps", "stepper", "onSelectedApp", 4, "ngIf"], ["class", "d-flex d-col j-c-center a-i-center", "style", "min-height: 257px", 3, "existingApps", "selectedApp", "stepper", "duplicatedApp", 4, "ngIf"], [4, "ngIf"], [1, "d-block", 2, "min-height", "257px", 3, "existingApps", "stepper", "onSelectedApp"], [1, "d-flex", "d-col", "j-c-center", "a-i-center", 2, "min-height", "257px", 3, "existingApps", "selectedApp", "stepper", "duplicatedApp"], ["style", "min-height: 257px", "class", "d-flex a-i-center j-c-center", 4, "ngIf", "ngIfElse"], ["duplicateAppFailed", ""], [1, "d-flex", "a-i-center", "j-c-center", 2, "min-height", "257px"], ["type", "success", 3, "text", "size", "vertical"], ["type", "error", 3, "text", "size", "vertical"], ["type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["target", "_blank", 1, "btn", "btn-primary", 3, "href", "title", "click"], ["c8yIcon", "external-link", 1, "m-r-4"]], template: function DuplicateApplicationComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-wizard-header");
        ɵngcc0.ɵɵelement(1, "h1", 0);
        ɵngcc0.ɵɵelementStart(2, "h4", 1);
        ɵngcc0.ɵɵtext(3, "Duplicate application");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(4, "c8y-wizard-body");
        ɵngcc0.ɵɵelementStart(5, "c8y-stepper", 2);
        ɵngcc0.ɵɵelementStart(6, "cdk-step");
        ɵngcc0.ɵɵelementStart(7, "p", 3);
        ɵngcc0.ɵɵtext(8);
        ɵngcc0.ɵɵpipe(9, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(10, DuplicateApplicationComponent_c8y_duplicate_application_list_10_Template, 1, 2, "c8y-duplicate-application-list", 4);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(11, "cdk-step");
        ɵngcc0.ɵɵtemplate(12, DuplicateApplicationComponent_c8y_duplicate_application_properties_12_Template, 1, 3, "c8y-duplicate-application-properties", 5);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(13, "cdk-step");
        ɵngcc0.ɵɵtemplate(14, DuplicateApplicationComponent_ng_container_14_Template, 4, 2, "ng-container", 6);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(15, DuplicateApplicationComponent_c8y_wizard_footer_15_Template, 10, 13, "c8y-wizard-footer", 6);
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("c8yIcon", "copy");
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("customClasses", ɵngcc0.ɵɵpureFunction0(10, _c1))("disableDefaultIcons", ɵngcc0.ɵɵpureFunction0(11, _c2));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(9, 8, "Select application"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.stepper.selectedIndex === 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.stepper.selectedIndex === 1);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.stepper.selectedIndex === 2);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.stepper.selectedIndex === 2);
    } }, directives: [ɵngcc1.WizardHeaderComponent, ɵngcc1.IconDirective, ɵngcc1.C8yTranslateDirective, ɵngcc1.WizardBodyComponent, ɵngcc1.C8yStepper, ɵngcc7.CdkStep, ɵngcc5.NgIf, DuplicateApplicationListComponent, DuplicateApplicationPropertiesComponent, ɵngcc1.ɵe, ɵngcc1.WizardFooterComponent], pipes: [ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DuplicateApplicationComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-duplicate-application',
                template: "<c8y-wizard-header>\n  <h1 [c8yIcon]=\"'copy'\"></h1>\n  <h4 translate>Duplicate application</h4>\n</c8y-wizard-header>\n\n<c8y-wizard-body>\n  <c8y-stepper\n    [customClasses]=\"['hidden']\"\n    [disableDefaultIcons]=\"{ edit: true, done: false }\"\n    linear\n  >\n    <!-- 1st step -->\n    <cdk-step>\n      <p class=\"p-16 text-center text-medium separator-bottom sticky-top bg-white\">\n        {{ 'Select application' | translate }}\n      </p>\n      <c8y-duplicate-application-list\n        (onSelectedApp)=\"onSelectedApp($event)\"\n        *ngIf=\"stepper.selectedIndex === 0\"\n        [existingApps]=\"existingApps\"\n        [stepper]=\"stepper\"\n        class=\"d-block\"\n        style=\"min-height: 257px\"\n      ></c8y-duplicate-application-list>\n    </cdk-step>\n    <!-- 2nd step -->\n    <cdk-step>\n      <c8y-duplicate-application-properties\n        class=\"d-flex d-col j-c-center a-i-center\"\n        style=\"min-height: 257px\"\n        (duplicatedApp)=\"duplicatedApp = $event\"\n        *ngIf=\"stepper.selectedIndex === 1\"\n        [existingApps]=\"existingApps\"\n        [selectedApp]=\"selectedApp\"\n        [stepper]=\"stepper\"\n      ></c8y-duplicate-application-properties>\n    </cdk-step>\n    <!-- Final step -->\n    <cdk-step>\n      <ng-container *ngIf=\"stepper.selectedIndex === 2\">\n        <div\n          *ngIf=\"duplicatedApp; else duplicateAppFailed\"\n          style=\"min-height: 257px\"\n          class=\"d-flex a-i-center j-c-center\"\n        >\n          <c8y-operation-result\n            text=\"{{ 'Application created' | translate }}\"\n            [size]=\"84\"\n            [vertical]=\"true\"\n            type=\"success\"\n          ></c8y-operation-result>\n        </div>\n        <ng-template #duplicateAppFailed>\n          <div style=\"min-height: 257px\" class=\"d-flex a-i-center j-c-center\">\n            <c8y-operation-result\n              text=\"{{ 'Application creation failed' | translate }}\"\n              [size]=\"84\"\n              [vertical]=\"true\"\n              type=\"error\"\n            ></c8y-operation-result>\n          </div>\n        </ng-template>\n      </ng-container>\n    </cdk-step>\n  </c8y-stepper>\n</c8y-wizard-body>\n\n<c8y-wizard-footer *ngIf=\"stepper.selectedIndex === 2\">\n  <button type=\"button\" (click)=\"done()\" class=\"btn btn-default\" title=\"{{ 'Done' | translate }}\">\n    {{ 'Done' | translate }}\n  </button>\n  <a\n    (click)=\"$event.stopPropagation()\"\n    [href]=\"getHref(duplicatedApp)\"\n    target=\"_blank\"\n    class=\"btn btn-primary\"\n    title=\"{{ 'Open' | translate }}\"\n  >\n    <i c8yIcon=\"external-link\" class=\"m-r-4\"></i>\n    {{ 'Open' | translate }}\n  </a>\n</c8y-wizard-footer>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc3.ApplicationService }, { type: ɵngcc1.WizardComponent }]; }, { stepper: [{
            type: core.ViewChild,
            args: [ngxComponents.C8yStepper, { static: true }]
        }] }); })();
        return DuplicateApplicationComponent;
    }());
    DuplicateApplicationComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: client.ApplicationService },
        { type: ngxComponents.WizardComponent }
    ]; };
    DuplicateApplicationComponent.propDecorators = {
        stepper: [{ type: core.ViewChild, args: [ngxComponents.C8yStepper, { static: true },] }]
    };

    var AddExternalApplicationComponent = /** @class */ (function () {
        function AddExternalApplicationComponent(applicationService, formBuilder, alertService, wizardComponent) {
            this.applicationService = applicationService;
            this.formBuilder = formBuilder;
            this.alertService = alertService;
            this.wizardComponent = wizardComponent;
        }
        AddExternalApplicationComponent.prototype.ngOnInit = function () {
            this.initForm();
        };
        AddExternalApplicationComponent.prototype.back = function () {
            this.wizardComponent.reset();
        };
        AddExternalApplicationComponent.prototype.cancel = function () {
            this.wizardComponent.close();
        };
        AddExternalApplicationComponent.prototype.done = function () {
            this.wizardComponent.close();
        };
        AddExternalApplicationComponent.prototype.save = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                var appToSave, _a, ex_1;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            appToSave = {
                                manifest: {},
                                externalUrl: app.externalUrl,
                                type: client.ApplicationType.EXTERNAL,
                                name: app.name,
                                key: app.key
                            };
                            _b.label = 1;
                        case 1:
                            _b.trys.push([1, 3, , 4]);
                            _a = this;
                            return [4 /*yield*/, this.applicationService.create(appToSave)];
                        case 2:
                            _a.createdApp = _b.sent();
                            return [3 /*break*/, 4];
                        case 3:
                            ex_1 = _b.sent();
                            this.alertService.addServerFailure(ex_1);
                            return [3 /*break*/, 4];
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        AddExternalApplicationComponent.prototype.initForm = function () {
            this.formGroup = this.formBuilder.group({
                name: ['', [forms.Validators.required, forms.Validators.maxLength(120)]],
                key: ['', [forms.Validators.required, forms.Validators.maxLength(120)]],
                externalUrl: ['', forms.Validators.required]
            });
        };
AddExternalApplicationComponent.ɵfac = function AddExternalApplicationComponent_Factory(t) { return new (t || AddExternalApplicationComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.FormBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardComponent)); };
AddExternalApplicationComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: AddExternalApplicationComponent, selectors: [["c8y-add-external-application"]], decls: 3, vars: 2, consts: [["novalidate", "", 3, "formGroup", 4, "ngIf", "ngIfElse"], ["appCreated", ""], ["novalidate", "", 3, "formGroup"], [3, "c8yIcon"], ["translate", ""], [1, "p-16", "text-medium", "text-center", "bg-white", "separator-bottom", "sticky-top"], [1, "modal-body", "p-t-8"], [2, "text-align", "left"], ["formControlName", "name", "name", "name", "required", "", "type", "text", 1, "form-control", 3, "placeholder"], ["translate", "", 4, "ngIf"], ["formControlName", "key", "name", "key", "required", "", "type", "text", 1, "form-control", 3, "placeholder"], ["formControlName", "externalUrl", "name", "externalUrl", "required", "", "type", "url", 1, "form-control", 3, "pattern", "placeholder"], ["translate", "", "type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["translate", "", 1, "btn", "btn-default", 3, "title", "click"], ["type", "button", 1, "btn", "btn-primary", "btn-form", 3, "disabled", "title", "click"], [1, "d-flex", "d-col", "j-c-center", "a-i-center", 2, "min-height", "324px"], ["type", "success", 1, "lead", 3, "text", "size", "vertical"], ["target", "_blank", 1, "btn", "btn-primary", 3, "href", "title", "click"], ["c8yIcon", "external-link", 1, "m-r-4"]], template: function AddExternalApplicationComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵtemplate(0, AddExternalApplicationComponent_form_0_Template, 47, 42, "form", 0);
        ɵngcc0.ɵɵtemplate(1, AddExternalApplicationComponent_ng_template_1_Template, 13, 15, "ng-template", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        var _r1 = ɵngcc0.ɵɵreference(2);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.createdApp)("ngIfElse", _r1);
    } }, directives: [ɵngcc5.NgIf, ɵngcc4.ɵNgNoValidate, ɵngcc4.NgControlStatusGroup, ɵngcc4.FormGroupDirective, ɵngcc1.WizardHeaderComponent, ɵngcc1.IconDirective, ɵngcc1.C8yTranslateDirective, ɵngcc1.WizardBodyComponent, ɵngcc1.FormGroupComponent, ɵngcc4.DefaultValueAccessor, ɵngcc1.RequiredInputPlaceholderDirective, ɵngcc4.NgControlStatus, ɵngcc4.FormControlName, ɵngcc4.RequiredValidator, ɵngcc1.MessagesComponent, ɵngcc4.PatternValidator, ɵngcc1.WizardFooterComponent, ɵngcc1.MessageDirective, ɵngcc1.ɵe], pipes: [ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AddExternalApplicationComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-add-external-application',
                template: "<form *ngIf=\"!createdApp; else appCreated\" [formGroup]=\"formGroup\" novalidate>\n  <c8y-wizard-header>\n    <h1 [c8yIcon]=\"'cloud-link'\"></h1>\n    <h4 translate>Add external application</h4>\n  </c8y-wizard-header>\n\n  <c8y-wizard-body>\n    <p class=\"p-16 text-medium text-center bg-white separator-bottom sticky-top\">\n      {{ 'Provide external application details' | translate }}\n    </p>\n    <div class=\"modal-body p-t-8\">\n      <c8y-form-group>\n        <label style=\"text-align: left\">{{ 'Name' | translate }}</label>\n        <input\n          class=\"form-control\"\n          formControlName=\"name\"\n          name=\"name\"\n          placeholder=\"{{ 'e.g. My application' | translate }}\"\n          required\n          type=\"text\"\n        />\n        <c8y-messages>\n          <c8y-message\n            *ngIf=\"formGroup?.controls?.name?.errors?.required && !formGroup.controls.name.pristine\"\n            translate\n          >\n            This field is required.\n          </c8y-message>\n          <c8y-message *ngIf=\"formGroup?.controls?.name?.errors?.maxlength\" translate>\n            Maximum 120 characters allowed.\n          </c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n\n      <c8y-form-group>\n        <label style=\"text-align: left\">{{ 'Application key' | translate }}</label>\n        <input\n          class=\"form-control\"\n          formControlName=\"key\"\n          name=\"key\"\n          placeholder=\"{{ 'e.g. my-external-application-key' | translate }}\"\n          required\n          type=\"text\"\n        />\n        <c8y-messages>\n          <c8y-message\n            *ngIf=\"formGroup?.controls?.key?.errors?.required && !formGroup.controls.key.pristine\"\n            translate\n          >\n            This field is required.\n          </c8y-message>\n          <c8y-message *ngIf=\"formGroup?.controls?.key?.errors?.maxlength\" translate>\n            Maximum 120 characters allowed.\n          </c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n\n      <c8y-form-group>\n        <label style=\"text-align: left\">{{ 'External URL' | translate }}</label>\n        <input\n          [pattern]=\"'^(?!javascript:).+'\"\n          class=\"form-control\"\n          formControlName=\"externalUrl\"\n          name=\"externalUrl\"\n          placeholder=\"{{ 'e.g.' | translate }} https://www.example.com\"\n          required\n          type=\"url\"\n        />\n        <c8y-messages>\n          <c8y-message\n            *ngIf=\"\n              formGroup?.controls?.externalUrl?.errors?.required &&\n              !formGroup.controls.externalUrl.pristine\n            \"\n            translate\n          >\n            This field is required.\n          </c8y-message>\n        </c8y-messages>\n      </c8y-form-group>\n    </div>\n  </c8y-wizard-body>\n\n  <c8y-wizard-footer>\n    <button\n      (click)=\"back()\"\n      class=\"btn btn-default\"\n      title=\"{{ 'Back' | translate }}\"\n      translate\n      type=\"button\"\n    >\n      Back\n    </button>\n    <button (click)=\"cancel()\" class=\"btn btn-default\" title=\"{{ 'Cancel' | translate }}\" translate>\n      Cancel\n    </button>\n    <button\n      (click)=\"save(formGroup.value)\"\n      [disabled]=\"formGroup.invalid || formGroup.pristine\"\n      class=\"btn btn-primary btn-form\"\n      title=\"{{ 'Add application' | translate }}\"\n      type=\"button\"\n    >\n      {{ 'Add application' | translate }}\n    </button>\n  </c8y-wizard-footer>\n</form>\n<ng-template #appCreated>\n  <c8y-wizard-body>\n    <div class=\"d-flex d-col j-c-center a-i-center\" style=\"min-height: 324px\">\n      <c8y-operation-result\n        text=\"{{ 'Application created' | translate }}\"\n        [size]=\"84\"\n        [vertical]=\"true\"\n        type=\"success\"\n        class=\"lead\"\n      ></c8y-operation-result>\n    </div>\n  </c8y-wizard-body>\n  <c8y-wizard-footer>\n    <button (click)=\"done()\" class=\"btn btn-default\" title=\"{{ 'Done' | translate }}\" translate>\n      Done\n    </button>\n    <a\n      (click)=\"$event.stopPropagation()\"\n      [href]=\"formGroup.value.externalUrl\"\n      target=\"_blank\"\n      class=\"btn btn-primary\"\n      title=\"{{ 'Open' | translate }}\"\n    >\n      <i c8yIcon=\"external-link\" class=\"m-r-4\"></i>\n      {{ 'Open' | translate }}\n    </a>\n  </c8y-wizard-footer>\n</ng-template>\n"
            }]
    }], function () { return [{ type: ɵngcc3.ApplicationService }, { type: ɵngcc4.FormBuilder }, { type: ɵngcc1.AlertService }, { type: ɵngcc1.WizardComponent }]; }, null); })();
        return AddExternalApplicationComponent;
    }());
    AddExternalApplicationComponent.ctorParameters = function () { return [
        { type: client.ApplicationService },
        { type: forms.FormBuilder },
        { type: ngxComponents.AlertService },
        { type: ngxComponents.WizardComponent }
    ]; };

    var AddMicroserviceComponent = /** @class */ (function () {
        function AddMicroserviceComponent(ecosystemService, modal, tenantService) {
            var _this = this;
            this.ecosystemService = ecosystemService;
            this.modal = modal;
            this.tenantService = tenantService;
            this.headerText = ngxComponents.gettext('Add microservice');
            this.successText = ngxComponents.gettext('Microservice created');
            this.createMicroserviceApplicationHandler = function (f) { return _this.createMicroserviceApplication(f); };
            this.uploadMicroserviceHandler = function (f, app) { return _this.uploadMicroservice(f, app); };
        }
        AddMicroserviceComponent.prototype.createMicroserviceApplication = function (file) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.isValidAppType(file, client.ApplicationType.MICROSERVICE)];
                        case 1:
                            _a.sent();
                            return [2 /*return*/, this.ecosystemService.createAppForArchive(file)];
                    }
                });
            });
        };
        AddMicroserviceComponent.prototype.uploadMicroservice = function (file, microservice) {
            return __awaiter(this, void 0, void 0, function () {
                var subscribeToCurrentTenant;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.askIfActivationAfterUploadNeeded()];
                        case 1:
                            subscribeToCurrentTenant = _a.sent();
                            return [4 /*yield*/, this.ecosystemService.uploadArchiveToApp(file, microservice)];
                        case 2:
                            _a.sent();
                            return [4 /*yield*/, this.subscribeMicroservice(microservice, subscribeToCurrentTenant)];
                        case 3:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            });
        };
        AddMicroserviceComponent.prototype.askIfActivationAfterUploadNeeded = function () {
            return __awaiter(this, void 0, void 0, function () {
                var ex_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 2, , 3]);
                            return [4 /*yield*/, this.modal.confirm(ngxComponents.gettext('Subscribe to microservice'), ngxComponents.gettext('You are about to subscribe to the microservice after upload. Do you want to subscribe to it?'), ngxComponents.Status.INFO, { ok: ngxComponents.gettext('Subscribe'), cancel: ngxComponents.gettext("Don't subscribe") })];
                        case 1:
                            _a.sent();
                            return [2 /*return*/, true];
                        case 2:
                            ex_1 = _a.sent();
                            return [2 /*return*/, false];
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
        AddMicroserviceComponent.prototype.subscribeMicroservice = function (app, subscribeToCurrentTenant) {
            return __awaiter(this, void 0, void 0, function () {
                var tenant, applications, isSubscribed, res_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.tenantService.current()];
                        case 1:
                            tenant = (_a.sent()).data;
                            applications = tenant.applications.references;
                            isSubscribed = applications.some(function (_a) {
                                var application = _a.application;
                                return application.id === app.id;
                            });
                            if (!(!isSubscribed && subscribeToCurrentTenant)) return [3 /*break*/, 6];
                            _a.label = 2;
                        case 2:
                            _a.trys.push([2, 4, , 5]);
                            return [4 /*yield*/, this.tenantService.subscribeApplication(tenant, app)];
                        case 3: return [2 /*return*/, _a.sent()];
                        case 4:
                            res_1 = _a.sent();
                            if (res_1.status === 409) {
                                throw Error(ERROR_TYPE.ALREADY_SUBSCRIBED);
                            }
                            return [3 /*break*/, 5];
                        case 5: return [3 /*break*/, 7];
                        case 6:
                            if (isSubscribed && !subscribeToCurrentTenant) {
                                return [2 /*return*/, this.tenantService.unsubscribeApplication(tenant, app)];
                            }
                            _a.label = 7;
                        case 7: return [2 /*return*/];
                    }
                });
            });
        };
AddMicroserviceComponent.ɵfac = function AddMicroserviceComponent_Factory(t) { return new (t || AddMicroserviceComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ModalService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.TenantService)); };
AddMicroserviceComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: AddMicroserviceComponent, selectors: [["c8y-add-microservice"]], decls: 1, vars: 5, consts: [[3, "headerText", "headerIcon", "successText", "createApplicationHandler", "uploadApplicationHandler"]], template: function AddMicroserviceComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelement(0, "c8y-add-application", 0);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("headerText", ctx.headerText)("headerIcon", "microchip")("successText", ctx.successText)("createApplicationHandler", ctx.createMicroserviceApplicationHandler)("uploadApplicationHandler", ctx.uploadMicroserviceHandler);
    } }, directives: function () { return [AddApplicationComponent]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AddMicroserviceComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-add-microservice',
                template: "<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'microchip'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createMicroserviceApplicationHandler\"\n    [uploadApplicationHandler]=\"uploadMicroserviceHandler\"\n  ></c8y-add-application>"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.ModalService }, { type: ɵngcc3.TenantService }]; }, null); })();
        return AddMicroserviceComponent;
    }());
    AddMicroserviceComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.ModalService },
        { type: client.TenantService }
    ]; };

    var ApplicationListComponent = /** @class */ (function () {
        function ApplicationListComponent(ecosystemService, wizardService) {
            var _this = this;
            this.ecosystemService = ecosystemService;
            this.wizardService = wizardService;
            this.reloading = false;
            this.reload$ = new rxjs.BehaviorSubject(null);
            this.apps$ = this.reload$.pipe(operators.tap(function () { return (_this.reloading = true); }), operators.switchMap(function () { return _this.ecosystemService.getWebApplications(); }), operators.tap(function () { return (_this.reloading = false); }), operators.shareReplay());
        }
        ApplicationListComponent.prototype.ngOnInit = function () {
            this.loadApplications();
        };
        ApplicationListComponent.prototype.loadApplications = function () {
            this.reload$.next();
        };
        ApplicationListComponent.prototype.addApplication = function () {
            var _this = this;
            var wizardConfig = {
                headerText: 'Add Application',
                headerIcon: 'c8y-atom'
            };
            var initialState = {
                wizardConfig: wizardConfig,
                id: 'uploadApplication'
            };
            var modalOptions = { initialState: initialState };
            var modalRef = this.wizardService.show(modalOptions);
            modalRef.content.onClose.subscribe(function () {
                _this.loadApplications();
            });
        };
ApplicationListComponent.ɵfac = function ApplicationListComponent_Factory(t) { return new (t || ApplicationListComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardService)); };
ApplicationListComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ApplicationListComponent, selectors: [["c8y-application-list"]], decls: 32, vars: 47, consts: [[3, "icon", "label"], [3, "icon", "label", "path"], [3, "placement"], [1, "btn", "btn-link", 3, "title", "click"], ["c8yIcon", "plus-circle"], ["c8yIcon", "refresh", 3, "ngClass"], ["itemClass", "navbar-form hidden-xs", 3, "placement"], [3, "listLength", "onListClassChange"], ["class", "c8y-empty-state text-center", 4, "ngIf"], [1, "card-group", 3, "ngClass"], ["class", "page-sticky-header hidden-xs flex-row", 4, "ngIf"], ["class", "col-xs-12 col-sm-4 col-md-3", 4, "ngFor", "ngForOf"], [1, "c8y-empty-state", "text-center"], [1, "c8y-icon", "c8y-icon-modules", "c8y-icon-duocolor"], ["translate", ""], [1, "btn", "btn-primary", 3, "title", "click"], [1, "page-sticky-header", "hidden-xs", "flex-row"], [1, "card-block", "card-column-40"], [1, "card-appicon", "p-l-32", "p-r-16", "m-r-0", "m-l-4"], [1, "card-block", "p-0", "card-column-80"], [1, "card-block", "card-column-80"], [1, "card-block", "card-column-20"], [1, "col-xs-12", "col-sm-4", "col-md-3"], [1, "d-contents", 3, "app", "onAppDeleted"]], template: function ApplicationListComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "c8y-breadcrumb");
        ɵngcc0.ɵɵelement(4, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵelement(6, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(7, "translate");
        ɵngcc0.ɵɵelement(8, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(9, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(10, "c8y-action-bar-item", 2);
        ɵngcc0.ɵɵelementStart(11, "button", 3);
        ɵngcc0.ɵɵlistener("click", function ApplicationListComponent_Template_button_click_11_listener() { return ctx.addApplication(); });
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵelement(13, "i", 4);
        ɵngcc0.ɵɵtext(14);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(16, "c8y-action-bar-item", 2);
        ɵngcc0.ɵɵelementStart(17, "button", 3);
        ɵngcc0.ɵɵlistener("click", function ApplicationListComponent_Template_button_click_17_listener() { return ctx.loadApplications(); });
        ɵngcc0.ɵɵpipe(18, "translate");
        ɵngcc0.ɵɵelement(19, "i", 5);
        ɵngcc0.ɵɵtext(20);
        ɵngcc0.ɵɵpipe(21, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(22, "c8y-action-bar-item", 6);
        ɵngcc0.ɵɵelementStart(23, "c8y-list-display-switch", 7);
        ɵngcc0.ɵɵlistener("onListClassChange", function ApplicationListComponent_Template_c8y_list_display_switch_onListClassChange_23_listener($event) { return ctx.listClass = $event; });
        ɵngcc0.ɵɵpipe(24, "async");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(25, ApplicationListComponent_div_25_Template, 11, 6, "div", 8);
        ɵngcc0.ɵɵpipe(26, "async");
        ɵngcc0.ɵɵelementStart(27, "div", 9);
        ɵngcc0.ɵɵtemplate(28, ApplicationListComponent_div_28_Template, 13, 9, "div", 10);
        ɵngcc0.ɵɵpipe(29, "async");
        ɵngcc0.ɵɵtemplate(30, ApplicationListComponent_div_30_Template, 2, 1, "div", 11);
        ɵngcc0.ɵɵpipe(31, "async");
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        var tmp_16_0;
        var tmp_17_0;
        var tmp_19_0;
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 21, "All applications"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(5, 23, "Ecosystem"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(7, 25, "Applications"))("path", "ecosystem/applications");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(9, 27, "All applications"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "right");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(12, 29, "Add application"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(15, 31, "Add application"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "right");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(18, 33, "Reload"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(45, _c3, ctx.reloading));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(21, 35, "Reload"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "left");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("listLength", (tmp_16_0 = ɵngcc0.ɵɵpipeBind1(24, 37, ctx.apps$)) == null ? null : tmp_16_0.length);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_17_0 = ɵngcc0.ɵɵpipeBind1(26, 39, ctx.apps$)) == null ? null : tmp_17_0.length) === 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ctx.listClass);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_19_0 = ɵngcc0.ɵɵpipeBind1(29, 41, ctx.apps$)) == null ? null : tmp_19_0.length) > 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngForOf", ɵngcc0.ɵɵpipeBind1(31, 43, ctx.apps$));
    } }, directives: function () { return [ɵngcc1.TitleComponent, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc1.ActionBarItemComponent, ɵngcc1.IconDirective, ɵngcc5.NgClass, ɵngcc1.ɵbh, ɵngcc5.NgIf, ɵngcc5.NgForOf, ɵngcc1.C8yTranslateDirective, ApplicationCardComponent]; }, pipes: function () { return [ɵngcc1.C8yTranslatePipe, ɵngcc5.AsyncPipe]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplicationListComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-application-list',
                template: "<c8y-title>{{ 'All applications' | translate }}</c8y-title>\n\n<c8y-breadcrumb>\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'Applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'All applications' | translate\"\n  ></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-action-bar-item [placement]=\"'right'\">\n  <button\n    (click)=\"addApplication()\"\n    class=\"btn btn-link\"\n    title=\"{{ 'Add application' | translate }}\"\n  >\n    <i c8yIcon=\"plus-circle\"></i>\n    {{ 'Add application' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'right'\">\n  <button (click)=\"loadApplications()\" class=\"btn btn-link\" title=\"{{ 'Reload' | translate }}\">\n    <i [ngClass]=\"{ 'icon-spin': reloading }\" c8yIcon=\"refresh\"></i>\n    {{ 'Reload' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'left'\" itemClass=\"navbar-form hidden-xs\">\n  <c8y-list-display-switch\n    (onListClassChange)=\"listClass = $event\"\n    [listLength]=\"(apps$ | async)?.length\"\n  ></c8y-list-display-switch>\n</c8y-action-bar-item>\n\n<div *ngIf=\"(apps$ | async)?.length === 0\" class=\"c8y-empty-state text-center\">\n  <h1 class=\"c8y-icon c8y-icon-modules c8y-icon-duocolor\"></h1>\n  <h3 translate>No applications to display.</h3>\n  <p translate>Add your first application by clicking below.</p>\n  <p>\n    <button\n      (click)=\"addApplication()\"\n      class=\"btn btn-primary\"\n      title=\"{{ 'Add application' | translate }}\"\n    >\n      {{ 'Add application' | translate }}\n    </button>\n  </p>\n</div>\n\n<div [ngClass]=\"listClass\" class=\"card-group\">\n  <div class=\"page-sticky-header hidden-xs flex-row\" *ngIf=\"(apps$ | async)?.length > 0\">\n    <div class=\"card-block card-column-40\">\n      <div class=\"card-appicon p-l-32 p-r-16 m-r-0 m-l-4\"></div>\n      {{ 'Application' | translate }}\n    </div>\n    <div class=\"card-block p-0 card-column-80\">\n      <div class=\"card-block card-column-80\">{{ 'Description' | translate }}</div>\n      <div class=\"card-block card-column-20\">{{ 'Type' | translate }}</div>\n      <div class=\"card-block card-column-20\"></div>\n    </div>\n  </div>\n  <div *ngFor=\"let app of apps$ | async\" class=\"col-xs-12 col-sm-4 col-md-3\">\n    <c8y-application-card\n      (onAppDeleted)=\"loadApplications()\"\n      [app]=\"app\"\n      class=\"d-contents\"\n    ></c8y-application-card>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.WizardService }]; }, null); })();
        return ApplicationListComponent;
    }());
    ApplicationListComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.WizardService }
    ]; };

    var InstallPluginComponent = /** @class */ (function () {
        function InstallPluginComponent(bsModalRef, modal) {
            var _this = this;
            this.bsModalRef = bsModalRef;
            this.modal = modal;
            this.filterTerm$ = new rxjs.BehaviorSubject('');
            this.filteredPlugins$ = new rxjs.BehaviorSubject([]);
            this.selectedPlugins = [];
            this.result = new Promise(function (resolve, reject) {
                _this._install = resolve;
                _this._cancel = reject;
            });
        }
        InstallPluginComponent.prototype.ngOnInit = function () {
            var _this = this;
            this.filteredPlugins$ = rxjs.combineLatest(this.plugins$, this.filterTerm$).pipe(operators.map(function (_a) {
                var _b = __read(_a, 2), plugins = _b[0], filterTerm = _b[1];
                return filterTerm.trim().length === 0
                    ? plugins
                    : plugins.filter(function (plugin) { return _this.filterContainString(plugin.name, filterTerm); });
            }));
        };
        InstallPluginComponent.prototype.cancel = function () {
            this.bsModalRef.hide();
            this._cancel();
        };
        InstallPluginComponent.prototype.install = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.modal.confirm(ngxComponents.gettext('Install plugins'), ngxComponents.gettext('The operation may take several minutes. During this time the application may be unavailable. Do you want to proceed?'), ngxComponents.Status.INFO, { ok: ngxComponents.gettext('Continue') })];
                        case 1:
                            _a.sent();
                            this._install(this.selectedPlugins);
                            this.bsModalRef.hide();
                            return [2 /*return*/];
                    }
                });
            });
        };
        InstallPluginComponent.prototype.filterContainString = function (name, filterTerm) {
            var term = filterTerm.toLowerCase().trim();
            return name && name.toLowerCase().indexOf(term) > -1;
        };
InstallPluginComponent.ɵfac = function InstallPluginComponent_Factory(t) { return new (t || InstallPluginComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc6.BsModalRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ModalService)); };
InstallPluginComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: InstallPluginComponent, selectors: [["c8y-install-plugin"]], inputs: { plugins$: "plugins$" }, decls: 21, vars: 17, consts: [[1, "viewport-modal"], [1, "modal-header", "dialog-header"], [3, "c8yIcon"], ["translate", ""], [1, "p-t-8", "p-16", "text-center", "separator-bottom"], ["translate", "", 1, "text-medium", "m-b-8"], [3, "onSearch"], [1, "modal-inner-scroll"], [1, "modal-body", "p-t-0", "p-b-0"], [1, "m-t-16", 3, "emptyListText", "plugins$", "selectable", "selectedItems"], [1, "modal-footer"], ["translate", "", "type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["type", "button", 1, "btn", "btn-primary", 3, "disabled", "title", "click"]], template: function InstallPluginComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵelementStart(1, "div", 1);
        ɵngcc0.ɵɵelement(2, "i", 2);
        ɵngcc0.ɵɵelementStart(3, "h4", 3);
        ɵngcc0.ɵɵtext(4, "Available plugins");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(5, "div", 4);
        ɵngcc0.ɵɵelementStart(6, "p", 5);
        ɵngcc0.ɵɵtext(7, "Select the compatible plugins to install");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(8, "c8y-filter", 6);
        ɵngcc0.ɵɵlistener("onSearch", function InstallPluginComponent_Template_c8y_filter_onSearch_8_listener($event) { return ctx.filterTerm$.next($event); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(9, "div", 7);
        ɵngcc0.ɵɵelementStart(10, "div", 8);
        ɵngcc0.ɵɵelementStart(11, "c8y-plugin-list", 9);
        ɵngcc0.ɵɵlistener("selectedItems", function InstallPluginComponent_Template_c8y_plugin_list_selectedItems_11_listener($event) { return ctx.selectedPlugins = $event; });
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(13, "div", 10);
        ɵngcc0.ɵɵelementStart(14, "button", 11);
        ɵngcc0.ɵɵlistener("click", function InstallPluginComponent_Template_button_click_14_listener() { return ctx.cancel(); });
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵtext(16, " Cancel ");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(17, "button", 12);
        ɵngcc0.ɵɵlistener("click", function InstallPluginComponent_Template_button_click_17_listener() { return ctx.install(); });
        ɵngcc0.ɵɵpipe(18, "translate");
        ɵngcc0.ɵɵtext(19);
        ɵngcc0.ɵɵpipe(20, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("c8yIcon", "plugin");
        ɵngcc0.ɵɵadvance(9);
        ɵngcc0.ɵɵproperty("emptyListText", ɵngcc0.ɵɵpipeBind1(12, 9, "No plugins available"))("plugins$", ctx.filteredPlugins$)("selectable", true);
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(15, 11, "Cancel"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(18, 13, "Install"));
        ɵngcc0.ɵɵproperty("disabled", ctx.selectedPlugins.length === 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate2(" ", ɵngcc0.ɵɵpipeBind1(20, 15, "Install"), " (", ctx.selectedPlugins.length, ") ");
    } }, directives: function () { return [ɵngcc1.IconDirective, ɵngcc1.C8yTranslateDirective, ɵngcc1.FilterInputComponent, PluginListComponent]; }, pipes: function () { return [ɵngcc1.C8yTranslatePipe]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(InstallPluginComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-install-plugin',
                template: "<div class=\"viewport-modal\">\n  <div class=\"modal-header dialog-header\">\n    <i [c8yIcon]=\"'plugin'\"></i>\n    <h4 translate>Available plugins</h4>\n  </div>\n  <div class=\"p-t-8 p-16 text-center separator-bottom\">\n    <p class=\"text-medium m-b-8\" translate>Select the compatible plugins to install</p>\n    <c8y-filter (onSearch)=\"this.filterTerm$.next($event)\"></c8y-filter>\n  </div>\n  <div class=\"modal-inner-scroll\">\n    <div class=\"modal-body p-t-0 p-b-0\">\n      <c8y-plugin-list\n        (selectedItems)=\"selectedPlugins = $event\"\n        [emptyListText]=\"'No plugins available' | translate\"\n        [plugins$]=\"filteredPlugins$\"\n        [selectable]=\"true\"\n        class=\"m-t-16\"\n      ></c8y-plugin-list>\n    </div>\n  </div>\n\n  <div class=\"modal-footer\">\n    <button\n      (click)=\"cancel()\"\n      class=\"btn btn-default\"\n      title=\"{{ 'Cancel' | translate }}\"\n      translate\n      type=\"button\"\n    >\n      Cancel\n    </button>\n    <button\n      (click)=\"install()\"\n      [disabled]=\"selectedPlugins.length === 0\"\n      class=\"btn btn-primary\"\n      title=\"{{ 'Install' | translate }}\"\n      type=\"button\"\n    >\n      {{ 'Install' | translate }} ({{ selectedPlugins.length }})\n    </button>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc6.BsModalRef }, { type: ɵngcc1.ModalService }]; }, { plugins$: [{
            type: core.Input
        }] }); })();
        return InstallPluginComponent;
    }());
    InstallPluginComponent.ctorParameters = function () { return [
        { type: modal.BsModalRef },
        { type: ngxComponents.ModalService }
    ]; };
    InstallPluginComponent.propDecorators = {
        plugins$: [{ type: core.Input }]
    };

    var ApplicationPluginsComponent = /** @class */ (function () {
        function ApplicationPluginsComponent(activatedRoute, ecosystemService, bsModalService, modal, translateService, pluginsService, alertService) {
            var _this = this;
            this.activatedRoute = activatedRoute;
            this.ecosystemService = ecosystemService;
            this.bsModalService = bsModalService;
            this.modal = modal;
            this.translateService = translateService;
            this.pluginsService = pluginsService;
            this.alertService = alertService;
            this.exportedPlugins$ = new rxjs.BehaviorSubject([]);
            this.remotePlugins$ = new rxjs.BehaviorSubject({});
            this.allAvailablePlugins$ = new rxjs.BehaviorSubject([]);
            this.installedPlugins$ = rxjs.combineLatest([
                this.remotePlugins$.pipe(operators.map(function (remotes) { return _this.getRemotePluginsList(remotes); })),
                this.allAvailablePlugins$
            ]).pipe(operators.map(function (_a) {
                var _b = __read(_a, 2), remotePlugins = _b[0], allPlugins = _b[1];
                return allPlugins.filter(function (p) { return remotePlugins.includes(p.id); });
            }), operators.shareReplay(1));
            this.pluginsToDelete = [];
            this.archives = [];
        }
        ApplicationPluginsComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                var id, _a, _b, manifest, exports, remotes, _c, _d;
                return __generator(this, function (_e) {
                    switch (_e.label) {
                        case 0:
                            id = this.activatedRoute.snapshot.parent.data.contextData.id;
                            _a = this;
                            return [4 /*yield*/, this.ecosystemService.getApplication(id)];
                        case 1:
                            _a.app = _e.sent();
                            _b = this;
                            return [4 /*yield*/, this.ecosystemService.listArchives(this.app.id)];
                        case 2:
                            _b.archives = _e.sent();
                            this.archives.sort(function (a, b) {
                                return new Date(b.created) - new Date(a.created);
                            });
                            manifest = this.app.manifest;
                            if (manifest) {
                                exports = manifest.exports || [];
                                this.exportedPlugins$.next(this.extendPluginList(exports, this.app.contextPath));
                                remotes = manifest.remotes || {};
                                this.remotePlugins$.next(remotes);
                            }
                            _d = (_c = this.allAvailablePlugins$).next;
                            return [4 /*yield*/, this.getAllPlugins()];
                        case 3:
                            _d.apply(_c, [_e.sent()]);
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPluginsComponent.prototype.installPlugins = function () {
            return __awaiter(this, void 0, void 0, function () {
                var initialState, pluginsToAdd, currentRemotes_1, ex_1;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            initialState = {
                                plugins$: rxjs.combineLatest([
                                    this.allAvailablePlugins$,
                                    this.installedPlugins$.pipe(operators.map(function (plugins) { return plugins.map(function (p) { return p.id; }); })),
                                    this.exportedPlugins$.pipe(operators.map(function (plugins) { return plugins.map(function (p) { return p.id; }); }))
                                ]).pipe(operators.map(function (_a) {
                                    var _b = __read(_a, 3), allPlugins = _b[0], installedPlugins = _b[1], exportedPluginNames = _b[2];
                                    var plugins = [];
                                    allPlugins
                                        .filter(function (p) { return !exportedPluginNames.includes(p.id); })
                                        .forEach(function (p) { return plugins.push(Object.assign(Object.assign({}, p), { installed: !!installedPlugins.includes(p.id) })); });
                                    return plugins;
                                }), operators.shareReplay(1))
                            };
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 5, , 6]);
                            return [4 /*yield*/, this.bsModalService.show(InstallPluginComponent, {
                                    class: 'modal-md',
                                    initialState: initialState,
                                    ignoreBackdropClick: true
                                }).content.result];
                        case 2:
                            pluginsToAdd = (_a.sent());
                            currentRemotes_1 = Object.assign({}, this.remotePlugins$.value);
                            pluginsToAdd.forEach(function (pluginId) {
                                var _a = _this.parsePluginId(pluginId), contextPath = _a.contextPath, name = _a.name;
                                (currentRemotes_1[contextPath] = currentRemotes_1[contextPath] || []).push(name);
                            });
                            if (!(this.archives.length === 6)) return [3 /*break*/, 4];
                            return [4 /*yield*/, this.ecosystemService.removeOldestArchive(this.app, this.archives)];
                        case 3:
                            _a.sent();
                            _a.label = 4;
                        case 4:
                            this.updateApplicationRemotes(currentRemotes_1);
                            return [3 /*break*/, 6];
                        case 5:
                            ex_1 = _a.sent();
                            return [3 /*break*/, 6];
                        case 6: return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPluginsComponent.prototype.removePlugins = function () {
            return __awaiter(this, void 0, void 0, function () {
                var humanizedAppName, remotes_1, ex_2;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.getHumanizedAppName(this.app)];
                        case 1:
                            humanizedAppName = _a.sent();
                            _a.label = 2;
                        case 2:
                            _a.trys.push([2, 4, , 5]);
                            return [4 /*yield*/, this.modal.confirm(ngxComponents.gettext('Remove plugins'), this.translateService.instant(ngxComponents.gettext("You are about to remove plugins from application \"{{ humanizedAppName }}\". The operation may take several minutes. During this time the application may be unavailable. Do you want to proceed?"), { humanizedAppName: humanizedAppName }), ngxComponents.Status.DANGER, {
                                    ok: ngxComponents.gettext('Remove'),
                                    cancel: ngxComponents.gettext('Cancel')
                                })];
                        case 3:
                            _a.sent();
                            remotes_1 = Object.assign({}, this.remotePlugins$.value);
                            this.pluginsToDelete.forEach(function (pluginId) {
                                var _a = _this.parsePluginId(pluginId), contextPath = _a.contextPath, name = _a.name;
                                remotes_1[contextPath] = remotes_1[contextPath].filter(function (p) { return p !== name; });
                            });
                            this.updateApplicationRemotes(remotes_1);
                            return [3 /*break*/, 5];
                        case 4:
                            ex_2 = _a.sent();
                            return [3 /*break*/, 5];
                        case 5: return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPluginsComponent.prototype.getAllPlugins = function () {
            return __awaiter(this, void 0, void 0, function () {
                var plugins, packages, apps;
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            plugins = [];
                            return [4 /*yield*/, this.ecosystemService.getPackageApplications()];
                        case 1:
                            packages = _a.sent();
                            apps = __spreadArray(__spreadArray([], __read(packages)), [this.app]);
                            apps.forEach(function (app) {
                                var exports = (app.manifest && app.manifest.exports) || [];
                                plugins.push.apply(plugins, __spreadArray([], __read(_this.extendPluginList(exports, app.contextPath))));
                            });
                            return [2 /*return*/, plugins];
                    }
                });
            });
        };
        ApplicationPluginsComponent.prototype.updateApplicationRemotes = function (remotes) {
            return __awaiter(this, void 0, void 0, function () {
                var ex_3;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this.isLoading = true;
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, 4, 5]);
                            return [4 /*yield*/, this.pluginsService.updateRemotesInCumulocityJson(this.app, remotes)];
                        case 2:
                            _a.sent();
                            this.remotePlugins$.next(remotes);
                            return [3 /*break*/, 5];
                        case 3:
                            ex_3 = _a.sent();
                            this.alertService.danger(ex_3);
                            return [3 /*break*/, 5];
                        case 4:
                            this.isLoading = false;
                            return [7 /*endfinally*/];
                        case 5: return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPluginsComponent.prototype.getRemotePluginsList = function (remotes) {
            var _this = this;
            var importContextPaths = Object.keys(remotes);
            var plugins = [];
            importContextPaths.forEach(function (contextPath) {
                var moduleNames = remotes[contextPath];
                plugins.push.apply(plugins, __spreadArray([], __read(moduleNames.map(function (module) { return _this.createPluginId(contextPath, module); }))));
            });
            return plugins;
        };
        ApplicationPluginsComponent.prototype.extendPluginList = function (plugins, contextPath) {
            var _this = this;
            var extendedPlugins = [];
            plugins.map(function (p) {
                extendedPlugins.push(Object.assign(Object.assign({}, p), { id: _this.createPluginId(contextPath, p.name, p.module), contextPath: contextPath }));
            });
            return extendedPlugins;
        };
        ApplicationPluginsComponent.prototype.createPluginId = function (contextPath, pluginName, pluginModuleName) {
            return contextPath + "/" + (pluginModuleName || pluginName);
        };
        ApplicationPluginsComponent.prototype.parsePluginId = function (id) {
            var _a = __read(id.split('/'), 2), contextPath = _a[0], name = _a[1];
            return { contextPath: contextPath, name: name };
        };
ApplicationPluginsComponent.ɵfac = function ApplicationPluginsComponent_Factory(t) { return new (t || ApplicationPluginsComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc8.ActivatedRoute), ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc6.BsModalService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.ModalService), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.TranslateService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.PluginsService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService)); };
ApplicationPluginsComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ApplicationPluginsComponent, selectors: [["c8y-app-plugins"]], decls: 47, vars: 46, consts: [[3, "icon", "label"], [3, "icon", "label", "path"], [3, "label"], [1, "card", "content-fullpage", "d-grid", "grid__col--6-6--md"], [1, "inner-scroll", "bg-gray-white"], [1, "card-header", "large-padding", "separator", "sticky-top"], ["translate", "", 1, "card-title"], [1, "card-block", "large-padding"], [1, "d-flex", "a-i-start", "p-b-16"], ["c8yIcon", "info-circle", 1, "text-info", "m-r-8", "icon-20"], ["translate", ""], [1, "separator-top", "d-block", 3, "emptyListText", "plugins$"], [1, "content-fullpage", "d-flex", "d-col"], [1, "card-header", "large-padding", "separator"], [1, "inner-scroll", "flex-grow"], [1, "separator-top", "d-block", 3, "emptyListText", "plugins$", "selectable", "selectedItems"], [1, "card-footer", "large-padding", "separator"], ["translate", "", 1, "btn", "btn-default", 3, "disabled", "title", "click"], ["translate", "", 1, "btn", "btn-default", 3, "ngClass", "title", "click"]], template: function ApplicationPluginsComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "async");
        ɵngcc0.ɵɵpipe(3, "humanizeAppName");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(4, "c8y-breadcrumb");
        ɵngcc0.ɵɵelement(5, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(6, "translate");
        ɵngcc0.ɵɵelement(7, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(8, "translate");
        ɵngcc0.ɵɵelement(9, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(10, "translate");
        ɵngcc0.ɵɵelement(11, "c8y-breadcrumb-item", 2);
        ɵngcc0.ɵɵpipe(12, "async");
        ɵngcc0.ɵɵpipe(13, "humanizeAppName");
        ɵngcc0.ɵɵelement(14, "c8y-breadcrumb-item", 2);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(16, "div", 3);
        ɵngcc0.ɵɵelementStart(17, "div", 4);
        ɵngcc0.ɵɵelementStart(18, "div", 5);
        ɵngcc0.ɵɵelementStart(19, "h4", 6);
        ɵngcc0.ɵɵtext(20, "Included plugins");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(21, "div", 7);
        ɵngcc0.ɵɵelementStart(22, "p", 8);
        ɵngcc0.ɵɵelement(23, "i", 9);
        ɵngcc0.ɵɵelementStart(24, "span", 10);
        ɵngcc0.ɵɵtext(25, " Plugins included with the application. These plugins are required for running the application and cannot be removed. ");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelement(26, "c8y-plugin-list", 11);
        ɵngcc0.ɵɵpipe(27, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(28, "div", 12);
        ɵngcc0.ɵɵelementStart(29, "div", 13);
        ɵngcc0.ɵɵelementStart(30, "h4", 6);
        ɵngcc0.ɵɵtext(31, "Installed plugins");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(32, "div", 14);
        ɵngcc0.ɵɵelementStart(33, "div", 7);
        ɵngcc0.ɵɵelementStart(34, "p", 8);
        ɵngcc0.ɵɵelement(35, "i", 9);
        ɵngcc0.ɵɵelementStart(36, "span", 10);
        ɵngcc0.ɵɵtext(37, " Plugins currently installed for this application. Upgrading the application won't change any of these plugins. ");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(38, "c8y-plugin-list", 15);
        ɵngcc0.ɵɵlistener("selectedItems", function ApplicationPluginsComponent_Template_c8y_plugin_list_selectedItems_38_listener($event) { return ctx.pluginsToDelete = $event; });
        ɵngcc0.ɵɵpipe(39, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(40, "div", 16);
        ɵngcc0.ɵɵelementStart(41, "button", 17);
        ɵngcc0.ɵɵlistener("click", function ApplicationPluginsComponent_Template_button_click_41_listener() { return ctx.removePlugins(); });
        ɵngcc0.ɵɵpipe(42, "translate");
        ɵngcc0.ɵɵtext(43, " Remove plugins ");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(44, "button", 18);
        ɵngcc0.ɵɵlistener("click", function ApplicationPluginsComponent_Template_button_click_44_listener() { return ctx.installPlugins(); });
        ɵngcc0.ɵɵpipe(45, "translate");
        ɵngcc0.ɵɵtext(46, " Install plugins ");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 20, ɵngcc0.ɵɵpipeBind1(3, 22, ctx.app)));
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(6, 24, "Ecosystem"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(8, 26, "Applications"))("path", "ecosystem/applications");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(10, 28, "All applications"))("path", "ecosystem/applications");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(12, 30, ɵngcc0.ɵɵpipeBind1(13, 32, ctx.app)));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(15, 34, "Plugins"));
        ɵngcc0.ɵɵadvance(12);
        ɵngcc0.ɵɵproperty("emptyListText", ɵngcc0.ɵɵpipeBind1(27, 36, "This application doesn't contain plugins."))("plugins$", ctx.exportedPlugins$);
        ɵngcc0.ɵɵadvance(12);
        ɵngcc0.ɵɵproperty("emptyListText", ɵngcc0.ɵɵpipeBind1(39, 38, "No plugins installed"))("plugins$", ctx.installedPlugins$)("selectable", true);
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(42, 40, "Remove plugins"));
        ɵngcc0.ɵɵproperty("disabled", ctx.pluginsToDelete.length === 0 || ctx.isLoading);
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(45, 42, "Install plugins"));
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(44, _c4, ctx.isLoading));
    } }, directives: function () { return [ɵngcc1.TitleComponent, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc1.C8yTranslateDirective, ɵngcc1.IconDirective, PluginListComponent, ɵngcc5.NgClass]; }, pipes: function () { return [ɵngcc5.AsyncPipe, ɵngcc1.HumanizeAppNamePipe, ɵngcc1.C8yTranslatePipe]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplicationPluginsComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-app-plugins',
                template: "<c8y-title>{{ app | humanizeAppName | async }}</c8y-title>\n\n<c8y-breadcrumb>\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'Applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'All applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"app | humanizeAppName | async\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"'Plugins' | translate\"></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<div class=\"card content-fullpage d-grid grid__col--6-6--md\">\n  <div class=\"inner-scroll bg-gray-white\">\n    <div class=\"card-header large-padding separator sticky-top\">\n      <h4 class=\"card-title\" translate>Included plugins</h4>\n    </div>\n    <div class=\"card-block large-padding\">\n      <p class=\"d-flex a-i-start p-b-16\">\n        <i c8yIcon=\"info-circle\" class=\"text-info m-r-8 icon-20\"></i>\n        <span translate>\n          Plugins included with the application. These plugins are required for running the\n          application and cannot be removed.\n        </span>\n      </p>\n      <c8y-plugin-list\n        [emptyListText]=\"'This application doesn\\'t contain plugins.' | translate\"\n        [plugins$]=\"exportedPlugins$\"\n        class=\"separator-top d-block\"\n      ></c8y-plugin-list>\n    </div>\n  </div>\n\n  <div class=\"content-fullpage d-flex d-col\">\n    <div class=\"card-header large-padding separator\">\n      <h4 class=\"card-title\" translate>Installed plugins</h4>\n    </div>\n    <div class=\"inner-scroll flex-grow\">\n      <div class=\"card-block large-padding\">\n        <p class=\"d-flex a-i-start p-b-16\">\n          <i c8yIcon=\"info-circle\" class=\"text-info m-r-8 icon-20\"></i>\n          <span translate>\n            Plugins currently installed for this application. Upgrading the application won't change\n            any of these plugins.\n          </span>\n        </p>\n        <c8y-plugin-list\n          (selectedItems)=\"pluginsToDelete = $event\"\n          [emptyListText]=\"'No plugins installed' | translate\"\n          [plugins$]=\"installedPlugins$\"\n          [selectable]=\"true\"\n          class=\"separator-top d-block\"\n        ></c8y-plugin-list>\n      </div>\n    </div>\n\n    <div class=\"card-footer large-padding separator\">\n      <button\n        (click)=\"removePlugins()\"\n        [disabled]=\"pluginsToDelete.length === 0 || isLoading\"\n        class=\"btn btn-default\"\n        title=\"{{ 'Remove plugins' | translate }}\"\n        translate\n      >\n        Remove plugins\n      </button>\n      <button\n        (click)=\"installPlugins()\"\n        [ngClass]=\"{ 'btn-pending': isLoading }\"\n        class=\"btn btn-default\"\n        title=\"{{ 'Install plugins' | translate }}\"\n        translate\n      >\n        Install plugins\n      </button>\n    </div>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc8.ActivatedRoute }, { type: EcosystemService }, { type: ɵngcc6.BsModalService }, { type: ɵngcc1.ModalService }, { type: ɵngcc2.TranslateService }, { type: ɵngcc1.PluginsService }, { type: ɵngcc1.AlertService }]; }, null); })();
        return ApplicationPluginsComponent;
    }());
    ApplicationPluginsComponent.ctorParameters = function () { return [
        { type: router.ActivatedRoute },
        { type: EcosystemService },
        { type: modal.BsModalService },
        { type: ngxComponents.ModalService },
        { type: core$1.TranslateService },
        { type: ngxComponents.PluginsService },
        { type: ngxComponents.AlertService }
    ]; };

    var ApplicationPluginsGuard = /** @class */ (function () {
        function ApplicationPluginsGuard(ecosystemService) {
            this.ecosystemService = ecosystemService;
        }
        ApplicationPluginsGuard.prototype.canActivate = function (route) {
            var app = route.data.contextData || route.parent.data.contextData;
            if (!app) {
                return false;
            }
            return (app.type === client.ApplicationType.HOSTED &&
                this.ecosystemService.isOwner(app) &&
                !this.ecosystemService.isPackage(app));
        };
ApplicationPluginsGuard.ɵfac = function ApplicationPluginsGuard_Factory(t) { return new (t || ApplicationPluginsGuard)(ɵngcc0.ɵɵinject(EcosystemService)); };
ApplicationPluginsGuard.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ApplicationPluginsGuard, factory: function (t) { return ApplicationPluginsGuard.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplicationPluginsGuard, [{
        type: core.Injectable
    }], function () { return [{ type: EcosystemService }]; }, null); })();
        return ApplicationPluginsGuard;
    }());
    ApplicationPluginsGuard.ctorParameters = function () { return [
        { type: EcosystemService }
    ]; };

    var PluginListItemComponent = /** @class */ (function () {
        function PluginListItemComponent() {
            this.isItemSelected = new core.EventEmitter();
        }
        PluginListItemComponent.prototype.onChange = function (event) {
            this.isItemSelected.next(event);
        };
PluginListItemComponent.ɵfac = function PluginListItemComponent_Factory(t) { return new (t || PluginListItemComponent)(); };
PluginListItemComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: PluginListItemComponent, selectors: [["c8y-plugin-list-item"]], inputs: { plugin: "plugin", selectable: "selectable" }, outputs: { isItemSelected: "isItemSelected" }, decls: 17, vars: 10, consts: [[1, "bg-inherit", 3, "ngClass"], ["class", "p-r-0 p-l-0", 3, "disabled", "change", 4, "ngIf"], [1, "c8y-plugin-icon"], [1, "d-flex"], [1, "p-r-8"], [1, "text-medium"], [1, "text-muted", "small", "m-l-8"], [4, "ngIf"], [1, "small", "l-h-tight"], ["class", "label label-info m-l-auto a-s-start", 4, "ngIf"], [1, "p-r-0", "p-l-0", 3, "disabled", "change"], [1, "text-success", 3, "c8yIcon"], ["translate", "", 1, "text-muted", "small"], [1, "label", "label-info", "m-l-auto", "a-s-start"]], template: function PluginListItemComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-li", 0);
        ɵngcc0.ɵɵtemplate(1, PluginListItemComponent_c8y_li_checkbox_1_Template, 1, 1, "c8y-li-checkbox", 1);
        ɵngcc0.ɵɵelementStart(2, "c8y-li-icon");
        ɵngcc0.ɵɵelementStart(3, "i", 2);
        ɵngcc0.ɵɵelementStart(4, "span");
        ɵngcc0.ɵɵtext(5);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(6, "c8y-li-body", 3);
        ɵngcc0.ɵɵelementStart(7, "div", 4);
        ɵngcc0.ɵɵelementStart(8, "p");
        ɵngcc0.ɵɵelementStart(9, "span", 5);
        ɵngcc0.ɵɵtext(10);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(11, "em", 6);
        ɵngcc0.ɵɵtext(12);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(13, PluginListItemComponent_span_13_Template, 4, 1, "span", 7);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(14, "p", 8);
        ɵngcc0.ɵɵtext(15);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(16, PluginListItemComponent_span_16_Template, 2, 1, "span", 9);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(8, _c5, ctx.plugin.installed));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.selectable);
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵtextInterpolate(ctx.plugin.name == null ? null : ctx.plugin.name.substr(0, 2));
        ɵngcc0.ɵɵadvance(5);
        ɵngcc0.ɵɵtextInterpolate(ctx.plugin.name);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate(ctx.plugin.version);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.plugin.installed);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate(ctx.plugin.description);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.selectable);
    } }, directives: [ɵngcc1.ListItemComponent, ɵngcc5.NgClass, ɵngcc5.NgIf, ɵngcc1.ListItemIconComponent, ɵngcc1.ListItemBodyComponent, ɵngcc1.ListItemCheckboxComponent, ɵngcc1.IconDirective, ɵngcc1.C8yTranslateDirective], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PluginListItemComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-plugin-list-item',
                template: "<c8y-li [ngClass]=\"{ disabled: plugin.installed }\" class=\"bg-inherit\">\n  <c8y-li-checkbox\n    (change)=\"onChange($event.target.checked)\"\n    *ngIf=\"selectable\"\n    [disabled]=\"plugin.installed\"\n    class=\"p-r-0 p-l-0\"\n  ></c8y-li-checkbox>\n  <c8y-li-icon>\n    <i class=\"c8y-plugin-icon\">\n      <span>{{ plugin.name?.substr(0, 2) }}</span>\n    </i>\n  </c8y-li-icon>\n  <c8y-li-body class=\"d-flex\">\n    <div class=\"p-r-8\">\n      <p>\n        <span class=\"text-medium\">{{ plugin.name }}</span>\n        <em class=\"text-muted small m-l-8\">{{ plugin.version }}</em>\n        <span *ngIf=\"plugin.installed\">\n          <i [c8yIcon]=\"'check-circle'\" class=\"text-success\"></i>\n          <em class=\"text-muted small\" translate>Installed</em>\n        </span>\n      </p>\n      <p class=\"small l-h-tight\">{{ plugin.description }}</p>\n    </div>\n    <span *ngIf=\"selectable\" class=\"label label-info m-l-auto a-s-start\">{{\n      plugin.contextPath\n    }}</span>\n  </c8y-li-body>\n</c8y-li>\n"
            }]
    }], function () { return []; }, { isItemSelected: [{
            type: core.Output
        }], plugin: [{
            type: core.Input
        }], selectable: [{
            type: core.Input
        }] }); })();
        return PluginListItemComponent;
    }());
    PluginListItemComponent.propDecorators = {
        plugin: [{ type: core.Input }],
        selectable: [{ type: core.Input }],
        isItemSelected: [{ type: core.Output }]
    };

    var PluginListComponent = /** @class */ (function () {
        function PluginListComponent() {
            this.emptyListText = '';
            this.selectedItems = new core.EventEmitter();
            this.selectedPlugins = {};
        }
        PluginListComponent.prototype.updateSelectedItems = function (value, name) {
            var _this = this;
            this.selectedPlugins[name] = value;
            this.selectedItems.emit(Object.keys(this.selectedPlugins).filter(function (k) { return _this.selectedPlugins[k]; }));
        };
PluginListComponent.ɵfac = function PluginListComponent_Factory(t) { return new (t || PluginListComponent)(); };
PluginListComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: PluginListComponent, selectors: [["c8y-plugin-list"]], inputs: { emptyListText: "emptyListText", plugins$: "plugins$", selectable: "selectable" }, outputs: { selectedItems: "selectedItems" }, decls: 5, vars: 4, consts: [[1, "bg-inherit"], [4, "ngIf", "ngIfElse"], ["emptyList", ""], [4, "ngFor", "ngForOf"], [3, "plugin", "selectable", "isItemSelected"], [1, "c8y-empty-state", "text-left"], ["c8yIcon", "plugin"]], template: function PluginListComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-list-group", 0);
        ɵngcc0.ɵɵtemplate(1, PluginListComponent_ng_container_1_Template, 3, 3, "ng-container", 1);
        ɵngcc0.ɵɵpipe(2, "async");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(3, PluginListComponent_ng_template_3_Template, 5, 3, "ng-template", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);
    } if (rf & 2) {
        var _r1 = ɵngcc0.ɵɵreference(4);
        var tmp_0_0;
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_0_0 = ɵngcc0.ɵɵpipeBind1(2, 2, ctx.plugins$)) == null ? null : tmp_0_0.length) !== 0)("ngIfElse", _r1);
    } }, directives: [ɵngcc1.ListGroupComponent, ɵngcc5.NgIf, ɵngcc5.NgForOf, PluginListItemComponent, ɵngcc1.IconDirective], pipes: [ɵngcc5.AsyncPipe, ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PluginListComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-plugin-list',
                template: "<c8y-list-group class=\"bg-inherit\">\n  <ng-container *ngIf=\"(plugins$ | async)?.length !== 0; else emptyList\">\n    <ng-container *ngFor=\"let plugin of plugins$ | async\">\n      <c8y-plugin-list-item\n        (isItemSelected)=\"updateSelectedItems($event, plugin.id)\"\n        [plugin]=\"plugin\"\n        [selectable]=\"selectable\"\n      ></c8y-plugin-list-item>\n    </ng-container>\n  </ng-container>\n</c8y-list-group>\n<ng-template #emptyList>\n  <div class=\"c8y-empty-state text-left\">\n    <h1 c8yIcon=\"plugin\"></h1>\n    <p>\n      {{ emptyListText | translate }}\n    </p>\n  </div>\n</ng-template>\n"
            }]
    }], function () { return []; }, { emptyListText: [{
            type: core.Input
        }], selectedItems: [{
            type: core.Output
        }], plugins$: [{
            type: core.Input
        }], selectable: [{
            type: core.Input
        }] }); })();
        return PluginListComponent;
    }());
    PluginListComponent.propDecorators = {
        plugins$: [{ type: core.Input }],
        emptyListText: [{ type: core.Input }],
        selectable: [{ type: core.Input }],
        selectedItems: [{ type: core.Output }]
    };

    var ActivityLogComponent = /** @class */ (function () {
        function ActivityLogComponent(ecosystemService, alertService) {
            this.ecosystemService = ecosystemService;
            this.alertService = alertService;
            this.archives = [];
            this.canReactivate = false;
        }
        Object.defineProperty(ActivityLogComponent.prototype, "uploadProgress", {
            get: function () {
                return this.ecosystemService.progress;
            },
            enumerable: false,
            configurable: true
        });
        ActivityLogComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.canReactivate = this.showReactivate();
                    this.refresh();
                    return [2 /*return*/];
                });
            });
        };
        ActivityLogComponent.prototype.isActive = function (archive) {
            return this.application.activeVersionId === archive.id;
        };
        ActivityLogComponent.prototype.toActivate = function (archive) {
            return this.toActivateVersionId === archive.id;
        };
        ActivityLogComponent.prototype.checkIfLast = function (archive) {
            return archive.id === this.last.id;
        };
        ActivityLogComponent.prototype.showReactivate = function () {
            return this.ecosystemService.isApplication(this.application);
        };
        ActivityLogComponent.prototype.setActive = function (archive) {
            return __awaiter(this, void 0, void 0, function () {
                var id, _a, ex_1;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            id = archive.id || archive;
                            this.toActivateVersionId = id;
                            this.isLoading = true;
                            _b.label = 1;
                        case 1:
                            _b.trys.push([1, 3, , 4]);
                            _a = this;
                            return [4 /*yield*/, this.ecosystemService.setAppActiveVersion(this.application, id)];
                        case 2:
                            _a.application = (_b.sent()).data;
                            return [3 /*break*/, 4];
                        case 3:
                            ex_1 = _b.sent();
                            this.alertService.addServerFailure(ex_1);
                            return [3 /*break*/, 4];
                        case 4:
                            this.isLoading = false;
                            this.refresh();
                            return [2 /*return*/];
                    }
                });
            });
        };
        ActivityLogComponent.prototype.deleteArchive = function (archive) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.deleteArchive(archive, this.application)];
                        case 1:
                            _a.sent();
                            this.refresh();
                            return [2 /*return*/];
                    }
                });
            });
        };
        ActivityLogComponent.prototype.downloadArchive = function (archive) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.downloadArchive(this.application, archive)];
                        case 1:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            });
        };
        ActivityLogComponent.prototype.reactivateArchive = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.reactivateArchive(this.application)];
                        case 1:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            });
        };
        ActivityLogComponent.prototype.onRefresh = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.refresh()];
                        case 1:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            });
        };
        ActivityLogComponent.prototype.refresh = function () {
            return __awaiter(this, void 0, void 0, function () {
                var _a;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this.isLoading = true;
                            _a = this;
                            return [4 /*yield*/, this.ecosystemService.listArchives(this.application.id)];
                        case 1:
                            _a.archives = _b.sent();
                            this.archives.sort(function (a, b) {
                                return new Date(b.created) - new Date(a.created);
                            });
                            this.last = this.archives[this.archives.length - 1];
                            this.isLoading = false;
                            return [2 /*return*/];
                    }
                });
            });
        };
ActivityLogComponent.ɵfac = function ActivityLogComponent_Factory(t) { return new (t || ActivityLogComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService)); };
ActivityLogComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ActivityLogComponent, selectors: [["c8y-activity-log"]], inputs: { application: "application" }, decls: 6, vars: 2, consts: [[1, "inner-scroll", "bg-gray-white", "flex-grow"], [1, "card-block", "overflow-visible"], [3, "ngClass", 4, "ngFor", "ngForOf"], [1, "card-footer"], ["class", "m-auto", 4, "ngIf"], [3, "ngClass"], [3, "icon"], [1, "d-flex", "a-i-start"], [2, "min-width", "0", "flex", "1"], [1, "text-truncate-wrap", 3, "title"], ["class", "text-muted", 4, "ngIf"], ["class", "icon-spin", 3, "c8yIcon", "title", 4, "ngIf"], ["class", "label label-primary m-l-auto m-t-4", 4, "ngIf"], ["icon", "check-square-o", 3, "click", 4, "ngIf"], ["icon", "download", 3, "click"], ["icon", "trash", 3, "click", 4, "ngIf"], ["icon", "undo", 3, "click", 4, "ngIf"], [1, "text-muted"], [1, "icon-spin", 3, "c8yIcon", "title"], [1, "label", "label-primary", "m-l-auto", "m-t-4"], ["icon", "check-square-o", 3, "click"], ["icon", "trash", 3, "click"], ["icon", "undo", 3, "click"], [1, "m-auto"], [3, "application", "applicationChange", "refresh"]], template: function ActivityLogComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵelementStart(1, "div", 1);
        ɵngcc0.ɵɵelementStart(2, "c8y-list-group");
        ɵngcc0.ɵɵtemplate(3, ActivityLogComponent_c8y_li_timeline_3_Template, 20, 23, "c8y-li-timeline", 2);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(4, "div", 3);
        ɵngcc0.ɵɵtemplate(5, ActivityLogComponent_c8y_form_group_5_Template, 2, 1, "c8y-form-group", 4);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.archives);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isLoading);
    } }, directives: function () { return [ɵngcc1.ListGroupComponent, ɵngcc5.NgForOf, ɵngcc5.NgIf, ɵngcc1.ListItemTimelineComponent, ɵngcc5.NgClass, ɵngcc1.ListItemComponent, ɵngcc1.ListItemIconComponent, ɵngcc1.ListItemBodyComponent, ɵngcc1.ListItemActionComponent, ɵngcc1.IconDirective, ɵngcc1.FormGroupComponent, UploadArchiveComponent]; }, pipes: function () { return [ɵngcc5.DatePipe, ɵngcc1.C8yTranslatePipe]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ActivityLogComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-activity-log',
                template: "<div class=\"inner-scroll bg-gray-white flex-grow\">\n  <div class=\"card-block overflow-visible\">\n    <c8y-list-group>\n      <c8y-li-timeline *ngFor=\"let archive of archives\" [ngClass]=\"{ active: isActive(archive) }\">\n        {{ archive.created | date: 'd MMM YYYY' }}\n        {{ archive.created | date: 'shortTime' }}\n        <c8y-li>\n          <c8y-li-icon\n            [icon]=\"checkIfLast(archive) ? 'flag-checkered' : 'file-zip-o'\"\n          ></c8y-li-icon>\n          <c8y-li-body>\n            <div class=\"d-flex a-i-start\">\n              <div style=\"min-width: 0; flex: 1\">\n                <span class=\"text-truncate-wrap\" title=\" {{ archive.description || archive.name }}\">\n                  {{ archive.description || archive.name }}\n                </span>\n                <small *ngIf=\"archive.description\" class=\"text-muted\">{{\n                  archive.description\n                }}</small>\n              </div>\n              <i\n                *ngIf=\"isLoading && toActivate(archive)\"\n                [c8yIcon]=\"'circle-o-notch'\"\n                class=\"icon-spin\"\n                title=\"{{ 'Activating' | translate }}\"\n              ></i>\n\n              <span *ngIf=\"isActive(archive)\" class=\"label label-primary m-l-auto m-t-4\">{{\n                'Active' | translate\n              }}</span>\n            </div>\n          </c8y-li-body>\n          <c8y-li-action\n            (click)=\"setActive(archive)\"\n            *ngIf=\"!isLoading && !isActive(archive)\"\n            icon=\"check-square-o\"\n          >\n            {{ 'Set as active`archive`' | translate }}\n          </c8y-li-action>\n          <c8y-li-action (click)=\"downloadArchive(archive)\" icon=\"download\">\n            {{ 'Download`archive`' | translate }}\n          </c8y-li-action>\n          <c8y-li-action\n            (click)=\"deleteArchive(archive)\"\n            *ngIf=\"archives.length > 1 && !checkIfLast(archive) && !isActive(archive)\"\n            icon=\"trash\"\n          >\n            {{ 'Delete`archive`' | translate }}\n          </c8y-li-action>\n          <c8y-li-action\n            (click)=\"reactivateArchive()\"\n            *ngIf=\"canReactivate && isActive(archive)\"\n            icon=\"undo\"\n          >\n            {{ 'Reactivate archive' | translate }}\n          </c8y-li-action>\n        </c8y-li>\n      </c8y-li-timeline>\n    </c8y-list-group>\n  </div>\n</div>\n<div class=\"card-footer\">\n  <c8y-form-group *ngIf=\"!isLoading\" class=\"m-auto\">\n    <c8y-upload-archive [(application)]=\"application\" (refresh)=\"onRefresh()\"></c8y-upload-archive>\n  </c8y-form-group>\n</div>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.AlertService }]; }, { application: [{
            type: core.Input
        }] }); })();
        return ActivityLogComponent;
    }());
    ActivityLogComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.AlertService }
    ]; };
    ActivityLogComponent.propDecorators = {
        application: [{ type: core.Input }]
    };

    var MICROSERVICES_BASE_PATH = '/microservices';
    var APPLICATIONS_BASE_PATH = '/ecosystem';
    var ApplicationPropertiesComponent = /** @class */ (function () {
        function ApplicationPropertiesComponent(activatedRoute, ecosystemService, router, formBuilder, applicationService, alertService, inventoryService) {
            this.activatedRoute = activatedRoute;
            this.ecosystemService = ecosystemService;
            this.router = router;
            this.formBuilder = formBuilder;
            this.applicationService = applicationService;
            this.alertService = alertService;
            this.inventoryService = inventoryService;
            this.singleTenant = false;
            this.subscription = false;
            this.iconMap = {
                HOSTED: 'cloud',
                EXTERNAL: 'external-link-square',
                MICROSERVICE: 'microchip'
            };
            this.isLoading = true;
            this.packageProperties = __spreadArray([], __read(packageProperties));
        }
        ApplicationPropertiesComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.load()];
                        case 1:
                            _a.sent();
                            this.isUnpacked = this.ecosystemService.isUnpacked(this.application);
                            this.isPackage = this.ecosystemService.isPackage(this.application);
                            this.isFeature = this.ecosystemService.isFeature(this.application);
                            this.isExternal = this.ecosystemService.isExternal(this.application);
                            this.isMicroservice = this.ecosystemService.isMicroservice(this.application);
                            this.appState = this.ecosystemService.getAppState(this.application);
                            if (!this.isUnpacked) return [3 /*break*/, 3];
                            return [4 /*yield*/, this.resolveSourcePackage()];
                        case 2:
                            _a.sent();
                            _a.label = 3;
                        case 3:
                            this.setBreadcrumbConifg();
                            if (this.isCustomMicroservice) {
                                this.loadBinaryMo();
                            }
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.load = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this.isLoading = true;
                            this.initForm();
                            return [4 /*yield*/, this.loadApplication()];
                        case 1:
                            _a.sent();
                            this.isLoading = false;
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.onApplication = function (app) {
            if (app.manifest) {
                this.singleTenant = app.manifest.isolation === client.Isolation.PER_TENANT;
                this.subscription = app.manifest.billingMode === client.BillingMode.SUBSCRIPTION;
            }
        };
        ApplicationPropertiesComponent.prototype.cancel = function () {
            if (this.application.type === client.ApplicationType.MICROSERVICE) {
                this.router.navigateByUrl(MICROSERVICES_BASE_PATH);
            }
            else {
                this.router.navigateByUrl(APPLICATIONS_BASE_PATH);
            }
        };
        ApplicationPropertiesComponent.prototype.openApp = function (app) {
            window.open(this.applicationService.getHref(app));
        };
        ApplicationPropertiesComponent.prototype.getPackage = function (entityOrId) {
            return this.applicationService.detail(entityOrId);
        };
        ApplicationPropertiesComponent.prototype.delete = function () {
            return __awaiter(this, void 0, void 0, function () {
                var ex_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 2, , 3]);
                            return [4 /*yield*/, this.ecosystemService.deleteApp(this.application)];
                        case 1:
                            _a.sent();
                            if (this.application.type === client.ApplicationType.MICROSERVICE) {
                                this.router.navigateByUrl(MICROSERVICES_BASE_PATH);
                            }
                            else {
                                this.router.navigateByUrl(APPLICATIONS_BASE_PATH);
                            }
                            return [3 /*break*/, 3];
                        case 2:
                            ex_1 = _a.sent();
                            if (ex_1) {
                                this.alertService.addServerFailure(ex_1);
                            }
                            return [3 /*break*/, 3];
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.subscribe = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.subscribeApp(this.application)];
                        case 1:
                            _a.sent();
                            this.loadApplication();
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.unsubscribe = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.unsubscribeApp(this.application)];
                        case 1:
                            _a.sent();
                            this.loadApplication();
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.loadApplication = function () {
            return __awaiter(this, void 0, void 0, function () {
                var id, _a, _b, _c, _d;
                return __generator(this, function (_e) {
                    switch (_e.label) {
                        case 0:
                            id = this.activatedRoute.snapshot.parent.data.contextData.id;
                            _a = this;
                            return [4 /*yield*/, this.ecosystemService.getApplication(id)];
                        case 1:
                            _a.application = _e.sent();
                            if (this.application.type === client.ApplicationType.MICROSERVICE) {
                                this.formGroup.get('name').disable();
                            }
                            this.formGroup.patchValue(Object.assign({}, this.application));
                            this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.application);
                            _b = this;
                            _c = this.canOpenInBrowser;
                            if (!_c) return [3 /*break*/, 3];
                            return [4 /*yield*/, this.ecosystemService.isOverwrittenByCustomApp(this.application)];
                        case 2:
                            _c = (_e.sent());
                            _e.label = 3;
                        case 3:
                            _b.disableOpenInBrowser = _c;
                            this.canDelete = this.ecosystemService.canDeleteApp(this.application);
                            this.isOwner = this.ecosystemService.isOwner(this.application);
                            this.isActivityLogSupported = this.isActivityLogSupportedByApp(this.application);
                            this.isCustomMicroservice = this.ecosystemService.isCustomMicroservice(this.application);
                            _d = this;
                            return [4 /*yield*/, this.ecosystemService.checkIfSubscribed(this.application)];
                        case 4:
                            _d.isSubscribed = _e.sent();
                            this.onApplication(this.application);
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.save = function (app) {
            return __awaiter(this, void 0, void 0, function () {
                var ex_2;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            app.id = this.application.id;
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [4 /*yield*/, this.ecosystemService.updateApp(app)];
                        case 2:
                            _a.sent();
                            this.alertService.success(ngxComponents.gettext('Application saved.'));
                            this.formGroup.reset();
                            this.loadApplication();
                            return [3 /*break*/, 4];
                        case 3:
                            ex_2 = _a.sent();
                            return [3 /*break*/, 4];
                        case 4: return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.onNewArchive = function () {
            this.loadBinaryMo();
        };
        ApplicationPropertiesComponent.prototype.resolveSourcePackage = function () {
            return __awaiter(this, void 0, void 0, function () {
                var _a;
                var _this = this;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            _a = this;
                            return [4 /*yield*/, this.getPackage(this.application.manifest.source)];
                        case 1:
                            _a.package = (_b.sent()).data;
                            if (this.package) {
                                this.packageProperties.push({
                                    label: ngxComponents.gettext('Source package'),
                                    value: this.package.name,
                                    type: 'link',
                                    action: function () { return _this.router.navigateByUrl(ngxComponents.ViewContext.Application.replace(':id', _this.package.id.toString())); }
                                });
                            }
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationPropertiesComponent.prototype.initForm = function () {
            this.formGroup = this.formBuilder.group({
                id: [{ value: '' }],
                name: [forms.Validators.required, forms.Validators.maxLength(120)],
                key: [forms.Validators.required, forms.Validators.maxLength(120)],
                contextPath: [forms.Validators.required, forms.Validators.maxLength(120)],
                description: ['', forms.Validators.maxLength(200)],
                resourcesUrl: [forms.Validators.required],
                username: [forms.Validators.required],
                password: [forms.Validators.required],
                externalUrl: [forms.Validators.required]
            });
        };
        ApplicationPropertiesComponent.prototype.isActivityLogSupportedByApp = function (app) {
            return (this.ecosystemService.isOwner(app) &&
                app.type !== client.ApplicationType.MICROSERVICE &&
                app.type !== client.ApplicationType.EXTERNAL);
        };
        ApplicationPropertiesComponent.prototype.setBreadcrumbConifg = function () {
            this.breadcrumbConfig = {
                icon: this.isMicroservice ? 'microchip' : this.isFeature ? 'tab' : 'c8y-modules',
                label: this.isMicroservice
                    ? ngxComponents.gettext('Microservices')
                    : this.isFeature
                        ? ngxComponents.gettext('Features')
                        : ngxComponents.gettext('All applications'),
                path: this.isMicroservice
                    ? 'microservices'
                    : this.isFeature
                        ? 'ecosystem/features'
                        : 'ecosystem/applications'
            };
        };
        ApplicationPropertiesComponent.prototype.loadBinaryMo = function () {
            return __awaiter(this, void 0, void 0, function () {
                var _a;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            _a = this;
                            return [4 /*yield*/, this.inventoryService.detail(this.application.activeVersionId)];
                        case 1:
                            _a.binaryMo = (_b.sent()).data;
                            return [2 /*return*/];
                    }
                });
            });
        };
ApplicationPropertiesComponent.ɵfac = function ApplicationPropertiesComponent_Factory(t) { return new (t || ApplicationPropertiesComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc8.ActivatedRoute), ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc8.Router), ɵngcc0.ɵɵdirectiveInject(ɵngcc4.FormBuilder), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.InventoryService)); };
ApplicationPropertiesComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ApplicationPropertiesComponent, selectors: [["c8y-application-properties"]], decls: 9, vars: 12, consts: [[4, "ngIf"], [1, "row"], [3, "ngClass"], ["class", "card content-fullpage", 3, "ngClass", 4, "ngIf"], [3, "icon", "label"], [3, "icon", "label", "path"], [3, "label"], [1, "card", "content-fullpage", 3, "ngClass"], ["novalidate", "", 1, "d-flex", "d-col", "content-fullpage", 3, "formGroup", "ngSubmit"], ["class", "d-contents", 4, "ngIf"], ["class", "content-fullpage d-flex d-col bg-gray-white", 4, "ngIf"], [1, "d-contents"], [1, "card-block", "separator-bottom", "large-padding", "flex-no-shrink"], [1, "d-flex-md", "a-i-start", "text-center", "text-left-md"], ["class", "icon-48", 3, "app", "contextPath", "name", 4, "ngIf"], ["c8yIcon", "big-parcel", "class", "icon-48", 4, "ngIf"], ["c8yIcon", "tab", "class", "icon-48", 4, "ngIf"], ["c8yIcon", "microchip", "class", "icon-48", 4, "ngIf"], ["c8yIcon", "globe1", "class", "icon-48", 4, "ngIf"], [1, "p-t-md-16", "p-l-md-16", "p-r-md-32", "flex-grow"], [1, "text-medium", "m-b-8"], ["class", "form-group m-b-0", 4, "ngIf"], [1, "text-right-md", "m-t-4"], [1, "label", 3, "ngClass"], ["class", "fit-w m-t-2", 4, "ngIf"], [1, "m-t-8"], ["class", "btn btn-default btn-xs", 3, "disabled", "title", "click", 4, "ngIf"], [1, "inner-scroll", "bg-white", "flex-grow"], [1, "card-block", "large-padding"], ["class", "row p-16", 4, "ngIf"], [1, "col-sm-5"], ["autocomplete", "off", "formControlName", "id", "name", "id", "type", "text", 1, "form-control", 3, "readonly"], [1, "col-sm-7"], ["formControlName", "name", "name", "name", "required", "", "type", "text", 1, "form-control", 3, "readonly", "placeholder"], ["translate", "", 4, "ngIf"], ["name", "key", "formControlName", "key", "required", "", "type", "text", 1, "form-control", 3, "readonly", "placeholder"], [3, "ngSwitch"], [4, "ngSwitchCase"], ["class", "card-footer separator", 4, "ngIf"], [1, "icon-48", 3, "app", "contextPath", "name"], ["c8yIcon", "big-parcel", 1, "icon-48"], ["c8yIcon", "tab", 1, "icon-48"], ["c8yIcon", "microchip", 1, "icon-48"], ["c8yIcon", "globe1", 1, "icon-48"], [1, "text-muted"], [1, "form-group", "m-b-0"], [1, "editable", 3, "ngClass"], ["c8y-textarea-autoresize", "", "formControlName", "description", "name", "description", 1, "form-control", "no-resize", 3, "placeholder"], [1, "fit-w", "m-t-2"], ["translate", "", 1, "text-label-small"], [1, "p-l-4", "text-bold"], [1, "btn", "btn-default", "btn-xs", 3, "disabled", "title", "click"], [3, "c8yIcon"], ["translate", "", 1, "text-muted"], ["class", "btn btn-default btn-xs", 3, "title", "click", 4, "ngIf"], [1, "btn", "btn-default", "btn-xs", 3, "title", "click"], [1, "row", "p-16"], ["icon", "info", 3, "data", "properties", "title"], ["translate", ""], [1, "form-control-static"], [1, "input-group"], [1, "input-group-addon"], ["name", "contextPath", "required", "", "type", "text", "formControlName", "contextPath", 1, "form-control", 3, "readOnly", "placeholder"], ["class", "col-sm-4 m-b-16 flex-auto", 4, "ngIf"], ["class", "legend form-block m-t-40", 4, "ngIf"], ["class", "list-inline", 4, "ngIf"], [1, "col-sm-4", "m-b-16", "flex-auto"], [1, "c8y-icon-duocolor", "h4", 3, "c8yIcon"], [3, "tooltip", 4, "ngIf"], [3, "tooltip"], [1, "legend", "form-block", "m-t-40"], [1, "list-inline"], [1, "col-sm-4", "m-b-16"], ["formControlName", "contextPath", "name", "contextPath", "required", "", "type", "text", 1, "form-control", 3, "readOnly", "placeholder"], ["name", "resourcesUrl", "formControlName", "resourcesUrl", "required", "", "type", "url", 1, "form-control", 3, "placeholder"], [1, "form-group"], ["formControlName", "username", "name", "username", "type", "text", 1, "form-control"], ["formControlName", "password", "name", "password", "type", "text", 1, "form-control"], ["formControlName", "externalUrl", "name", "externalUrl", "required", "", "type", "url", 1, "form-control", 3, "pattern", "readOnly", "placeholder"], [3, "application", "applicationChange", "refresh"], [1, "card-footer", "separator"], ["type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["class", "btn btn-danger", "type", "button", 3, "title", "click", 4, "ngIf"], ["type", "submit", 1, "btn", "btn-primary", "btn-form", 3, "disabled", "title"], ["type", "button", 1, "btn", "btn-danger", 3, "title", "click"], [1, "content-fullpage", "d-flex", "d-col", "bg-gray-white"], [1, "card-header", "separator"], ["translate", "", 1, "card-title"], [1, "m-l-auto"], ["type", "button", 1, "btn", "btn-link", 3, "title", "click"], ["c8yIcon", "refresh", 3, "ngClass"], ["class", "p-16 text-center", 4, "ngIf"], ["class", "d-contents", 3, "application", 4, "ngIf"], [1, "p-16", "text-center"], [1, "d-contents", 3, "application"]], template: function ApplicationPropertiesComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "async");
        ɵngcc0.ɵɵpipe(3, "humanizeAppName");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(4, ApplicationPropertiesComponent_c8y_breadcrumb_4_Template, 11, 20, "c8y-breadcrumb", 0);
        ɵngcc0.ɵɵtemplate(5, ApplicationPropertiesComponent_c8y_breadcrumb_5_Template, 9, 15, "c8y-breadcrumb", 0);
        ɵngcc0.ɵɵelementStart(6, "div", 1);
        ɵngcc0.ɵɵelementStart(7, "div", 2);
        ɵngcc0.ɵɵtemplate(8, ApplicationPropertiesComponent_div_8_Template, 4, 6, "div", 3);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 5, ɵngcc0.ɵɵpipeBind1(3, 7, ctx.application)));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isMicroservice);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isMicroservice);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction2(9, _c9, !ctx.isActivityLogSupported, ctx.isActivityLogSupported));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.application);
    } }, directives: function () { return [ɵngcc1.TitleComponent, ɵngcc5.NgIf, ɵngcc5.NgClass, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc4.ɵNgNoValidate, ɵngcc4.NgControlStatusGroup, ɵngcc4.FormGroupDirective, ɵngcc1.FormGroupComponent, ɵngcc4.DefaultValueAccessor, ɵngcc4.NgControlStatus, ɵngcc4.FormControlName, ɵngcc1.RequiredInputPlaceholderDirective, ɵngcc4.RequiredValidator, ɵngcc1.MessagesComponent, ɵngcc5.NgSwitch, ɵngcc5.NgSwitchCase, ɵngcc1.AppIconComponent, ɵngcc1.IconDirective, ɵngcc1.ɵd, ɵngcc1.C8yTranslateDirective, ɵngcc1.PropertiesListComponent, ɵngcc1.MessageDirective, ɵngcc9.TooltipDirective, ɵngcc4.PatternValidator, UploadArchiveComponent, ɵngcc1.LoadingComponent, ActivityLogComponent]; }, pipes: function () { return [ɵngcc5.AsyncPipe, ɵngcc1.HumanizeAppNamePipe, ɵngcc1.C8yTranslatePipe, ɵngcc1.DatePipe]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplicationPropertiesComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-application-properties',
                template: "<c8y-title>{{ application | humanizeAppName | async }}</c8y-title>\n\n<c8y-breadcrumb *ngIf=\"!isMicroservice\">\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'Applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"breadcrumbConfig?.icon\"\n    [label]=\"breadcrumbConfig?.label\"\n    [path]=\"breadcrumbConfig?.path\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"application | humanizeAppName | async\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"'Properties' | translate\"></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-breadcrumb *ngIf=\"isMicroservice\">\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"breadcrumbConfig?.icon\"\n    [label]=\"breadcrumbConfig?.label\"\n    [path]=\"breadcrumbConfig?.path\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"application | humanizeAppName | async\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"'Properties' | translate\"></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<div class=\"row\">\n  <div [ngClass]=\"{ 'col-md-8': !isActivityLogSupported, 'col-md-12': isActivityLogSupported }\">\n    <div\n      *ngIf=\"application\"\n      [ngClass]=\"{ 'd-grid grid__col--7-5--md': isActivityLogSupported }\"\n      class=\"card content-fullpage\"\n    >\n      <form\n        (ngSubmit)=\"formGroup.valid && save(formGroup.value)\"\n        [formGroup]=\"formGroup\"\n        class=\"d-flex d-col content-fullpage\"\n        novalidate\n      >\n        <div *ngIf=\"!isLoading\" class=\"d-contents\">\n          <div class=\"card-block separator-bottom large-padding flex-no-shrink\">\n            <div class=\"d-flex-md a-i-start text-center text-left-md\">\n              <c8y-app-icon\n                *ngIf=\"!isPackage && !isFeature && !isMicroservice && !isExternal\"\n                [app]=\"application\"\n                [contextPath]=\"application.contextPath\"\n                [name]=\"application.name\"\n                class=\"icon-48\"\n              ></c8y-app-icon>\n              <i *ngIf=\"isPackage\" c8yIcon=\"big-parcel\" class=\"icon-48\"></i>\n              <i *ngIf=\"isFeature\" c8yIcon=\"tab\" class=\"icon-48\"></i>\n              <i *ngIf=\"isMicroservice\" c8yIcon=\"microchip\" class=\"icon-48\"></i>\n              <i *ngIf=\"isExternal\" c8yIcon=\"globe1\" class=\"icon-48\"></i>\n\n              <div class=\"p-t-md-16 p-l-md-16 p-r-md-32 flex-grow\">\n                <h4 class=\"text-medium m-b-8\">{{ application | humanizeAppName | async }}</h4>\n                <p *ngIf=\"!isOwner\">\n                  <em class=\"text-muted\">\n                    {{ application.description || ('No description available.' | translate) }}\n                  </em>\n                </p>\n                <div *ngIf=\"isOwner\" class=\"form-group m-b-0\">\n                  <label\n                    [ngClass]=\"{ updated: formGroup?.controls?.description?.dirty }\"\n                    class=\"editable\"\n                  >\n                    <textarea\n                      c8y-textarea-autoresize\n                      class=\"form-control no-resize\"\n                      formControlName=\"description\"\n                      name=\"description\"\n                      placeholder=\"{{ 'No description available.' | translate }}\"\n                    ></textarea>\n                  </label>\n                </div>\n              </div>\n              <div class=\"text-right-md m-t-4\">\n                <span [ngClass]=\"appState?.class\" class=\"label\">{{\n                  appState?.label | translate\n                }}</span>\n                <div\n                  *ngIf=\"application.manifest?.version && (isPackage || isMicroservice)\"\n                  class=\"fit-w m-t-2\"\n                >\n                  <label class=\"text-label-small\" translate>Version:</label>\n                  <small class=\"p-l-4 text-bold\">{{ application.manifest?.version }}</small>\n                </div>\n                <div *ngIf=\"binaryMo?.creationTime\" class=\"fit-w m-t-2\">\n                  <label class=\"text-label-small\" translate>Creation time:</label>\n                  <small class=\"p-l-4 text-bold\">{{ binaryMo?.creationTime | c8yDate }}</small>\n                </div>\n                <div class=\"m-t-8\">\n                  <button\n                    (click)=\"openApp(application); $event.stopPropagation()\"\n                    [disabled]=\"disableOpenInBrowser\"\n                    *ngIf=\"canOpenInBrowser\"\n                    class=\"btn btn-default btn-xs\"\n                    title=\"{{ 'Open' | translate }}\"\n                  >\n                    <i [c8yIcon]=\"'external-link'\"></i>\n                    {{ 'Open' | translate }}\n                  </button>\n                  <div *ngIf=\"canOpenInBrowser && disableOpenInBrowser\">\n                    <small class=\"text-muted\" translate\n                      >The application is overwritten by a custom application sharing the same\n                      path</small\n                    >\n                  </div>\n                  <span *ngIf=\"isCustomMicroservice\">\n                    <button\n                      (click)=\"subscribe()\"\n                      *ngIf=\"!isSubscribed\"\n                      class=\"btn btn-default btn-xs\"\n                      title=\"{{ 'Subscribe' | translate }}\"\n                    >\n                      <i [c8yIcon]=\"'check-circle-o'\"></i>\n                      {{ 'Subscribe' | translate }}\n                    </button>\n                    <button\n                      (click)=\"unsubscribe()\"\n                      *ngIf=\"isSubscribed\"\n                      class=\"btn btn-default btn-xs\"\n                      title=\"{{ 'Unsubscribe' | translate }}\"\n                    >\n                      <i [c8yIcon]=\"'minus-circle'\"></i>\n                      {{ 'Unsubscribe' | translate }}\n                    </button>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"inner-scroll bg-white flex-grow\">\n            <div class=\"card-block large-padding\">\n              <div *ngIf=\"isPackage\" class=\"row p-16\">\n                <c8y-properties-list\n                  [data]=\"application.manifest\"\n                  [properties]=\"packageProperties\"\n                  [title]=\"'Package details' | translate\"\n                  icon=\"info\"\n                ></c8y-properties-list>\n              </div>\n              <div *ngIf=\"package\" class=\"row p-16\">\n                <c8y-properties-list\n                  [data]=\"package.manifest\"\n                  [properties]=\"packageProperties\"\n                  [title]=\"'Source package information' | translate\"\n                  icon=\"info\"\n                ></c8y-properties-list>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-sm-5\">\n                  <c8y-form-group>\n                    <label>ID</label>\n                    <input\n                      [readonly]=\"true\"\n                      autocomplete=\"off\"\n                      class=\"form-control\"\n                      formControlName=\"id\"\n                      name=\"id\"\n                      type=\"text\"\n                    />\n                  </c8y-form-group>\n                </div>\n                <div class=\"col-sm-7\">\n                  <c8y-form-group>\n                    <label>{{ 'Name' | translate }}</label>\n                    <input\n                      [readonly]=\"!isOwner\"\n                      class=\"form-control\"\n                      formControlName=\"name\"\n                      name=\"name\"\n                      placeholder=\"{{ 'e.g. My application' | translate }}\"\n                      required\n                      type=\"text\"\n                    />\n                    <c8y-messages>\n                      <c8y-message *ngIf=\"formGroup?.controls?.name?.errors?.required\" translate>\n                        This field is required.\n                      </c8y-message>\n                    </c8y-messages>\n                  </c8y-form-group>\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"col-sm-5\">\n                  <c8y-form-group>\n                    <label>{{ 'Application key' | translate }}</label>\n                    <input\n                      [readonly]=\"application.id || !isOwner\"\n                      class=\"form-control\"\n                      name=\"key\"\n                      formControlName=\"key\"\n                      placeholder=\"{{ 'e.g. my-application-key' | translate }}\"\n                      required\n                      type=\"text\"\n                    />\n                    <c8y-messages>\n                      <c8y-message *ngIf=\"formGroup?.controls?.key?.errors?.required\" translate>\n                        This field is required.\n                      </c8y-message>\n                    </c8y-messages>\n                  </c8y-form-group>\n                </div>\n\n                <div class=\"col-sm-7\">\n                  <c8y-form-group>\n                    <label>{{ 'Type' | translate }}</label>\n                    <div>\n                      <div *ngIf=\"application.id\">\n                        <p class=\"form-control-static\">\n                          <i [c8yIcon]=\"iconMap[application.type]\"></i>\n                          <span>\n                            {{ application.type | translate }}\n                          </span>\n                        </p>\n                      </div>\n                    </div>\n                  </c8y-form-group>\n                </div>\n              </div>\n\n              <div [ngSwitch]=\"application.type\">\n                <div *ngSwitchCase=\"'HOSTED'\">\n                  <c8y-form-group>\n                    <label>{{ 'Path' | translate }}</label>\n                    <div class=\"input-group\">\n                      <span class=\"input-group-addon\">/apps/</span>\n                      <input\n                        [readOnly]=\"application.id || !isOwner\"\n                        class=\"form-control\"\n                        name=\"contextPath\"\n                        placeholder=\"{{ 'e.g. my-application`used in URL`' | translate }}\"\n                        required\n                        type=\"text\"\n                        formControlName=\"contextPath\"\n                      />\n                    </div>\n                    <c8y-messages>\n                      <c8y-message\n                        *ngIf=\"formGroup?.controls?.contextPath?.errors?.required\"\n                        translate\n                      >\n                        This field is required.\n                      </c8y-message>\n                    </c8y-messages>\n                  </c8y-form-group>\n                </div>\n\n                <div *ngSwitchCase=\"'MICROSERVICE'\">\n                  <c8y-form-group>\n                    <label>{{ 'Path' | translate }}</label>\n                    <div class=\"input-group\">\n                      <span class=\"input-group-addon\">/service/</span>\n                      <input\n                        [readOnly]=\"application.id || !isOwner\"\n                        class=\"form-control\"\n                        name=\"contextPath\"\n                        placeholder=\"{{ 'e.g. my-microservice`used in URL`' | translate }}\"\n                        required\n                        type=\"text\"\n                        formControlName=\"contextPath\"\n                      />\n                    </div>\n                    <c8y-messages>\n                      <c8y-message\n                        *ngIf=\"formGroup?.controls?.contextPath?.errors?.required\"\n                        translate\n                      >\n                        This field is required.\n                      </c8y-message>\n                    </c8y-messages>\n                  </c8y-form-group>\n                  <div class=\"row\">\n                    <div *ngIf=\"application.manifest.version\" class=\"col-sm-4 m-b-16 flex-auto\">\n                      <label>{{ 'Version' | translate }}</label>\n                      <p class=\"form-control-static\">\n                        {{ application.manifest.version }}\n                      </p>\n                    </div>\n                    <div *ngIf=\"application.manifest.isolation\" class=\"col-sm-4 m-b-16 flex-auto\">\n                      <label>{{ 'Isolation' | translate }}</label>\n                      <p class=\"form-control-static\">\n                        <span *ngIf=\"singleTenant\">\n                          <i [c8yIcon]=\"'c8y-enterprise'\" class=\"c8y-icon-duocolor h4\"></i>\n                          {{ 'Single tenant' | translate }}\n                        </span>\n                        <span *ngIf=\"!singleTenant\">\n                          <i [c8yIcon]=\"'c8y-sub-tenants'\" class=\"c8y-icon-duocolor h4\"></i>\n                          {{ 'Multi tenant' | translate }}\n                        </span>\n                      </p>\n                    </div>\n                    <div *ngIf=\"application.manifest.isolation\" class=\"col-sm-4 m-b-16 flex-auto\">\n                      <label>{{ 'Billing mode' | translate }}</label>\n                      <p class=\"form-control-static\">\n                        <span\n                          *ngIf=\"subscription\"\n                          [tooltip]=\"'Resources usage assigned to: Owner' | translate\"\n                        >\n                          {{ 'Subscription' | translate }}\n                        </span>\n                        <span\n                          *ngIf=\"!subscription && singleTenant\"\n                          [tooltip]=\"'Resources usage assigned to: Subscriber | translate'\"\n                        >\n                          {{ 'Resources' | translate }}\n                        </span>\n                        <span\n                          *ngIf=\"!subscription && !singleTenant\"\n                          [tooltip]=\"'Resources usage assigned to: Owner' | translate\"\n                        >\n                          {{ 'Resources' | translate }}\n                        </span>\n                      </p>\n                    </div>\n                  </div>\n\n                  <div *ngIf=\"application.manifest.provider\" class=\"legend form-block m-t-40\">\n                    {{ 'Provider' | translate }}\n                  </div>\n                  <div class=\"list-inline\" *ngIf=\"application.manifest.provider\">\n                    <div *ngIf=\"application.manifest.provider.name\">\n                      <div class=\"col-sm-4 m-b-16\">\n                        <label>{{ 'Name' | translate }}</label>\n                        <p class=\"form-control-static\">\n                          {{ application.manifest.provider.name }}\n                        </p>\n                      </div>\n                    </div>\n                    <div *ngIf=\"application.manifest.provider.domain\">\n                      <div class=\"col-sm-4 m-b-16\">\n                        <label>{{ 'Domain' | translate }}</label>\n                        <p class=\"form-control-static\">\n                          {{ application.manifest.provider.domain }}\n                        </p>\n                      </div>\n                    </div>\n                    <div *ngIf=\"application.manifest.provider.support\">\n                      <div class=\"col-sm-4 m-b-16\">\n                        <label>{{ 'Support' | translate }}</label>\n                        <p class=\"form-control-static\">\n                          {{ application.manifest.provider.support }}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div *ngSwitchCase=\"'REPOSITORY'\">\n                  <c8y-form-group>\n                    <label>{{ 'Path' | translate }}</label>\n                    <div class=\"input-group\">\n                      <span class=\"input-group-addon\"> /apps/ </span>\n                      <input\n                        [readOnly]=\"application.id || !isOwner\"\n                        class=\"form-control\"\n                        formControlName=\"contextPath\"\n                        name=\"contextPath\"\n                        placeholder=\"{{ 'e.g. my-application`used in URL`' | translate }}\"\n                        required\n                        type=\"text\"\n                      />\n                    </div>\n                    <c8y-messages>\n                      <c8y-message\n                        *ngIf=\"formGroup?.controls?.contextPath?.errors?.required\"\n                        translate\n                      >\n                        This field is required.\n                      </c8y-message>\n                    </c8y-messages>\n                  </c8y-form-group>\n\n                  <c8y-form-group>\n                    <label>{{ 'Server URL' | translate }}</label>\n                    <input\n                      class=\"form-control\"\n                      name=\"resourcesUrl\"\n                      formControlName=\"resourcesUrl\"\n                      placeholder=\"{{ 'e.g. my-application`used in URL`' | translate }}\"\n                      required\n                      type=\"url\"\n                    />\n                    <c8y-messages>\n                      <c8y-message\n                        *ngIf=\"formGroup?.controls?.resourcesUrl?.errors?.required\"\n                        translate\n                      >\n                        This field is required.\n                      </c8y-message>\n                    </c8y-messages>\n                  </c8y-form-group>\n\n                  <div class=\"form-group\">\n                    <label> {{ 'Username' | translate }}</label>\n                    <input\n                      class=\"form-control\"\n                      formControlName=\"username\"\n                      name=\"username\"\n                      type=\"text\"\n                    />\n                  </div>\n\n                  <div class=\"form-group\">\n                    <label>{{ 'Password' | translate }}</label>\n                    <input\n                      class=\"form-control\"\n                      formControlName=\"password\"\n                      name=\"password\"\n                      type=\"text\"\n                    />\n                  </div>\n                </div>\n\n                <div *ngSwitchCase=\"'EXTERNAL'\">\n                  <c8y-form-group>\n                    <label>{{ 'External URL' | translate }}</label>\n                    <input\n                      [pattern]=\"'^(?!javascript:).+'\"\n                      [readOnly]=\"!isOwner\"\n                      class=\"form-control\"\n                      formControlName=\"externalUrl\"\n                      name=\"externalUrl\"\n                      placeholder=\"{{ 'e.g.' | translate }} http://www.example.com/\"\n                      required\n                      type=\"url\"\n                    />\n                    <c8y-messages>\n                      <c8y-message\n                        *ngIf=\"formGroup?.controls?.externalUrl?.errors?.required\"\n                        translate\n                      >\n                        This field is required.\n                      </c8y-message>\n                      <c8y-message\n                        *ngIf=\"formGroup?.controls?.externalUrl?.errors?.pattern\"\n                        translate\n                      >\n                        Valid URL required.\n                      </c8y-message>\n                    </c8y-messages>\n                  </c8y-form-group>\n                </div>\n              </div>\n            </div>\n          </div>\n          <ng-container *ngIf=\"isCustomMicroservice\">\n            <div *ngIf=\"!isLoading\" class=\"d-contents\">\n              <c8y-upload-archive\n                [(application)]=\"application\"\n                (refresh)=\"onNewArchive()\"\n              ></c8y-upload-archive>\n            </div>\n          </ng-container>\n          <div *ngIf=\"application && !!isOwner\" class=\"card-footer separator\">\n            <button\n              (click)=\"cancel()\"\n              class=\"btn btn-default\"\n              title=\"{{ 'Cancel' | translate }}\"\n              type=\"button\"\n            >\n              {{ 'Cancel' | translate }}\n            </button>\n            <button\n              (click)=\"delete()\"\n              *ngIf=\"canDelete\"\n              class=\"btn btn-danger\"\n              title=\"{{ 'Delete' | translate }}\"\n              type=\"button\"\n            >\n              {{ 'Delete' | translate }}\n            </button>\n            <button\n              [disabled]=\"!application.type || formGroup.invalid || formGroup.pristine\"\n              class=\"btn btn-primary btn-form\"\n              title=\"{{ 'Save' | translate }}\"\n              type=\"submit\"\n            >\n              {{ 'Save' | translate }}\n            </button>\n          </div>\n        </div>\n      </form>\n\n      <div *ngIf=\"isActivityLogSupported\" class=\"content-fullpage d-flex d-col bg-gray-white\">\n        <div class=\"card-header separator\">\n          <h4 class=\"card-title\" translate>Activity log</h4>\n          <div class=\"m-l-auto\">\n            <button\n              (click)=\"load()\"\n              class=\"btn btn-link\"\n              title=\"{{ 'Reload' | translate }}\"\n              type=\"button\"\n            >\n              <i [ngClass]=\"{ 'icon-spin': isLoading }\" c8yIcon=\"refresh\"></i>\n              {{ 'Reload' | translate }}\n            </button>\n          </div>\n        </div>\n        <div *ngIf=\"isLoading\" class=\"p-16 text-center\">\n          <c8y-loading></c8y-loading>\n        </div>\n        <c8y-activity-log\n          *ngIf=\"!isLoading\"\n          [application]=\"application\"\n          class=\"d-contents\"\n        ></c8y-activity-log>\n      </div>\n    </div>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc8.ActivatedRoute }, { type: EcosystemService }, { type: ɵngcc8.Router }, { type: ɵngcc4.FormBuilder }, { type: ɵngcc3.ApplicationService }, { type: ɵngcc1.AlertService }, { type: ɵngcc3.InventoryService }]; }, null); })();
        return ApplicationPropertiesComponent;
    }());
    ApplicationPropertiesComponent.ctorParameters = function () { return [
        { type: router.ActivatedRoute },
        { type: EcosystemService },
        { type: router.Router },
        { type: forms.FormBuilder },
        { type: client.ApplicationService },
        { type: ngxComponents.AlertService },
        { type: client.InventoryService }
    ]; };

    var EcosystemNavigationFactory = /** @class */ (function () {
        function EcosystemNavigationFactory(permissions) {
            this.permissions = permissions;
            this.navs = [];
            this.showNavigatorNodes = this.permissions.hasAnyRole([
                'ROLE_APPLICATION_MANAGEMENT_READ',
                'ROLE_APPLICATION_MANAGEMENT_ADMIN'
            ]);
        }
        EcosystemNavigationFactory.prototype.get = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    /*
                    The NavigatorNodes are added in AngularJS code to keep the Quick links widget working.
                    After the Quick links widget is migrated to Angular, the logic of adding the NavigatorNodes can be migrated as well.
                        if (this.navs.length === 0 && this.showNavigatorNodes) {
                          const applicationsNode: NavigatorNode = new NavigatorNode({
                            label: gettext('Applications'),
                            icon: 'c8y-modules',
                            path: '/ecosystem',
                            priority: 300,
                            routerLinkExact: false
                          });
                    
                          const microservicesNode = new NavigatorNode({
                            label: gettext('Microservices'),
                            icon: 'microchip',
                            path: '/microservices',
                            priority: 200,
                            routerLinkExact: false
                          });
                    
                          this.navs.push(
                            new NavigatorNode({
                              label: gettext('Ecosystem'),
                              icon: 'c8y-atom',
                              priority: 3200,
                              children: [applicationsNode, microservicesNode]
                            })
                          );
                        }
                    */
                    return [2 /*return*/, this.navs];
                });
            });
        };
EcosystemNavigationFactory.ɵfac = function EcosystemNavigationFactory_Factory(t) { return new (t || EcosystemNavigationFactory)(ɵngcc0.ɵɵinject(ɵngcc1.Permissions)); };
EcosystemNavigationFactory.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: EcosystemNavigationFactory, factory: function (t) { return EcosystemNavigationFactory.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EcosystemNavigationFactory, [{
        type: core.Injectable
    }], function () { return [{ type: ɵngcc1.Permissions }]; }, null); })();
        return EcosystemNavigationFactory;
    }());
    EcosystemNavigationFactory.ctorParameters = function () { return [
        { type: ngxComponents.Permissions }
    ]; };

    var EcosystemGuard = /** @class */ (function () {
        function EcosystemGuard(optionsService) {
            this.optionsService = optionsService;
        }
        EcosystemGuard.prototype.canActivate = function (route, state) {
            return this.isFeatureEnabled();
        };
        EcosystemGuard.prototype.isFeatureEnabled = function () {
            return Boolean(this.optionsService.get('beta', false));
        };
EcosystemGuard.ɵfac = function EcosystemGuard_Factory(t) { return new (t || EcosystemGuard)(ɵngcc0.ɵɵinject(ɵngcc1.OptionsService)); };
EcosystemGuard.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: EcosystemGuard, factory: function (t) { return EcosystemGuard.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EcosystemGuard, [{
        type: core.Injectable
    }], function () { return [{ type: ɵngcc1.OptionsService }]; }, null); })();
        return EcosystemGuard;
    }());
    EcosystemGuard.ctorParameters = function () { return [
        { type: ngxComponents.OptionsService }
    ]; };

    var EcosystemTabs = /** @class */ (function () {
        function EcosystemTabs(router, ecosystemGuard) {
            this.router = router;
            this.ecosystemGuard = ecosystemGuard;
        }
        EcosystemTabs.prototype.get = function () {
            var tabs = [];
            if (this.router.url === '/ecosystem/applications' ||
                this.router.url === '/ecosystem/package-list' ||
                this.router.url === '/ecosystem/features') {
                tabs.push({
                    icon: 'c8y-modules',
                    priority: 1000,
                    label: ngxComponents.gettext('All applications'),
                    path: 'ecosystem/applications'
                });
                if (this.ecosystemGuard.isFeatureEnabled()) {
                    tabs.push({
                        icon: 'big-parcel',
                        priority: 999,
                        label: ngxComponents.gettext('Packages'),
                        path: 'ecosystem/package-list'
                    });
                }
                tabs.push({
                    icon: 'tab',
                    priority: 998,
                    label: ngxComponents.gettext('Features'),
                    path: '/ecosystem/features'
                });
            }
            return tabs;
        };
EcosystemTabs.ɵfac = function EcosystemTabs_Factory(t) { return new (t || EcosystemTabs)(ɵngcc0.ɵɵinject(ɵngcc8.Router), ɵngcc0.ɵɵinject(EcosystemGuard)); };
EcosystemTabs.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: EcosystemTabs, factory: function (t) { return EcosystemTabs.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EcosystemTabs, [{
        type: core.Injectable
    }], function () { return [{ type: ɵngcc8.Router }, { type: EcosystemGuard }]; }, null); })();
        return EcosystemTabs;
    }());
    EcosystemTabs.ctorParameters = function () { return [
        { type: router.Router },
        { type: EcosystemGuard }
    ]; };

    var MicroserviceListComponent = /** @class */ (function () {
        function MicroserviceListComponent(ecosystemService, wizardService) {
            var _this = this;
            this.ecosystemService = ecosystemService;
            this.wizardService = wizardService;
            this.reloading = false;
            this.reload$ = new rxjs.BehaviorSubject(null);
            this.microservices$ = this.reload$.pipe(operators.tap(function () { return (_this.reloading = true); }), operators.switchMap(function () { return _this.ecosystemService.getMicroservices(); }), operators.tap(function () { return (_this.reloading = false); }), operators.shareReplay());
            this.isMicroserviceHostingAllowed$ = this.reload$.pipe(operators.switchMap(function () { return _this.ecosystemService.isMicroserviceHostingAllowed(); }), operators.shareReplay());
        }
        MicroserviceListComponent.prototype.ngOnInit = function () {
            this.loadMicroservices();
        };
        MicroserviceListComponent.prototype.loadMicroservices = function () {
            this.reload$.next();
        };
        MicroserviceListComponent.prototype.addMicroservice = function () {
            var _this = this;
            var initialState = {
                id: 'uploadMicroservice'
            };
            var modalOptions = { initialState: initialState };
            var modalRef = this.wizardService.show(modalOptions);
            modalRef.content.onClose.subscribe(function () {
                _this.loadMicroservices();
            });
        };
MicroserviceListComponent.ɵfac = function MicroserviceListComponent_Factory(t) { return new (t || MicroserviceListComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardService)); };
MicroserviceListComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: MicroserviceListComponent, selectors: [["c8y-microservice-list"]], decls: 26, vars: 39, consts: [[3, "icon", "label"], [3, "icon", "label", "path"], [3, "placement", "priority", 4, "ngIf"], [3, "placement"], [1, "btn", "btn-link", 3, "title", "click"], ["c8yIcon", "refresh", 3, "ngClass"], ["itemClass", "navbar-form hidden-xs", 3, "placement"], [3, "listLength", "onListClassChange"], ["class", "c8y-empty-state text-center", 4, "ngIf"], [1, "card-group", 3, "ngClass"], ["class", "page-sticky-header hidden-xs flex-row", 4, "ngIf"], ["class", "col-xs-12 col-sm-4 col-md-3", 4, "ngFor", "ngForOf"], [3, "placement", "priority"], ["c8yIcon", "plus-circle"], [1, "c8y-empty-state", "text-center"], [1, "c8y-icon", "c8y-icon-modules", "c8y-icon-duocolor"], ["translate", ""], [1, "btn", "btn-primary", 3, "title", "click"], [1, "page-sticky-header", "hidden-xs", "flex-row"], [1, "card-block", "card-column-40"], [1, "card-appicon", "p-l-32", "p-r-16", "m-r-0", "m-l-4"], [1, "card-block", "p-0", "card-column-80"], [1, "card-block", "card-column-80"], [1, "card-block", "card-column-20"], [1, "col-xs-12", "col-sm-4", "col-md-3"], [1, "d-contents", 3, "app", "onAppDeleted"]], template: function MicroserviceListComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "c8y-breadcrumb");
        ɵngcc0.ɵɵelement(4, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵelement(6, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(7, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(8, MicroserviceListComponent_c8y_action_bar_item_8_Template, 6, 8, "c8y-action-bar-item", 2);
        ɵngcc0.ɵɵpipe(9, "async");
        ɵngcc0.ɵɵelementStart(10, "c8y-action-bar-item", 3);
        ɵngcc0.ɵɵelementStart(11, "button", 4);
        ɵngcc0.ɵɵlistener("click", function MicroserviceListComponent_Template_button_click_11_listener() { return ctx.reload$.next(); });
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵelement(13, "i", 5);
        ɵngcc0.ɵɵtext(14);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(16, "c8y-action-bar-item", 6);
        ɵngcc0.ɵɵelementStart(17, "c8y-list-display-switch", 7);
        ɵngcc0.ɵɵlistener("onListClassChange", function MicroserviceListComponent_Template_c8y_list_display_switch_onListClassChange_17_listener($event) { return ctx.listClass = $event; });
        ɵngcc0.ɵɵpipe(18, "async");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(19, MicroserviceListComponent_div_19_Template, 11, 6, "div", 8);
        ɵngcc0.ɵɵpipe(20, "async");
        ɵngcc0.ɵɵelementStart(21, "div", 9);
        ɵngcc0.ɵɵtemplate(22, MicroserviceListComponent_div_22_Template, 13, 9, "div", 10);
        ɵngcc0.ɵɵpipe(23, "async");
        ɵngcc0.ɵɵtemplate(24, MicroserviceListComponent_div_24_Template, 2, 1, "div", 11);
        ɵngcc0.ɵɵpipe(25, "async");
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        var tmp_12_0;
        var tmp_13_0;
        var tmp_15_0;
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 17, "Microservices"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(5, 19, "Ecosystem"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "microchip")("label", ɵngcc0.ɵɵpipeBind1(7, 21, "Microservices"))("path", "microservices");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ɵngcc0.ɵɵpipeBind1(9, 23, ctx.isMicroserviceHostingAllowed$));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "right");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(12, 25, "Reload"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(37, _c3, ctx.reloading));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(15, 27, "Reload"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "left");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("listLength", (tmp_12_0 = ɵngcc0.ɵɵpipeBind1(18, 29, ctx.microservices$)) == null ? null : tmp_12_0.length);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_13_0 = ɵngcc0.ɵɵpipeBind1(20, 31, ctx.microservices$)) == null ? null : tmp_13_0.length) === 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ctx.listClass);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_15_0 = ɵngcc0.ɵɵpipeBind1(23, 33, ctx.microservices$)) == null ? null : tmp_15_0.length) > 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngForOf", ɵngcc0.ɵɵpipeBind1(25, 35, ctx.microservices$));
    } }, directives: function () { return [ɵngcc1.TitleComponent, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc5.NgIf, ɵngcc1.ActionBarItemComponent, ɵngcc1.IconDirective, ɵngcc5.NgClass, ɵngcc1.ɵbh, ɵngcc5.NgForOf, ɵngcc1.C8yTranslateDirective, ApplicationCardComponent]; }, pipes: function () { return [ɵngcc1.C8yTranslatePipe, ɵngcc5.AsyncPipe]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MicroserviceListComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-microservice-list',
                template: "<c8y-title>{{ 'Microservices' | translate }}</c8y-title>\n\n<c8y-breadcrumb>\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'microchip'\"\n    [label]=\"'Microservices' | translate\"\n    [path]=\"'microservices'\"\n  ></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-action-bar-item\n  [placement]=\"'right'\"\n  [priority]=\"100\"\n  *ngIf=\"isMicroserviceHostingAllowed$ | async\"\n>\n  <button\n    (click)=\"addMicroservice()\"\n    class=\"btn btn-link\"\n    title=\"{{ 'Add microservice' | translate }}\"\n  >\n    <i c8yIcon=\"plus-circle\"></i>\n    {{ 'Add microservice' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'right'\">\n  <button (click)=\"reload$.next()\" class=\"btn btn-link\" title=\"{{ 'Reload' | translate }}\">\n    <i [ngClass]=\"{ 'icon-spin': reloading }\" c8yIcon=\"refresh\"></i>\n    {{ 'Reload' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'left'\" itemClass=\"navbar-form hidden-xs\">\n  <c8y-list-display-switch\n    (onListClassChange)=\"listClass = $event\"\n    [listLength]=\"(microservices$ | async)?.length\"\n  ></c8y-list-display-switch>\n</c8y-action-bar-item>\n\n<div *ngIf=\"(microservices$ | async)?.length === 0\" class=\"c8y-empty-state text-center\">\n  <h1 class=\"c8y-icon c8y-icon-modules c8y-icon-duocolor\"></h1>\n  <h3 translate>No microservices to display.</h3>\n  <p translate>Add your first microservice by clicking below.</p>\n  <p>\n    <button\n      (click)=\"addMicroservice()\"\n      class=\"btn btn-primary\"\n      title=\"{{ 'Add microservice' | translate }}\"\n    >\n      {{ 'Add microservice' | translate }}\n    </button>\n  </p>\n</div>\n\n<div [ngClass]=\"listClass\" class=\"card-group\">\n  <div\n    class=\"page-sticky-header hidden-xs flex-row\"\n    *ngIf=\"(microservices$ | async)?.length > 0\"\n  >\n    <div class=\"card-block card-column-40\">\n      <div class=\"card-appicon p-l-32 p-r-16 m-r-0 m-l-4\"></div>\n      {{ 'Microservice' | translate }}\n    </div>\n    <div class=\"card-block p-0 card-column-80\">\n      <div class=\"card-block card-column-80\">{{ 'Description' | translate }}</div>\n      <div class=\"card-block card-column-20\">{{ 'Type' | translate }}</div>\n      <div class=\"card-block card-column-20\"></div>\n    </div>\n  </div>\n  <div\n    *ngFor=\"let microservice of microservices$ | async\"\n    class=\"col-xs-12 col-sm-4 col-md-3\"\n  >\n    <c8y-application-card\n      (onAppDeleted)=\"loadMicroservices()\"\n      [app]=\"microservice\"\n      class=\"d-contents\"\n    ></c8y-application-card>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.WizardService }]; }, null); })();
        return MicroserviceListComponent;
    }());
    MicroserviceListComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.WizardService }
    ]; };

    var PackagesListComponent = /** @class */ (function () {
        function PackagesListComponent(ecosystemService, wizardService) {
            var _this = this;
            this.ecosystemService = ecosystemService;
            this.wizardService = wizardService;
            this.reloading = false;
            this.reload$ = new rxjs.BehaviorSubject(null);
            this.packages$ = this.reload$.pipe(operators.tap(function () { return (_this.reloading = true); }), operators.switchMap(function () { return _this.ecosystemService.getPackageApplications(); }), operators.tap(function () { return (_this.reloading = false); }), operators.shareReplay());
        }
        PackagesListComponent.prototype.ngOnInit = function () {
            this.loadPackages();
        };
        PackagesListComponent.prototype.loadPackages = function () {
            this.reload$.next();
        };
        PackagesListComponent.prototype.addPackage = function () {
            var _this = this;
            var initialState = {
                id: 'uploadPackage'
            };
            var modalOptions = { initialState: initialState };
            var modalRef = this.wizardService.show(modalOptions);
            modalRef.content.onClose.subscribe(function () {
                _this.loadPackages();
            });
        };
PackagesListComponent.ɵfac = function PackagesListComponent_Factory(t) { return new (t || PackagesListComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardService)); };
PackagesListComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: PackagesListComponent, selectors: [["c8y-packages-list"]], decls: 32, vars: 47, consts: [[3, "icon", "label"], [3, "icon", "label", "path"], [3, "placement"], [1, "btn", "btn-link", 3, "title", "click"], ["c8yIcon", "plus-circle"], ["c8yIcon", "refresh", 3, "ngClass"], ["itemClass", "navbar-form hidden-xs", 3, "placement"], [3, "listLength", "onListClassChange"], [1, "card-group", 3, "ngClass"], ["class", "page-sticky-header hidden-xs flex-row", 4, "ngIf"], ["class", "col-xs-12 col-sm-4 col-md-3", 4, "ngFor", "ngForOf"], ["class", "c8y-empty-state text-center", 4, "ngIf"], [1, "page-sticky-header", "hidden-xs", "flex-row"], [1, "card-block", "card-column-40"], [1, "card-appicon", "p-l-32", "p-r-16", "m-r-0", "m-l-4"], [1, "card-block", "p-0", "card-column-80"], [1, "card-block", "card-column-80"], [1, "card-block", "card-column-20"], [1, "col-xs-12", "col-sm-4", "col-md-3"], [1, "d-contents", 3, "app", "onAppDeleted"], [1, "c8y-empty-state", "text-center"], ["c8yIcon", "big-parcel", 1, "c8y-icon-duocolor"], ["translate", ""], [1, "btn", "btn-primary", 3, "title", "click"]], template: function PackagesListComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "c8y-breadcrumb");
        ɵngcc0.ɵɵelement(4, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵelement(6, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(7, "translate");
        ɵngcc0.ɵɵelement(8, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(9, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(10, "c8y-action-bar-item", 2);
        ɵngcc0.ɵɵelementStart(11, "button", 3);
        ɵngcc0.ɵɵlistener("click", function PackagesListComponent_Template_button_click_11_listener() { return ctx.addPackage(); });
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵelement(13, "i", 4);
        ɵngcc0.ɵɵtext(14);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(16, "c8y-action-bar-item", 2);
        ɵngcc0.ɵɵelementStart(17, "button", 3);
        ɵngcc0.ɵɵlistener("click", function PackagesListComponent_Template_button_click_17_listener() { return ctx.loadPackages(); });
        ɵngcc0.ɵɵpipe(18, "translate");
        ɵngcc0.ɵɵelement(19, "i", 5);
        ɵngcc0.ɵɵtext(20);
        ɵngcc0.ɵɵpipe(21, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(22, "c8y-action-bar-item", 6);
        ɵngcc0.ɵɵelementStart(23, "c8y-list-display-switch", 7);
        ɵngcc0.ɵɵlistener("onListClassChange", function PackagesListComponent_Template_c8y_list_display_switch_onListClassChange_23_listener($event) { return ctx.listClass = $event; });
        ɵngcc0.ɵɵpipe(24, "async");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(25, "div", 8);
        ɵngcc0.ɵɵtemplate(26, PackagesListComponent_div_26_Template, 13, 9, "div", 9);
        ɵngcc0.ɵɵpipe(27, "async");
        ɵngcc0.ɵɵtemplate(28, PackagesListComponent_div_28_Template, 2, 1, "div", 10);
        ɵngcc0.ɵɵpipe(29, "async");
        ɵngcc0.ɵɵtemplate(30, PackagesListComponent_div_30_Template, 11, 6, "div", 11);
        ɵngcc0.ɵɵpipe(31, "async");
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        var tmp_16_0;
        var tmp_18_0;
        var tmp_20_0;
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 21, "Packages"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(5, 23, "Ecosystem"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(7, 25, "Applications"))("path", "ecosystem/applications");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "big-parcel")("label", ɵngcc0.ɵɵpipeBind1(9, 27, "Packages"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "right");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(12, 29, "Add package"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(15, 31, "Add package"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "right");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(18, 33, "Reload"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(45, _c3, ctx.reloading));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(21, 35, "Reload"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "left");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("listLength", (tmp_16_0 = ɵngcc0.ɵɵpipeBind1(24, 37, ctx.packages$)) == null ? null : tmp_16_0.length);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ctx.listClass);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_18_0 = ɵngcc0.ɵɵpipeBind1(27, 39, ctx.packages$)) == null ? null : tmp_18_0.length) > 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngForOf", ɵngcc0.ɵɵpipeBind1(29, 41, ctx.packages$));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_20_0 = ɵngcc0.ɵɵpipeBind1(31, 43, ctx.packages$)) == null ? null : tmp_20_0.length) === 0);
    } }, directives: function () { return [ɵngcc1.TitleComponent, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc1.ActionBarItemComponent, ɵngcc1.IconDirective, ɵngcc5.NgClass, ɵngcc1.ɵbh, ɵngcc5.NgIf, ɵngcc5.NgForOf, ApplicationCardComponent, ɵngcc1.C8yTranslateDirective]; }, pipes: function () { return [ɵngcc1.C8yTranslatePipe, ɵngcc5.AsyncPipe]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PackagesListComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-packages-list',
                template: "<c8y-title>{{ 'Packages' | translate }}</c8y-title>\n\n<c8y-breadcrumb>\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'Applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [icon]=\"'big-parcel'\" [label]=\"'Packages' | translate\"></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-action-bar-item [placement]=\"'right'\">\n  <button (click)=\"addPackage()\" class=\"btn btn-link\" title=\"{{ 'Add package' | translate }}\">\n    <i c8yIcon=\"plus-circle\"></i>\n    {{ 'Add package' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'right'\">\n  <button (click)=\"loadPackages()\" class=\"btn btn-link\" title=\"{{ 'Reload' | translate }}\">\n    <i [ngClass]=\"{ 'icon-spin': reloading }\" c8yIcon=\"refresh\"></i>\n    {{ 'Reload' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'left'\" itemClass=\"navbar-form hidden-xs\">\n  <c8y-list-display-switch\n    (onListClassChange)=\"listClass = $event\"\n    [listLength]=\"(packages$ | async)?.length\"\n  ></c8y-list-display-switch>\n</c8y-action-bar-item>\n\n<div [ngClass]=\"listClass\" class=\"card-group\">\n  <div class=\"page-sticky-header hidden-xs flex-row\" *ngIf=\"(packages$ | async)?.length > 0\">\n    <div class=\"card-block card-column-40\">\n      <div class=\"card-appicon p-l-32 p-r-16 m-r-0 m-l-4\"></div>\n      {{ 'Package' | translate }}\n    </div>\n    <div class=\"card-block p-0 card-column-80\">\n      <div class=\"card-block card-column-80\">{{ 'Description' | translate }}</div>\n      <div class=\"card-block card-column-20\">{{ 'Type' | translate }}</div>\n      <div class=\"card-block card-column-20\"></div>\n    </div>\n  </div>\n  <div *ngFor=\"let app of packages$ | async\" class=\"col-xs-12 col-sm-4 col-md-3\">\n    <c8y-application-card\n      (onAppDeleted)=\"loadPackages()\"\n      [app]=\"app\"\n      class=\"d-contents\"\n    ></c8y-application-card>\n  </div>\n  <div *ngIf=\"(packages$ | async)?.length === 0\" class=\"c8y-empty-state text-center\">\n    <h1 c8yIcon=\"big-parcel\" class=\"c8y-icon-duocolor\"></h1>\n    <h3 translate>No packages to display.</h3>\n    <p translate>Add your first package by clicking below.</p>\n    <p>\n      <button\n        (click)=\"addPackage()\"\n        class=\"btn btn-primary\"\n        title=\"{{ 'Add package' | translate }}\"\n      >\n        {{ 'Add package' | translate }}\n      </button>\n    </p>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.WizardService }]; }, null); })();
        return PackagesListComponent;
    }());
    PackagesListComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.WizardService }
    ]; };

    var AddPackageComponent = /** @class */ (function () {
        function AddPackageComponent(ecosystemService) {
            var _this = this;
            this.ecosystemService = ecosystemService;
            this.headerText = ngxComponents.gettext('Add package');
            this.successText = ngxComponents.gettext('Package created');
            this.createPackageAppHandler = function (f) { return _this.createPackageApp(f); };
            this.uploadPackageHandler = function (f, app) { return _this.uploadPackage(f, app); };
        }
        AddPackageComponent.prototype.createPackageApp = function (file) {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.ecosystemService.isValidAppType(file, client.ApplicationType.HOSTED)];
                        case 1:
                            _a.sent();
                            return [2 /*return*/, this.ecosystemService.createAppForArchive(file, true)];
                    }
                });
            });
        };
        AddPackageComponent.prototype.uploadPackage = function (file, pckg) {
            return this.ecosystemService.uploadArchiveToApp(file, pckg);
        };
AddPackageComponent.ɵfac = function AddPackageComponent_Factory(t) { return new (t || AddPackageComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService)); };
AddPackageComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: AddPackageComponent, selectors: [["c8y-add-package"]], decls: 1, vars: 5, consts: [[3, "headerText", "headerIcon", "successText", "createApplicationHandler", "uploadApplicationHandler"]], template: function AddPackageComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelement(0, "c8y-add-application", 0);
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("headerText", ctx.headerText)("headerIcon", "big-parcel")("successText", ctx.successText)("createApplicationHandler", ctx.createPackageAppHandler)("uploadApplicationHandler", ctx.uploadPackageHandler);
    } }, directives: function () { return [AddApplicationComponent]; }, encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AddPackageComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-add-package',
                template: "<c8y-add-application\n    [headerText]=\"headerText\"\n    [headerIcon]=\"'big-parcel'\"\n    [successText]=\"successText\"\n    [createApplicationHandler]=\"createPackageAppHandler\"\n    [uploadApplicationHandler]=\"uploadPackageHandler\"\n  ></c8y-add-application>"
            }]
    }], function () { return [{ type: EcosystemService }]; }, null); })();
        return AddPackageComponent;
    }());
    AddPackageComponent.ctorParameters = function () { return [
        { type: EcosystemService }
    ]; };

    var PackageDetailsComponent = /** @class */ (function () {
        function PackageDetailsComponent(activatedRoute, client, wizard, ecosystemService) {
            this.activatedRoute = activatedRoute;
            this.client = client;
            this.wizard = wizard;
            this.ecosystemService = ecosystemService;
            this.package = {};
            this.packageProperties = packageProperties;
            this.headers = { 'Content-Type': 'text/markdown', responseType: 'blob' };
            this.NOT_FOUND_ERROR_CODE = 404;
        }
        PackageDetailsComponent.prototype.ngOnInit = function () {
            var _a, _b, _c;
            return __awaiter(this, void 0, void 0, function () {
                var _e;
                return __generator(this, function (_f) {
                    switch (_f.label) {
                        case 0:
                            this.package = this.getPackage();
                            this.name = (_a = this.package) === null || _a === void 0 ? void 0 : _a.name;
                            this.description = (_c = (_b = this.package) === null || _b === void 0 ? void 0 : _b.manifest) === null || _c === void 0 ? void 0 : _c.description;
                            _e = this;
                            return [4 /*yield*/, this.getReadmeFileContentAsHtml()];
                        case 1:
                            _e.readme = _f.sent();
                            this.appState = this.ecosystemService.getAppState(this.package);
                            this.isApplicationPackage = this.ecosystemService.isApplicationPackage(this.package);
                            return [2 /*return*/];
                    }
                });
            });
        };
        PackageDetailsComponent.prototype.deploy = function () {
            var initialState = {
                wizardConfig: {},
                id: 'deployPackage',
                package: this.package
            };
            var modalOptions = { initialState: initialState };
            this.wizard.show(modalOptions);
        };
        PackageDetailsComponent.prototype.getPackage = function () {
            var _a, _b, _c, _d;
            return (_d = (_c = (_b = (_a = this.activatedRoute) === null || _a === void 0 ? void 0 : _a.snapshot) === null || _b === void 0 ? void 0 : _b.parent) === null || _c === void 0 ? void 0 : _c.data) === null || _d === void 0 ? void 0 : _d.contextData;
        };
        PackageDetailsComponent.prototype.getReadmeFileContentAsHtml = function () {
            return __awaiter(this, void 0, void 0, function () {
                var readmeFile, readmeContent, tokens, html;
                return __generator(this, function (_e) {
                    switch (_e.label) {
                        case 0: return [4 /*yield*/, this.getReadmeFile()];
                        case 1:
                            readmeFile = _e.sent();
                            return [4 /*yield*/, readmeFile.text()];
                        case 2:
                            readmeContent = _e.sent();
                            if (readmeFile.status === 200) {
                                tokens = marked.lexer(readmeContent);
                                html = marked.parser(tokens);
                                return [2 /*return*/, html];
                            }
                            return [2 /*return*/];
                    }
                });
            });
        };
        PackageDetailsComponent.prototype.getReadmeFile = function () {
            return __awaiter(this, void 0, void 0, function () {
                var result, options;
                return __generator(this, function (_e) {
                    switch (_e.label) {
                        case 0:
                            options = {
                                method: 'GET',
                                headers: this.headers
                            };
                            return [4 /*yield*/, this.client.fetch("/apps/" + this.package.contextPath + "/readme.md", options)];
                        case 1:
                            result = _e.sent();
                            if (!(result && result.status === this.NOT_FOUND_ERROR_CODE)) return [3 /*break*/, 3];
                            return [4 /*yield*/, this.client.fetch("/apps/" + this.package.contextPath + "/README.md", options)];
                        case 2:
                            result = _e.sent();
                            _e.label = 3;
                        case 3: return [2 /*return*/, result];
                    }
                });
            });
        };
PackageDetailsComponent.ɵfac = function PackageDetailsComponent_Factory(t) { return new (t || PackageDetailsComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc8.ActivatedRoute), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.FetchClient), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardService), ɵngcc0.ɵɵdirectiveInject(EcosystemService)); };
PackageDetailsComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: PackageDetailsComponent, selectors: [["c8y-package-details"]], decls: 55, vars: 55, consts: [[3, "icon", "label"], [3, "icon", "label", "path"], [3, "label"], [1, "card", "content-fullpage", "d-grid", "grid__col--8-4--md", "grid__row--fit-auto"], [1, "bg-gray-white", "grid__col--fullspan", "separator-bottom"], [1, "card-block", "p-t-24", "p-b-24", "large-padding"], [1, "content-flex-70"], [1, "text-center"], ["c8yIcon", "big-parcel", 1, "c8y-icon-duocolor", "icon-48"], [1, "label", 3, "ngClass"], [1, "flex-grow", "col-10"], [1, "content-flex-80"], [1, "col-5"], [1, "card-title", "text-bold", "m-b-8"], [4, "ngIf"], ["class", "text-muted", 4, "ngIf"], ["class", "col-3 text-right-md", 4, "ngIf"], [1, "flex-grow"], [3, "data", "emptyLabel", "icon", "properties", "title"], [1, "inner-scroll"], [1, "card-header", "separator", "sticky-top"], [1, "card-title"], [1, "card-block", "p-l-16", "p-r-16"], ["class", "c8y-empty-state text-center", 4, "ngIf"], [1, "markdown-content", 3, "innerHTML"], [1, "separator-bottom", "visible-sm", "visible-xs"], [1, "card-block"], [1, "text-muted"], [1, "col-3", "text-right-md"], [1, "btn", "btn-primary", "btn-xs", 3, "click"], ["c8yIcon", "output", 1, "m-r-4"], [1, "c8y-empty-state", "text-center"], ["c8yIcon", "user-manual", 1, "c8y-icon-duocolor"], ["translate", ""], ["translate", "", 1, "m-r-8"], ["c8yIcon", "plugin"]], template: function PackageDetailsComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "async");
        ɵngcc0.ɵɵpipe(3, "humanizeAppName");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(4, "c8y-breadcrumb");
        ɵngcc0.ɵɵelement(5, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(6, "translate");
        ɵngcc0.ɵɵelement(7, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(8, "translate");
        ɵngcc0.ɵɵelement(9, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(10, "translate");
        ɵngcc0.ɵɵelement(11, "c8y-breadcrumb-item", 2);
        ɵngcc0.ɵɵpipe(12, "async");
        ɵngcc0.ɵɵpipe(13, "humanizeAppName");
        ɵngcc0.ɵɵelement(14, "c8y-breadcrumb-item", 2);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(16, "div", 3);
        ɵngcc0.ɵɵelementStart(17, "div", 4);
        ɵngcc0.ɵɵelementStart(18, "div", 5);
        ɵngcc0.ɵɵelementStart(19, "div", 6);
        ɵngcc0.ɵɵelementStart(20, "div", 7);
        ɵngcc0.ɵɵelement(21, "i", 8);
        ɵngcc0.ɵɵelementStart(22, "p");
        ɵngcc0.ɵɵelementStart(23, "span", 9);
        ɵngcc0.ɵɵtext(24);
        ɵngcc0.ɵɵpipe(25, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(26, "div", 10);
        ɵngcc0.ɵɵelementStart(27, "div", 11);
        ɵngcc0.ɵɵelementStart(28, "div", 12);
        ɵngcc0.ɵɵelementStart(29, "h4", 13);
        ɵngcc0.ɵɵtext(30);
        ɵngcc0.ɵɵpipe(31, "async");
        ɵngcc0.ɵɵpipe(32, "humanizeAppName");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(33, PackageDetailsComponent_p_33_Template, 2, 1, "p", 14);
        ɵngcc0.ɵɵtemplate(34, PackageDetailsComponent_p_34_Template, 4, 3, "p", 15);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(35, PackageDetailsComponent_div_35_Template, 5, 3, "div", 16);
        ɵngcc0.ɵɵelementStart(36, "div", 17);
        ɵngcc0.ɵɵelement(37, "c8y-properties-list", 18);
        ɵngcc0.ɵɵpipe(38, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(39, "div", 19);
        ɵngcc0.ɵɵelementStart(40, "div", 20);
        ɵngcc0.ɵɵelementStart(41, "h4", 21);
        ɵngcc0.ɵɵtext(42);
        ɵngcc0.ɵɵpipe(43, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(44, "div", 22);
        ɵngcc0.ɵɵtemplate(45, PackageDetailsComponent_div_45_Template, 7, 0, "div", 23);
        ɵngcc0.ɵɵelement(46, "div", 24);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelement(47, "div", 25);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(48, "div", 19);
        ɵngcc0.ɵɵelementStart(49, "div", 20);
        ɵngcc0.ɵɵelementStart(50, "h4", 21);
        ɵngcc0.ɵɵtext(51);
        ɵngcc0.ɵɵpipe(52, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(53, "div", 26);
        ɵngcc0.ɵɵtemplate(54, PackageDetailsComponent_div_54_Template, 7, 0, "div", 23);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 27, ɵngcc0.ɵɵpipeBind1(3, 29, ctx.name)));
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(6, 31, "Ecosystem"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(8, 33, "Applications"))("path", "ecosystem/applications");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "big-parcel")("label", ɵngcc0.ɵɵpipeBind1(10, 35, "Packages"))("path", "ecosystem/package-list");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(12, 37, ɵngcc0.ɵɵpipeBind1(13, 39, ctx.name)));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(15, 41, "Info"));
        ɵngcc0.ɵɵadvance(9);
        ɵngcc0.ɵɵproperty("ngClass", ctx.appState == null ? null : ctx.appState.class);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(25, 43, ctx.appState == null ? null : ctx.appState.label));
        ɵngcc0.ɵɵadvance(6);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(31, 45, ɵngcc0.ɵɵpipeBind1(32, 47, ctx.name)));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", ctx.description);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.description);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isApplicationPackage);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("data", ctx.package.manifest)("emptyLabel", "--")("icon", "info-circle")("properties", ctx.packageProperties)("title", ɵngcc0.ɵɵpipeBind1(38, 49, "Package info"));
        ɵngcc0.ɵɵadvance(5);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(43, 51, "Package overview"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.readme);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("innerHTML", ctx.readme, ɵngcc0.ɵɵsanitizeHtml);
        ɵngcc0.ɵɵadvance(5);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(52, 53, "Package plugins"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", true);
    } }, directives: [ɵngcc1.TitleComponent, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc1.IconDirective, ɵngcc5.NgClass, ɵngcc5.NgIf, ɵngcc1.PropertiesListComponent, ɵngcc1.C8yTranslateDirective], pipes: [ɵngcc5.AsyncPipe, ɵngcc1.HumanizeAppNamePipe, ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PackageDetailsComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-package-details',
                template: "<c8y-title>{{ name | humanizeAppName | async }}</c8y-title>\n\n<c8y-breadcrumb>\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'Applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'big-parcel'\"\n    [label]=\"'Packages' | translate\"\n    [path]=\"'ecosystem/package-list'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"name | humanizeAppName | async\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"'Info' | translate\"></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<div class=\"card content-fullpage d-grid grid__col--8-4--md grid__row--fit-auto\">\n  <div class=\"bg-gray-white grid__col--fullspan separator-bottom\">\n    <div class=\"card-block p-t-24 p-b-24 large-padding\">\n      <div class=\"content-flex-70\">\n        <div class=\"text-center\">\n          <i c8yIcon=\"big-parcel\" class=\"c8y-icon-duocolor icon-48\"></i>\n          <p>\n            <span [ngClass]=\"appState?.class\" class=\"label\">{{ appState?.label | translate }}</span>\n          </p>\n        </div>\n\n        <div class=\"flex-grow col-10\">\n          <div class=\"content-flex-80\">\n            <div class=\"col-5\">\n              <h4 class=\"card-title text-bold m-b-8\">{{ name | humanizeAppName | async }}</h4>\n              <p *ngIf=\"description\">{{ description }}</p>\n              <p *ngIf=\"!description\" class=\"text-muted\">\n                <em>{{ 'No description available.' | translate }}</em>\n              </p>\n            </div>\n            <div *ngIf=\"isApplicationPackage\" class=\"col-3 text-right-md\">\n              <button (click)=\"deploy()\" class=\"btn btn-primary btn-xs\">\n                <i c8yIcon=\"output\" class=\"m-r-4\"></i>\n                {{ 'Deploy application' | translate }}\n              </button>\n            </div>\n            <div class=\"flex-grow\">\n              <c8y-properties-list\n                [data]=\"package.manifest\"\n                [emptyLabel]=\"'--'\"\n                [icon]=\"'info-circle'\"\n                [properties]=\"packageProperties\"\n                [title]=\"'Package info' | translate\"\n              ></c8y-properties-list>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"inner-scroll\">\n    <div class=\"card-header separator sticky-top\">\n      <h4 class=\"card-title\">{{ 'Package overview' | translate }}</h4>\n    </div>\n    <div class=\"card-block p-l-16 p-r-16\">\n      <div *ngIf=\"!readme\" class=\"c8y-empty-state text-center\">\n        <h1 c8yIcon=\"user-manual\" class=\"c8y-icon-duocolor\"></h1>\n        <div>\n          <h3 translate>No README.md found.</h3>\n          <p class=\"m-r-8\" translate>\n            To view the contents of \"README\", add the file \"README.md\" to the package.\n          </p>\n        </div>\n      </div>\n\n      <div [innerHTML]=\"readme\" class=\"markdown-content\"></div>\n    </div>\n    <div class=\"separator-bottom visible-sm visible-xs\"></div>\n  </div>\n\n  <div class=\"inner-scroll\">\n    <div class=\"card-header separator sticky-top\">\n      <h4 class=\"card-title\">{{ 'Package plugins' | translate }}</h4>\n    </div>\n    <div class=\"card-block\">\n      <!-- empty state -->\n      <div *ngIf=\"true\" class=\"c8y-empty-state text-center\">\n        <h1 c8yIcon=\"plugin\"></h1>\n        <div>\n          <h3 translate>No plugins to display.</h3>\n          <p class=\"m-r-8\" translate>\n           This package doesn't contain plugins.\n          </p>\n        </div>\n      </div>\n\n      <!-- TODO: display the included plugins list -->\n    </div>\n  </div>\n</div>\n\n"
            }]
    }], function () { return [{ type: ɵngcc8.ActivatedRoute }, { type: ɵngcc3.FetchClient }, { type: ɵngcc1.WizardService }, { type: EcosystemService }]; }, null); })();
        return PackageDetailsComponent;
    }());
    PackageDetailsComponent.ctorParameters = function () { return [
        { type: router.ActivatedRoute },
        { type: client.FetchClient },
        { type: ngxComponents.WizardService },
        { type: EcosystemService }
    ]; };

    var DeployApplicationComponent = /** @class */ (function () {
        function DeployApplicationComponent(ecosystemService, applicationService, wizardComponent, translate) {
            this.ecosystemService = ecosystemService;
            this.applicationService = applicationService;
            this.wizardComponent = wizardComponent;
            this.translate = translate;
            this.inProgress = true;
            this.isDeployed = false;
            this.deployedWithSuccess = false;
            this.descriptionTemplate = ngxComponents.gettext('Deploy application using "{{ packageName }}" package');
        }
        DeployApplicationComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                var apps;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            this.package = this.wizardComponent.package;
                            return [4 /*yield*/, this.ecosystemService.getApplications()];
                        case 1:
                            apps = (_a.sent()).data;
                            this.newAppConfig = this.ecosystemService.getUniqueAppConfig(this.package, apps);
                            this.headerText = this.getHeaderText();
                            this.inProgress = false;
                            return [2 /*return*/];
                    }
                });
            });
        };
        DeployApplicationComponent.prototype.deployApp = function () {
            return __awaiter(this, void 0, void 0, function () {
                var formGroupValue, clonedPkg, config, updatedApp, error_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            formGroupValue = this.applicationPropertiesForm.formGroup.getRawValue();
                            this.inProgress = true;
                            return [4 /*yield*/, this.applicationService.clone(this.package)];
                        case 1:
                            clonedPkg = (_a.sent()).data;
                            config = this.ecosystemService.createConfig(clonedPkg, formGroupValue);
                            _a.label = 2;
                        case 2:
                            _a.trys.push([2, 6, , 8]);
                            return [4 /*yield*/, this.ecosystemService.updateApp(config, true)];
                        case 3:
                            updatedApp = (_a.sent()).data;
                            if (!updatedApp) return [3 /*break*/, 5];
                            return [4 /*yield*/, this.ecosystemService.updateAppManifest(updatedApp, this.package)];
                        case 4:
                            _a.sent();
                            _a.label = 5;
                        case 5:
                            this.deployedWithSuccess = true;
                            return [3 /*break*/, 8];
                        case 6:
                            error_1 = _a.sent();
                            this.markAsDeployed();
                            return [4 /*yield*/, this.applicationService.delete(clonedPkg.id)];
                        case 7:
                            _a.sent();
                            return [3 /*break*/, 8];
                        case 8:
                            this.markAsDeployed();
                            return [2 /*return*/];
                    }
                });
            });
        };
        DeployApplicationComponent.prototype.cancel = function () {
            this.wizardComponent.close();
        };
        DeployApplicationComponent.prototype.markAsDeployed = function () {
            this.isDeployed = true;
            this.inProgress = false;
        };
        DeployApplicationComponent.prototype.getHeaderText = function () {
            return this.translate.instant(this.descriptionTemplate, {
                packageName: this.package.name
            });
        };
DeployApplicationComponent.ɵfac = function DeployApplicationComponent_Factory(t) { return new (t || DeployApplicationComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardComponent), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.TranslateService)); };
DeployApplicationComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: DeployApplicationComponent, selectors: [["c8y-deploy-application"]], viewQuery: function DeployApplicationComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(ApplicationPropertiesFormComponent, 5);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.applicationPropertiesForm = _t.first);
    } }, decls: 15, vars: 12, consts: [[1, "modal-header", "dialog-header"], ["c8yIcon", "output"], [4, "ngIf"], ["type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["class", "btn btn-primary", "type", "button", 3, "disabled", "ngClass", "title", "click", 4, "ngIf"], [1, "fadeIn", "animated", "d-flex", "a-i-center", "j-c-center", "d-col", 2, "min-height", "309px"], ["class", "bg-white fit-w p-16 text-center text-medium sticky-top bg-white separator-bottom", 4, "ngIf"], ["class", "d-block fit-w bg-gray-white", 3, "application", 4, "ngIf"], ["class", "text-center", 3, "message", 4, "ngIf"], [1, "bg-white", "fit-w", "p-16", "text-center", "text-medium", "sticky-top", "bg-white", "separator-bottom"], [1, "d-block", "fit-w", "bg-gray-white", 3, "application"], [1, "text-center", 3, "message"], ["class", "modal-body fadeIn animated", "style", "min-height: 309px", 4, "ngIf", "ngIfElse"], ["failedDeploy", ""], [1, "modal-body", "fadeIn", "animated", 2, "min-height", "309px"], [1, "d-flex", "a-i-center", "j-c-center", "d-col"], ["type", "success", 1, "lead", "d-block", "m-b-16", 3, "size", "vertical", "text"], [1, "modal-body", "fadeIn", "animated", "text-center", 2, "min-height", "257px"], ["type", "error", 1, "lead", 3, "size", "vertical", "text"], ["type", "button", 1, "btn", "btn-primary", 3, "disabled", "ngClass", "title", "click"]], template: function DeployApplicationComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-wizard-header");
        ɵngcc0.ɵɵelementStart(1, "div", 0);
        ɵngcc0.ɵɵelement(2, "h1", 1);
        ɵngcc0.ɵɵelementStart(3, "h4");
        ɵngcc0.ɵɵtext(4);
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(6, "c8y-wizard-body");
        ɵngcc0.ɵɵtemplate(7, DeployApplicationComponent_ng_container_7_Template, 5, 3, "ng-container", 2);
        ɵngcc0.ɵɵtemplate(8, DeployApplicationComponent_ng_container_8_Template, 4, 2, "ng-container", 2);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(9, "c8y-wizard-footer");
        ɵngcc0.ɵɵelementStart(10, "button", 3);
        ɵngcc0.ɵɵlistener("click", function DeployApplicationComponent_Template_button_click_10_listener() { return ctx.cancel(); });
        ɵngcc0.ɵɵpipe(11, "translate");
        ɵngcc0.ɵɵtext(12);
        ɵngcc0.ɵɵpipe(13, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(14, DeployApplicationComponent_button_14_Template, 4, 10, "button", 4);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(5, 6, "Deploy application"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isDeployed);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isDeployed);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵpropertyInterpolate("title", ctx.isDeployed && ctx.deployedWithSuccess ? "Done" : ɵngcc0.ɵɵpipeBind1(11, 8, "Cancel"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate1(" ", ctx.isDeployed && ctx.deployedWithSuccess ? "Done" : ɵngcc0.ɵɵpipeBind1(13, 10, "Cancel"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isDeployed);
    } }, directives: [ɵngcc1.WizardHeaderComponent, ɵngcc1.IconDirective, ɵngcc1.WizardBodyComponent, ɵngcc5.NgIf, ɵngcc1.WizardFooterComponent, ApplicationPropertiesFormComponent, ɵngcc1.ProgressBarComponent, ɵngcc1.ɵe, ɵngcc5.NgClass], pipes: [ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DeployApplicationComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-deploy-application',
                template: "<c8y-wizard-header>\n  <div class=\"modal-header dialog-header\">\n    <h1 c8yIcon=\"output\"></h1>\n    <h4>{{ 'Deploy application' | translate }}</h4>\n  </div>\n</c8y-wizard-header>\n\n<c8y-wizard-body>\n  <ng-container *ngIf=\"!isDeployed\">\n    <div class=\"fadeIn animated d-flex a-i-center j-c-center d-col\" style=\"min-height: 309px\">\n      <p\n        class=\"bg-white fit-w p-16 text-center text-medium sticky-top bg-white separator-bottom\"\n        *ngIf=\"!inProgress\"\n      >\n        {{ headerText | translate }}\n      </p>\n      <c8y-application-properties-form\n        *ngIf=\"!inProgress\"\n        [application]=\"newAppConfig\"\n        class=\"d-block fit-w bg-gray-white\"\n      ></c8y-application-properties-form>\n\n      <c8y-progress-bar\n        *ngIf=\"inProgress\"\n        [message]=\"'Deploying\u2026' | translate\"\n        class=\"text-center\"\n      ></c8y-progress-bar>\n    </div>\n  </ng-container>\n\n  <ng-container *ngIf=\"isDeployed\">\n    <div\n      *ngIf=\"deployedWithSuccess; else failedDeploy\"\n      class=\"modal-body fadeIn animated\"\n      style=\"min-height: 309px\"\n    >\n      <div class=\"d-flex a-i-center j-c-center d-col\">\n        <c8y-operation-result\n          type=\"success\"\n          [size]=\"84\"\n          [vertical]=\"true\"\n          text=\"{{ 'Application' | translate }} {{ package.name }} {{ 'created' | translate }}\"\n          class=\"lead d-block m-b-16\"\n        ></c8y-operation-result>\n      </div>\n    </div>\n    <ng-template #failedDeploy>\n      <div class=\"modal-body fadeIn animated text-center\" style=\"min-height: 257px\">\n        <c8y-operation-result\n          type=\"error\"\n          [size]=\"84\"\n          [vertical]=\"true\"\n          text=\"{{ 'Application creation failed' | translate }}\"\n          class=\"lead\"\n        ></c8y-operation-result>\n      </div>\n    </ng-template>\n  </ng-container>\n</c8y-wizard-body>\n\n<c8y-wizard-footer>\n  <button\n    (click)=\"cancel()\"\n    type=\"button\"\n    class=\"btn btn-default\"\n    title=\"{{ isDeployed && deployedWithSuccess ? 'Done' : ('Cancel' | translate) }}\"\n  >\n    {{ isDeployed && deployedWithSuccess ? 'Done' : ('Cancel' | translate) }}\n  </button>\n\n  <button\n    (click)=\"deployApp()\"\n    *ngIf=\"!isDeployed\"\n    [disabled]=\"inProgress\"\n    [ngClass]=\"{ 'btn-pending': inProgress }\"\n    class=\"btn btn-primary\"\n    type=\"button\"\n    title=\"{{ 'Deploy' | translate }}\"\n  >\n    {{ 'Deploy' | translate }}\n  </button>\n</c8y-wizard-footer>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc3.ApplicationService }, { type: ɵngcc1.WizardComponent }, { type: ɵngcc2.TranslateService }]; }, { applicationPropertiesForm: [{
            type: core.ViewChild,
            args: [ApplicationPropertiesFormComponent]
        }] }); })();
        return DeployApplicationComponent;
    }());
    DeployApplicationComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: client.ApplicationService },
        { type: ngxComponents.WizardComponent },
        { type: core$1.TranslateService }
    ]; };
    DeployApplicationComponent.propDecorators = {
        applicationPropertiesForm: [{ type: core.ViewChild, args: [ApplicationPropertiesFormComponent,] }]
    };

    var AddApplicationComponent = /** @class */ (function () {
        function AddApplicationComponent(ecosystemService, alertService, applicationService, wizardComponent) {
            this.ecosystemService = ecosystemService;
            this.alertService = alertService;
            this.applicationService = applicationService;
            this.wizardComponent = wizardComponent;
            this.canGoBack = false;
            this.canOpenInBrowser = false;
            this.uploadCanceled = false;
        }
        Object.defineProperty(AddApplicationComponent.prototype, "progress", {
            get: function () {
                return this.ecosystemService.progress;
            },
            enumerable: false,
            configurable: true
        });
        AddApplicationComponent.prototype.onFileDroppedEvent = function (event) {
            if (event && event.length > 0) {
                var file = event[0].file;
                this.onFile(file);
            }
        };
        AddApplicationComponent.prototype.onFile = function (file) {
            return __awaiter(this, void 0, void 0, function () {
                var _a, ex_1;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this.isLoading = true;
                            this.errorMessage = null;
                            this.progress.next(0);
                            _b.label = 1;
                        case 1:
                            _b.trys.push([1, 4, , 5]);
                            _a = this;
                            return [4 /*yield*/, this.createApplicationHandler(file)];
                        case 2:
                            _a.createdApp = _b.sent();
                            return [4 /*yield*/, this.uploadApplicationHandler(file, this.createdApp)];
                        case 3:
                            _b.sent();
                            this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.createdApp);
                            this.isAppCreated = true;
                            return [3 /*break*/, 5];
                        case 4:
                            ex_1 = _b.sent();
                            this.ecosystemService.cancelAppCreation(this.createdApp);
                            this.createdApp = null;
                            this.dropAreaComponent.onDelete();
                            this.errorMessage = ERROR_MESSAGES[ex_1.message];
                            if (!this.errorMessage && !this.uploadCanceled) {
                                this.alertService.addServerFailure(ex_1);
                            }
                            return [3 /*break*/, 5];
                        case 5:
                            this.progress.next(100);
                            this.isLoading = false;
                            return [2 /*return*/];
                    }
                });
            });
        };
        AddApplicationComponent.prototype.getHref = function (app) {
            return this.applicationService.getHref(app);
        };
        AddApplicationComponent.prototype.cancel = function () {
            this.cancelFileUpload();
            this.wizardComponent.close();
        };
        AddApplicationComponent.prototype.done = function () {
            this.wizardComponent.close();
        };
        AddApplicationComponent.prototype.back = function () {
            this.wizardComponent.reset();
        };
        AddApplicationComponent.prototype.cancelFileUpload = function () {
            this.uploadCanceled = true;
            this.ecosystemService.cancelAppCreation(this.createdApp);
            this.createdApp = null;
        };
AddApplicationComponent.ɵfac = function AddApplicationComponent_Factory(t) { return new (t || AddApplicationComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.WizardComponent)); };
AddApplicationComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: AddApplicationComponent, selectors: [["c8y-add-application"]], viewQuery: function AddApplicationComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(ngxComponents.DropAreaComponent, 5);
    } if (rf & 2) {
        var _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.dropAreaComponent = _t.first);
    } }, inputs: { canGoBack: "canGoBack", headerText: "headerText", headerIcon: "headerIcon", successText: "successText", createApplicationHandler: "createApplicationHandler", uploadApplicationHandler: "uploadApplicationHandler" }, decls: 15, vars: 10, consts: [[3, "c8yIcon"], [1, "modal-inner-scroll", "animated", "fadeIn"], [1, "modal-body"], ["class", "m-auto", "style", "max-width: 285px", 3, "hasError", 4, "ngIf", "ngIfElse"], ["appCreated", ""], ["class", "btn btn-default", "translate", "", "type", "button", 3, "title", "click", 4, "ngIf"], ["target", "_blank", "class", "btn btn-primary", 3, "href", "title", "click", 4, "ngIf"], [1, "m-auto", 2, "max-width", "285px", 3, "hasError"], [1, "drop-area", 3, "accept", "loading", "maxAllowedFiles", "message", "progress", "dropped"], [4, "ngIf"], [1, "d-flex", "a-i-center", "j-c-center", 2, "min-height", "285px"], ["type", "success", 1, "lead", 3, "text", "vertical", "size"], ["translate", "", "type", "button", 1, "btn", "btn-default", 3, "title", "click"], ["target", "_blank", 1, "btn", "btn-primary", 3, "href", "title", "click"], ["c8yIcon", "external-link", 1, "m-r-4"]], template: function AddApplicationComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-wizard-header");
        ɵngcc0.ɵɵelement(1, "h1", 0);
        ɵngcc0.ɵɵelementStart(2, "h4");
        ɵngcc0.ɵɵtext(3);
        ɵngcc0.ɵɵpipe(4, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(5, "div", 1);
        ɵngcc0.ɵɵelementStart(6, "div", 2);
        ɵngcc0.ɵɵtemplate(7, AddApplicationComponent_c8y_form_group_7_Template, 6, 11, "c8y-form-group", 3);
        ɵngcc0.ɵɵtemplate(8, AddApplicationComponent_ng_template_8_Template, 3, 5, "ng-template", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(10, "c8y-wizard-footer");
        ɵngcc0.ɵɵtemplate(11, AddApplicationComponent_button_11_Template, 3, 3, "button", 5);
        ɵngcc0.ɵɵtemplate(12, AddApplicationComponent_button_12_Template, 3, 3, "button", 5);
        ɵngcc0.ɵɵtemplate(13, AddApplicationComponent_button_13_Template, 3, 3, "button", 5);
        ɵngcc0.ɵɵtemplate(14, AddApplicationComponent_a_14_Template, 5, 7, "a", 6);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        var _r1 = ɵngcc0.ɵɵreference(9);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("c8yIcon", ctx.headerIcon);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(4, 8, ctx.headerText));
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isAppCreated)("ngIfElse", _r1);
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isAppCreated && ctx.canGoBack);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isAppCreated);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isAppCreated);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isAppCreated && ctx.canOpenInBrowser);
    } }, directives: [ɵngcc1.WizardHeaderComponent, ɵngcc1.IconDirective, ɵngcc5.NgIf, ɵngcc1.WizardFooterComponent, ɵngcc1.FormGroupComponent, ɵngcc1.DropAreaComponent, ɵngcc1.MessagesComponent, ɵngcc1.MessageDirective, ɵngcc1.ɵe, ɵngcc1.C8yTranslateDirective], pipes: [ɵngcc1.C8yTranslatePipe, ɵngcc5.AsyncPipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(AddApplicationComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-add-application',
                template: "<c8y-wizard-header>\n  <h1 [c8yIcon]=\"headerIcon\"></h1>\n  <h4>{{ headerText | translate }}</h4>\n</c8y-wizard-header>\n\n<div class=\"modal-inner-scroll animated fadeIn\">\n  <div class=\"modal-body\">\n    <c8y-form-group\n      *ngIf=\"!isAppCreated; else appCreated\"\n      [hasError]=\"errorMessage\"\n      class=\"m-auto\"\n      style=\"max-width: 285px\"\n    >\n      <c8y-drop-area\n        (dropped)=\"onFileDroppedEvent($event)\"\n        [accept]=\"'.zip'\"\n        [loading]=\"isLoading\"\n        [maxAllowedFiles]=\"1\"\n        [message]=\"'Upload a *.zip file' | translate\"\n        [progress]=\"progress | async\"\n        class=\"drop-area\"\n      >\n      </c8y-drop-area>\n      <c8y-messages>\n        <c8y-message *ngIf=\"errorMessage\">\n          {{ errorMessage | translate }}\n        </c8y-message>\n      </c8y-messages>\n    </c8y-form-group>\n    <ng-template #appCreated>\n      <div class=\"d-flex a-i-center j-c-center\" style=\"min-height: 285px\">\n        <c8y-operation-result\n          text=\"{{ successText | translate }}\"\n          [vertical]=\"true\"\n          [size]=\"84\"\n          class=\"lead\"\n          type=\"success\"\n        >\n        </c8y-operation-result>\n      </div>\n    </ng-template>\n  </div>\n</div>\n<c8y-wizard-footer>\n  <button\n    (click)=\"back()\"\n    *ngIf=\"!isAppCreated && canGoBack\"\n    class=\"btn btn-default\"\n    title=\"{{ 'Back' | translate }}\"\n    translate\n    type=\"button\"\n  >\n    Back\n  </button>\n  <button\n    (click)=\"cancel()\"\n    *ngIf=\"!isAppCreated\"\n    class=\"btn btn-default\"\n    title=\"{{ 'Cancel' | translate }}\"\n    translate\n    type=\"button\"\n  >\n    Cancel\n  </button>\n  <button\n    (click)=\"done()\"\n    *ngIf=\"isAppCreated\"\n    class=\"btn btn-default\"\n    title=\"{{ 'Done' | translate }}\"\n    translate\n    type=\"button\"\n  >\n    Done\n  </button>\n  <a\n    (click)=\"$event.stopPropagation()\"\n    *ngIf=\"isAppCreated && canOpenInBrowser\"\n    [href]=\"getHref(createdApp)\"\n    target=\"_blank\"\n    class=\"btn btn-primary\"\n    title=\"{{ 'Open' | translate }}\"\n  >\n    <i c8yIcon=\"external-link\" class=\"m-r-4\"></i>\n    {{ 'Open' | translate }}\n  </a>\n</c8y-wizard-footer>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.AlertService }, { type: ɵngcc3.ApplicationService }, { type: ɵngcc1.WizardComponent }]; }, { canGoBack: [{
            type: core.Input
        }], headerText: [{
            type: core.Input
        }], headerIcon: [{
            type: core.Input
        }], successText: [{
            type: core.Input
        }], createApplicationHandler: [{
            type: core.Input
        }], uploadApplicationHandler: [{
            type: core.Input
        }], dropAreaComponent: [{
            type: core.ViewChild,
            args: [ngxComponents.DropAreaComponent]
        }] }); })();
        return AddApplicationComponent;
    }());
    AddApplicationComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.AlertService },
        { type: client.ApplicationService },
        { type: ngxComponents.WizardComponent }
    ]; };
    AddApplicationComponent.propDecorators = {
        headerText: [{ type: core.Input }],
        headerIcon: [{ type: core.Input }],
        successText: [{ type: core.Input }],
        createApplicationHandler: [{ type: core.Input }],
        uploadApplicationHandler: [{ type: core.Input }],
        canGoBack: [{ type: core.Input }],
        dropAreaComponent: [{ type: core.ViewChild, args: [ngxComponents.DropAreaComponent,] }]
    };

    var PackageGuard = /** @class */ (function () {
        function PackageGuard(ecosystemService) {
            this.ecosystemService = ecosystemService;
        }
        PackageGuard.prototype.canActivate = function (route) {
            var app = route.data.contextData || route.parent.data.contextData;
            if (!app) {
                return false;
            }
            return this.ecosystemService.isPackage(app);
        };
PackageGuard.ɵfac = function PackageGuard_Factory(t) { return new (t || PackageGuard)(ɵngcc0.ɵɵinject(EcosystemService)); };
PackageGuard.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: PackageGuard, factory: function (t) { return PackageGuard.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PackageGuard, [{
        type: core.Injectable
    }], function () { return [{ type: EcosystemService }]; }, null); })();
        return PackageGuard;
    }());
    PackageGuard.ctorParameters = function () { return [
        { type: EcosystemService }
    ]; };

    var ApplicationCardComponent = /** @class */ (function () {
        function ApplicationCardComponent(applicationService, ecosystemService, alertService, router) {
            this.applicationService = applicationService;
            this.ecosystemService = ecosystemService;
            this.alertService = alertService;
            this.router = router;
            this.canEdit = true;
            this.onAppDeleted = new core.EventEmitter();
        }
        Object.defineProperty(ApplicationCardComponent.prototype, "openButtonTitle", {
            get: function () {
                return !this.disableOpenInBrowser ?
                    ngxComponents.gettext('Open') :
                    ngxComponents.gettext('This application is overridden.');
            },
            enumerable: false,
            configurable: true
        });
        ApplicationCardComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                var contextPath, _a, _b;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            this.appState = this.ecosystemService.getAppState(this.app);
                            contextPath = this.app.contextPath;
                            this.canOpenInBrowser = this.ecosystemService.canOpenAppInBrowser(this.app);
                            _a = this;
                            _b = this.canOpenInBrowser;
                            if (!_b) return [3 /*break*/, 2];
                            return [4 /*yield*/, this.ecosystemService.isOverwrittenByCustomApp(this.app)];
                        case 1:
                            _b = (_c.sent());
                            _c.label = 2;
                        case 2:
                            _a.disableOpenInBrowser = _b;
                            this.canDelete = this.ecosystemService.canDeleteApp(this.app);
                            this.isPackage = this.ecosystemService.isPackage(this.app);
                            this.isFeature = this.ecosystemService.isFeature(this.app);
                            this.isMicroservice = this.ecosystemService.isMicroservice(this.app);
                            this.isExternal = this.ecosystemService.isExternal(this.app);
                            return [2 /*return*/];
                    }
                });
            });
        };
        ApplicationCardComponent.prototype.detail = function () {
            this.isMicroservice
                ? this.router.navigateByUrl("/microservices/" + this.app.id)
                : this.router.navigateByUrl("/ecosystem/application/" + this.app.id);
        };
        ApplicationCardComponent.prototype.openApp = function () {
            window.open(this.applicationService.getHref(this.app));
        };
        ApplicationCardComponent.prototype.delete = function () {
            return __awaiter(this, void 0, void 0, function () {
                var ex_1;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            _a.trys.push([0, 2, , 3]);
                            return [4 /*yield*/, this.ecosystemService.deleteApp(this.app)];
                        case 1:
                            _a.sent();
                            this.onAppDeleted.emit();
                            return [3 /*break*/, 3];
                        case 2:
                            ex_1 = _a.sent();
                            if (ex_1) {
                                this.alertService.addServerFailure(ex_1);
                            }
                            return [3 /*break*/, 3];
                        case 3: return [2 /*return*/];
                    }
                });
            });
        };
ApplicationCardComponent.ɵfac = function ApplicationCardComponent_Factory(t) { return new (t || ApplicationCardComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc3.ApplicationService), ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService), ɵngcc0.ɵɵdirectiveInject(ɵngcc8.Router)); };
ApplicationCardComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ApplicationCardComponent, selectors: [["c8y-application-card"]], inputs: { canEdit: "canEdit", app: "app" }, outputs: { onAppDeleted: "onAppDeleted" }, decls: 27, vars: 23, consts: [[1, "card", "pointer", "card--d-col"], [1, "card-block", "text-center", "card-column-40", 3, "click"], [1, "card-appicon"], [3, "app", "contextPath", "name", 4, "ngIf"], ["c8yIcon", "big-parcel", 4, "ngIf"], ["c8yIcon", "tab", 4, "ngIf"], ["c8yIcon", "microchip", 4, "ngIf"], ["c8yIcon", "globe1", 4, "ngIf"], [1, "e2e-appCardName", "text-medium", 3, "title"], ["class", "text-muted", 4, "ngIf"], [1, "card-block", "p-0", "no-min-height", "card--d-col", "card-column-80", "flex-grow", 3, "click"], [1, "card-block", "no-min-height", "p-t-0", "p-b-0", "card-column-80"], ["class", "text-center-grid", 4, "ngIf"], [1, "card-block", "no-min-height", "p-t-0", "p-b-0", "card-column-20", "text-center-grid"], [1, "label", 3, "ngClass"], [1, "card-footer", "no-min-height", "p-t-0", "p-b-0", "card-column-20", "text-center-grid"], [1, "p-b-16", "card-hidden-list"], ["class", "btn btn-xs btn-default", 3, "disabled", "title", "click", 4, "ngIf"], [1, "p-b-32", "card-hidden-list"], ["class", "card-actions m-t-0", 4, "ngIf"], [3, "app", "contextPath", "name"], ["c8yIcon", "big-parcel"], ["c8yIcon", "tab"], ["c8yIcon", "microchip"], ["c8yIcon", "globe1"], [1, "text-muted"], [1, "text-center-grid"], [1, "p-b-8", "card-hidden-grid"], [1, "small", "l-h-tight", "p-b-8", "p-l-0", "p-r-0"], [1, "btn", "btn-xs", "btn-default", 3, "disabled", "title", "click"], ["c8yIcon", "external-link", 1, "m-r-4"], [1, "card-actions", "m-t-0"], ["dropdown", "", 1, "dropdown"], ["dropdownToggle", "", 1, "dropdown-toggle", "c8y-dropdown", 3, "title"], ["c8yIcon", "ellipsis-v"], ["class", "dropdown-menu dropdown-menu-right", 4, "dropdownMenu"], [1, "dropdown-menu", "dropdown-menu-right"], [4, "ngIf"], [3, "title", "click"], ["c8yIcon", "pencil", 1, "m-r-4"], ["href", "", 3, "title", "click"], ["c8yIcon", "trash", 1, "m-r-4"]], template: function ApplicationCardComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵelementStart(1, "div", 1);
        ɵngcc0.ɵɵlistener("click", function ApplicationCardComponent_Template_div_click_1_listener() { return ctx.detail(); });
        ɵngcc0.ɵɵelementStart(2, "div", 2);
        ɵngcc0.ɵɵtemplate(3, ApplicationCardComponent_c8y_app_icon_3_Template, 1, 3, "c8y-app-icon", 3);
        ɵngcc0.ɵɵtemplate(4, ApplicationCardComponent_i_4_Template, 1, 0, "i", 4);
        ɵngcc0.ɵɵtemplate(5, ApplicationCardComponent_i_5_Template, 1, 0, "i", 5);
        ɵngcc0.ɵɵtemplate(6, ApplicationCardComponent_i_6_Template, 1, 0, "i", 6);
        ɵngcc0.ɵɵtemplate(7, ApplicationCardComponent_i_7_Template, 1, 0, "i", 7);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(8, "p", 8);
        ɵngcc0.ɵɵpipe(9, "async");
        ɵngcc0.ɵɵpipe(10, "humanizeAppName");
        ɵngcc0.ɵɵtext(11);
        ɵngcc0.ɵɵpipe(12, "async");
        ɵngcc0.ɵɵpipe(13, "humanizeAppName");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(14, ApplicationCardComponent_small_14_Template, 3, 1, "small", 9);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(15, "div", 10);
        ɵngcc0.ɵɵlistener("click", function ApplicationCardComponent_Template_div_click_15_listener() { return ctx.detail(); });
        ɵngcc0.ɵɵelementStart(16, "div", 11);
        ɵngcc0.ɵɵtemplate(17, ApplicationCardComponent_div_17_Template, 5, 3, "div", 12);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(18, "div", 13);
        ɵngcc0.ɵɵelementStart(19, "span", 14);
        ɵngcc0.ɵɵtext(20);
        ɵngcc0.ɵɵpipe(21, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(22, "div", 15);
        ɵngcc0.ɵɵelement(23, "div", 16);
        ɵngcc0.ɵɵtemplate(24, ApplicationCardComponent_button_24_Template, 5, 7, "button", 17);
        ɵngcc0.ɵɵelement(25, "div", 18);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(26, ApplicationCardComponent_div_26_Template, 6, 3, "div", 19);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isPackage && !ctx.isFeature && !ctx.isMicroservice && !ctx.isExternal);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isPackage);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isFeature);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isMicroservice);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ctx.isExternal);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(9, 13, ɵngcc0.ɵɵpipeBind1(10, 15, ctx.app)));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(12, 17, ɵngcc0.ɵɵpipeBind1(13, 19, ctx.app)), " ");
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", (ctx.app.manifest == null ? null : ctx.app.manifest.version) && (ctx.isPackage || ctx.isMicroservice));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("ngIf", ctx.app.description);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ctx.appState.class);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(21, 21, ctx.appState.label));
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("ngIf", ctx.canOpenInBrowser);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.canEdit || ctx.canOpenInBrowser || ctx.canDelete);
    } }, directives: [ɵngcc5.NgIf, ɵngcc5.NgClass, ɵngcc1.AppIconComponent, ɵngcc1.IconDirective, ɵngcc10.BsDropdownDirective, ɵngcc10.BsDropdownToggleDirective, ɵngcc10.BsDropdownMenuDirective], pipes: [ɵngcc5.AsyncPipe, ɵngcc1.HumanizeAppNamePipe, ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplicationCardComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-application-card',
                template: "<div class=\"card pointer card--d-col\">\n  <div (click)=\"detail()\" class=\"card-block text-center card-column-40\">\n    <div class=\"card-appicon\">\n      <c8y-app-icon\n        *ngIf=\"!isPackage && !isFeature && !isMicroservice && !isExternal\"\n        [app]=\"app\"\n        [contextPath]=\"app.contextPath\"\n        [name]=\"app.name\"\n      ></c8y-app-icon>\n      <i *ngIf=\"isPackage\" c8yIcon=\"big-parcel\"></i>\n      <i *ngIf=\"isFeature\" c8yIcon=\"tab\"></i>\n      <i *ngIf=\"isMicroservice\" c8yIcon=\"microchip\"></i>\n      <i *ngIf=\"isExternal\" c8yIcon=\"globe1\"></i>\n    </div>\n    <p class=\"e2e-appCardName text-medium\" title=\"{{ app | humanizeAppName | async }}\">\n      {{ app | humanizeAppName | async }}\n    </p>\n    <small *ngIf=\"app.manifest?.version && (isPackage || isMicroservice)\" class=\"text-muted\">\n      <em>{{ app.manifest.version }}</em>\n    </small>\n  </div>\n  <div (click)=\"detail()\" class=\"card-block p-0 no-min-height card--d-col card-column-80 flex-grow\">\n    <div class=\"card-block no-min-height p-t-0 p-b-0 card-column-80\">\n      <div *ngIf=\"app.description\" class=\"text-center-grid\">\n        <div class=\"p-b-8 card-hidden-grid\"></div>\n        <p class=\"small l-h-tight p-b-8 p-l-0 p-r-0\">{{ app.description | translate }}</p>\n      </div>\n    </div>\n    <div class=\"card-block no-min-height p-t-0 p-b-0 card-column-20 text-center-grid\">\n      <span [ngClass]=\"appState.class\" class=\"label\">{{ appState.label | translate }}</span>\n    </div>\n    <div class=\"card-footer no-min-height p-t-0 p-b-0 card-column-20 text-center-grid\">\n      <div class=\"p-b-16 card-hidden-list\"></div>\n      <button\n        (click)=\"openApp(); $event.stopPropagation()\"\n        *ngIf=\"canOpenInBrowser\"\n        [disabled]=\"disableOpenInBrowser\"\n        class=\"btn btn-xs btn-default\"\n        [title]=\"openButtonTitle | translate\"\n      >\n        <i c8yIcon=\"external-link\" class=\"m-r-4\"></i>\n        {{ 'Open' | translate }}\n      </button>\n      <div class=\"p-b-32 card-hidden-list\"></div>\n    </div>\n  </div>\n\n  <div *ngIf=\"canEdit || canOpenInBrowser || canDelete\" class=\"card-actions m-t-0\">\n    <div class=\"dropdown\" dropdown>\n      <button\n        class=\"dropdown-toggle c8y-dropdown\"\n        dropdownToggle\n        title=\"{{ 'Settings' | translate }}\"\n      >\n        <i c8yIcon=\"ellipsis-v\"></i>\n      </button>\n      <ul *dropdownMenu class=\"dropdown-menu dropdown-menu-right\">\n        <li *ngIf=\"canEdit\">\n          <button (click)=\"detail()\" title=\"{{ 'Edit' | translate }}\">\n            <i c8yIcon=\"pencil\" class=\"m-r-4\"></i>\n            {{ 'Edit' | translate }}\n          </button>\n        </li>\n        <li *ngIf=\"canDelete\">\n          <button\n            (click)=\"delete()\"\n            href=\"\"\n            title=\"{{ 'Delete' | translate }}\"\n          >\n            <i c8yIcon=\"trash\" class=\"m-r-4\"></i>\n            {{ 'Delete' | translate }}\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc3.ApplicationService }, { type: EcosystemService }, { type: ɵngcc1.AlertService }, { type: ɵngcc8.Router }]; }, { canEdit: [{
            type: core.Input
        }], onAppDeleted: [{
            type: core.Output
        }], app: [{
            type: core.Input
        }] }); })();
        return ApplicationCardComponent;
    }());
    ApplicationCardComponent.ctorParameters = function () { return [
        { type: client.ApplicationService },
        { type: EcosystemService },
        { type: ngxComponents.AlertService },
        { type: router.Router }
    ]; };
    ApplicationCardComponent.propDecorators = {
        app: [{ type: core.Input }],
        canEdit: [{ type: core.Input }],
        onAppDeleted: [{ type: core.Output }]
    };

    var ApplicationPropertiesGuard = /** @class */ (function () {
        function ApplicationPropertiesGuard(ecosystemService) {
            this.ecosystemService = ecosystemService;
        }
        ApplicationPropertiesGuard.prototype.canActivate = function (route) {
            var app = route.data.contextData || route.parent.data.contextData;
            if (!app) {
                return false;
            }
            return !this.ecosystemService.isPackage(app);
        };
ApplicationPropertiesGuard.ɵfac = function ApplicationPropertiesGuard_Factory(t) { return new (t || ApplicationPropertiesGuard)(ɵngcc0.ɵɵinject(EcosystemService)); };
ApplicationPropertiesGuard.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: ApplicationPropertiesGuard, factory: function (t) { return ApplicationPropertiesGuard.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ApplicationPropertiesGuard, [{
        type: core.Injectable
    }], function () { return [{ type: EcosystemService }]; }, null); })();
        return ApplicationPropertiesGuard;
    }());
    ApplicationPropertiesGuard.ctorParameters = function () { return [
        { type: EcosystemService }
    ]; };

    var FeatureListComponent = /** @class */ (function () {
        function FeatureListComponent(ecosystemService) {
            var _this = this;
            this.ecosystemService = ecosystemService;
            this.reloading = false;
            this.reload$ = new rxjs.BehaviorSubject(null);
            this.features$ = this.reload$.pipe(operators.tap(function () { return (_this.reloading = true); }), operators.switchMap(function () { return _this.ecosystemService.getFeatureApplications(); }), operators.tap(function () { return (_this.reloading = false); }), operators.shareReplay());
        }
        FeatureListComponent.prototype.ngOnInit = function () {
            this.loadFeatures();
        };
        FeatureListComponent.prototype.loadFeatures = function () {
            this.reload$.next();
        };
FeatureListComponent.ɵfac = function FeatureListComponent_Factory(t) { return new (t || FeatureListComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService)); };
FeatureListComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: FeatureListComponent, selectors: [["c8y-feature-list"]], decls: 26, vars: 40, consts: [[3, "icon", "label"], [3, "icon", "label", "path"], [3, "placement"], [1, "btn", "btn-link", 3, "title", "click"], ["c8yIcon", "refresh", 3, "ngClass"], ["itemClass", "navbar-form hidden-xs", 3, "placement"], [3, "listLength", "onListClassChange"], ["class", "c8y-empty-state text-center", 4, "ngIf"], [1, "card-group", 3, "ngClass"], ["class", "page-sticky-header hidden-xs flex-row", 4, "ngIf"], ["class", "col-xs-12 col-sm-4 col-md-3", 4, "ngFor", "ngForOf"], [1, "c8y-empty-state", "text-center"], [1, "c8y-icon", "c8y-icon-modules", "c8y-icon-duocolor"], ["translate", ""], [1, "page-sticky-header", "hidden-xs", "flex-row"], [1, "card-block", "card-column-40"], [1, "card-appicon", "p-l-32", "p-r-16", "m-r-0", "m-l-4"], [1, "card-block", "p-0", "card-column-80"], [1, "card-block", "card-column-80"], [1, "card-block", "card-column-20"], [1, "col-xs-12", "col-sm-4", "col-md-3"], [1, "d-contents", 3, "app", "canEdit"]], template: function FeatureListComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(3, "c8y-breadcrumb");
        ɵngcc0.ɵɵelement(4, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(5, "translate");
        ɵngcc0.ɵɵelement(6, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(7, "translate");
        ɵngcc0.ɵɵelement(8, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(9, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(10, "c8y-action-bar-item", 2);
        ɵngcc0.ɵɵelementStart(11, "button", 3);
        ɵngcc0.ɵɵlistener("click", function FeatureListComponent_Template_button_click_11_listener() { return ctx.reload$.next(); });
        ɵngcc0.ɵɵpipe(12, "translate");
        ɵngcc0.ɵɵelement(13, "i", 4);
        ɵngcc0.ɵɵtext(14);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(16, "c8y-action-bar-item", 5);
        ɵngcc0.ɵɵelementStart(17, "c8y-list-display-switch", 6);
        ɵngcc0.ɵɵlistener("onListClassChange", function FeatureListComponent_Template_c8y_list_display_switch_onListClassChange_17_listener($event) { return ctx.listClass = $event; });
        ɵngcc0.ɵɵpipe(18, "async");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(19, FeatureListComponent_div_19_Template, 6, 0, "div", 7);
        ɵngcc0.ɵɵpipe(20, "async");
        ɵngcc0.ɵɵelementStart(21, "div", 8);
        ɵngcc0.ɵɵtemplate(22, FeatureListComponent_div_22_Template, 13, 9, "div", 9);
        ɵngcc0.ɵɵpipe(23, "async");
        ɵngcc0.ɵɵtemplate(24, FeatureListComponent_div_24_Template, 2, 2, "div", 10);
        ɵngcc0.ɵɵpipe(25, "async");
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        var tmp_13_0;
        var tmp_14_0;
        var tmp_16_0;
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 18, "Features"));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(5, 20, "Ecosystem"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(7, 22, "Applications"))("path", "ecosystem/applications");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "tab")("label", ɵngcc0.ɵɵpipeBind1(9, 24, "Features"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "right");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵpropertyInterpolate("title", ɵngcc0.ɵɵpipeBind1(12, 26, "Reload"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ɵngcc0.ɵɵpureFunction1(38, _c3, ctx.reloading));
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate1(" ", ɵngcc0.ɵɵpipeBind1(15, 28, "Reload"), " ");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("placement", "left");
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("listLength", (tmp_13_0 = ɵngcc0.ɵɵpipeBind1(18, 30, ctx.features$)) == null ? null : tmp_13_0.length);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_14_0 = ɵngcc0.ɵɵpipeBind1(20, 32, ctx.features$)) == null ? null : tmp_14_0.length) === 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngClass", ctx.listClass);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("ngIf", ((tmp_16_0 = ɵngcc0.ɵɵpipeBind1(23, 34, ctx.features$)) == null ? null : tmp_16_0.length) > 0);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngForOf", ɵngcc0.ɵɵpipeBind1(25, 36, ctx.features$));
    } }, directives: [ɵngcc1.TitleComponent, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc1.ActionBarItemComponent, ɵngcc1.IconDirective, ɵngcc5.NgClass, ɵngcc1.ɵbh, ɵngcc5.NgIf, ɵngcc5.NgForOf, ɵngcc1.C8yTranslateDirective, ApplicationCardComponent], pipes: [ɵngcc1.C8yTranslatePipe, ɵngcc5.AsyncPipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(FeatureListComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-feature-list',
                template: "<c8y-title>{{ 'Features' | translate }}</c8y-title>\n\n<c8y-breadcrumb>\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'Applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [icon]=\"'tab'\" [label]=\"'Features' | translate\"></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<c8y-action-bar-item [placement]=\"'right'\">\n  <button (click)=\"reload$.next()\" class=\"btn btn-link\" title=\"{{ 'Reload' | translate }}\">\n    <i [ngClass]=\"{ 'icon-spin': reloading }\" c8yIcon=\"refresh\"></i>\n    {{ 'Reload' | translate }}\n  </button>\n</c8y-action-bar-item>\n\n<c8y-action-bar-item [placement]=\"'left'\" itemClass=\"navbar-form hidden-xs\">\n  <c8y-list-display-switch\n    (onListClassChange)=\"listClass = $event\"\n    [listLength]=\"(features$ | async)?.length\"\n  ></c8y-list-display-switch>\n</c8y-action-bar-item>\n\n<div *ngIf=\"(features$ | async)?.length === 0\" class=\"c8y-empty-state text-center\">\n  <h1 class=\"c8y-icon c8y-icon-modules c8y-icon-duocolor\"></h1>\n  <h3 translate>No features to display.</h3>\n  <p translate>No additional features are subscribed to the tenant.</p>\n</div>\n\n<div [ngClass]=\"listClass\" class=\"card-group\">\n  <div class=\"page-sticky-header hidden-xs flex-row\" *ngIf=\"(features$ | async)?.length > 0\">\n    <div class=\"card-block card-column-40\">\n      <div class=\"card-appicon p-l-32 p-r-16 m-r-0 m-l-4\"></div>\n      {{ 'Feature' | translate }}\n    </div>\n    <div class=\"card-block p-0 card-column-80\">\n      <div class=\"card-block card-column-80\">{{ 'Description' | translate }}</div>\n      <div class=\"card-block card-column-20\">{{ 'Type' | translate }}</div>\n      <div class=\"card-block card-column-20\"></div>\n    </div>\n  </div>\n  <div *ngFor=\"let feature of features$ | async\" class=\"col-xs-12 col-sm-4 col-md-3\">\n    <c8y-application-card\n      [app]=\"feature\"\n      [canEdit]=\"false\"\n      class=\"d-contents\"\n    ></c8y-application-card>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: EcosystemService }]; }, null); })();
        return FeatureListComponent;
    }());
    FeatureListComponent.ctorParameters = function () { return [
        { type: EcosystemService }
    ]; };

    var PackageArchivesComponent = /** @class */ (function () {
        function PackageArchivesComponent(activatedRoute, ecosystemService) {
            this.activatedRoute = activatedRoute;
            this.ecosystemService = ecosystemService;
            this.isLoading = false;
        }
        PackageArchivesComponent.prototype.ngOnInit = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, this.loadApplication()];
                        case 1:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            });
        };
        PackageArchivesComponent.prototype.loadApplication = function () {
            return __awaiter(this, void 0, void 0, function () {
                var id, _a;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            id = this.activatedRoute.snapshot.parent.data.contextData.id;
                            this.isLoading = true;
                            _a = this;
                            return [4 /*yield*/, this.ecosystemService.getApplication(id)];
                        case 1:
                            _a.application = _b.sent();
                            this.isLoading = false;
                            return [2 /*return*/];
                    }
                });
            });
        };
PackageArchivesComponent.ɵfac = function PackageArchivesComponent_Factory(t) { return new (t || PackageArchivesComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc8.ActivatedRoute), ɵngcc0.ɵɵdirectiveInject(EcosystemService)); };
PackageArchivesComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: PackageArchivesComponent, selectors: [["c8y-package-archives"]], decls: 24, vars: 31, consts: [[3, "icon", "label"], [3, "icon", "label", "path"], [3, "label"], [1, "row"], [1, "col-lg-8"], [1, "card", "content-fullpage", "d-flex", "d-col"], [1, "card-header", "large-padding", "separator"], [1, ""], ["class", "d-contents", 3, "application", 4, "ngIf"], [1, "d-contents", 3, "application"]], template: function PackageArchivesComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-title");
        ɵngcc0.ɵɵtext(1);
        ɵngcc0.ɵɵpipe(2, "async");
        ɵngcc0.ɵɵpipe(3, "humanizeAppName");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(4, "c8y-breadcrumb");
        ɵngcc0.ɵɵelement(5, "c8y-breadcrumb-item", 0);
        ɵngcc0.ɵɵpipe(6, "translate");
        ɵngcc0.ɵɵelement(7, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(8, "translate");
        ɵngcc0.ɵɵelement(9, "c8y-breadcrumb-item", 1);
        ɵngcc0.ɵɵpipe(10, "translate");
        ɵngcc0.ɵɵelement(11, "c8y-breadcrumb-item", 2);
        ɵngcc0.ɵɵpipe(12, "async");
        ɵngcc0.ɵɵpipe(13, "humanizeAppName");
        ɵngcc0.ɵɵelement(14, "c8y-breadcrumb-item", 2);
        ɵngcc0.ɵɵpipe(15, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementStart(16, "div", 3);
        ɵngcc0.ɵɵelementStart(17, "div", 4);
        ɵngcc0.ɵɵelementStart(18, "div", 5);
        ɵngcc0.ɵɵelementStart(19, "div", 6);
        ɵngcc0.ɵɵelementStart(20, "h4", 7);
        ɵngcc0.ɵɵtext(21);
        ɵngcc0.ɵɵpipe(22, "translate");
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(23, PackageArchivesComponent_c8y_activity_log_23_Template, 1, 1, "c8y-activity-log", 8);
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(2, 13, ɵngcc0.ɵɵpipeBind1(3, 15, ctx.application)));
        ɵngcc0.ɵɵadvance(4);
        ɵngcc0.ɵɵproperty("icon", "c8y-atom")("label", ɵngcc0.ɵɵpipeBind1(6, 17, "Ecosystem"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "c8y-modules")("label", ɵngcc0.ɵɵpipeBind1(8, 19, "Applications"))("path", "ecosystem/applications");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("icon", "big-parcel")("label", ɵngcc0.ɵɵpipeBind1(10, 21, "Packages"))("path", "ecosystem/package-list");
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(12, 23, ɵngcc0.ɵɵpipeBind1(13, 25, ctx.application)));
        ɵngcc0.ɵɵadvance(3);
        ɵngcc0.ɵɵproperty("label", ɵngcc0.ɵɵpipeBind1(15, 27, "Archives"));
        ɵngcc0.ɵɵadvance(7);
        ɵngcc0.ɵɵtextInterpolate(ɵngcc0.ɵɵpipeBind1(22, 29, "Archives"));
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", !ctx.isLoading);
    } }, directives: [ɵngcc1.TitleComponent, ɵngcc1.BreadcrumbComponent, ɵngcc1.BreadcrumbItemComponent, ɵngcc5.NgIf, ActivityLogComponent], pipes: [ɵngcc5.AsyncPipe, ɵngcc1.HumanizeAppNamePipe, ɵngcc1.C8yTranslatePipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PackageArchivesComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-package-archives',
                template: "<c8y-title>{{ application | humanizeAppName | async }}</c8y-title>\n\n<c8y-breadcrumb>\n  <c8y-breadcrumb-item [icon]=\"'c8y-atom'\" [label]=\"'Ecosystem' | translate\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'c8y-modules'\"\n    [label]=\"'Applications' | translate\"\n    [path]=\"'ecosystem/applications'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item\n    [icon]=\"'big-parcel'\"\n    [label]=\"'Packages' | translate\"\n    [path]=\"'ecosystem/package-list'\"\n  ></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"application | humanizeAppName | async\"></c8y-breadcrumb-item>\n  <c8y-breadcrumb-item [label]=\"'Archives' | translate\"></c8y-breadcrumb-item>\n</c8y-breadcrumb>\n\n<div class=\"row\">\n  <div class=\"col-lg-8\">\n    <div class=\"card content-fullpage d-flex d-col\">\n      <div class=\"card-header large-padding separator\">\n        <h4 class>{{ 'Archives' | translate }}</h4>\n      </div>\n      <c8y-activity-log class=\"d-contents\" *ngIf=\"!isLoading\" [application]=\"application\">\n      </c8y-activity-log>\n    </div>\n  </div>\n</div>\n"
            }]
    }], function () { return [{ type: ɵngcc8.ActivatedRoute }, { type: EcosystemService }]; }, null); })();
        return PackageArchivesComponent;
    }());
    PackageArchivesComponent.ctorParameters = function () { return [
        { type: router.ActivatedRoute },
        { type: EcosystemService }
    ]; };

    var EcosystemWizardFactory = /** @class */ (function () {
        function EcosystemWizardFactory(ecosystemGuard) {
            this.ecosystemGuard = ecosystemGuard;
        }
        EcosystemWizardFactory.prototype.get = function () {
            return __awaiter(this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    if (!this.ecosystemGuard.isFeatureEnabled()) {
                        return [2 /*return*/];
                    }
                    else {
                        return [2 /*return*/, {
                                wizardId: 'uploadApplication',
                                component: InstallFromPackageComponent,
                                name: 'Install from available packages',
                                c8yIcon: 'big-parcel'
                            }];
                    }
                    return [2 /*return*/];
                });
            });
        };
EcosystemWizardFactory.ɵfac = function EcosystemWizardFactory_Factory(t) { return new (t || EcosystemWizardFactory)(ɵngcc0.ɵɵinject(EcosystemGuard)); };
EcosystemWizardFactory.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: EcosystemWizardFactory, factory: function (t) { return EcosystemWizardFactory.ɵfac(t); } });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EcosystemWizardFactory, [{
        type: core.Injectable
    }], function () { return [{ type: EcosystemGuard }]; }, null); })();
        return EcosystemWizardFactory;
    }());
    EcosystemWizardFactory.ctorParameters = function () { return [
        { type: EcosystemGuard }
    ]; };

    var UploadArchiveComponent = /** @class */ (function () {
        function UploadArchiveComponent(ecosystemService, alertService) {
            this.ecosystemService = ecosystemService;
            this.alertService = alertService;
            this.applicationChange = new core.EventEmitter();
            this.refresh = new core.EventEmitter();
            this.archives = [];
            this.uploadInProgress = false;
            this.canReactivate = false;
        }
        Object.defineProperty(UploadArchiveComponent.prototype, "uploadProgress", {
            get: function () {
                return this.ecosystemService.progress;
            },
            enumerable: false,
            configurable: true
        });
        UploadArchiveComponent.prototype.onFileDroppedEvent = function (event) {
            if (event && event.length > 0) {
                var file = event[0].file;
                this.onFile(file);
            }
        };
        UploadArchiveComponent.prototype.onFile = function (file) {
            return __awaiter(this, void 0, void 0, function () {
                var isCustomMicroservice, _a, _b, app, ex_1;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            _c.trys.push([0, 8, , 9]);
                            return [4 /*yield*/, this.ecosystemService.isValidAppType(file, this.application.type)];
                        case 1:
                            _c.sent();
                            isCustomMicroservice = this.ecosystemService.isCustomMicroservice(this.application);
                            _a = this;
                            if (!isCustomMicroservice) return [3 /*break*/, 2];
                            _b = [];
                            return [3 /*break*/, 4];
                        case 2: return [4 /*yield*/, this.ecosystemService.listArchives(this.application.id)];
                        case 3:
                            _b = _c.sent();
                            _c.label = 4;
                        case 4:
                            _a.archives = _b;
                            this.archives.sort(function (a, b) {
                                return new Date(b.created) - new Date(a.created);
                            });
                            this.uploadInProgress = true;
                            this.uploadProgress.next(0);
                            if (!(this.archives.length === 6 && !isCustomMicroservice)) return [3 /*break*/, 6];
                            return [4 /*yield*/, this.ecosystemService.removeOldestArchive(this.application, this.archives)];
                        case 5:
                            _c.sent();
                            _c.label = 6;
                        case 6: return [4 /*yield*/, this.ecosystemService.uploadArchiveToApp(file, this.application)];
                        case 7:
                            app = _c.sent();
                            this.applicationChange.emit(app);
                            this.uploadProgress.next(100);
                            this.uploadInProgress = false;
                            this.refresh.emit();
                            this.alertService.success(ngxComponents.gettext('Archive uploaded and activated.'));
                            return [3 /*break*/, 9];
                        case 8:
                            ex_1 = _c.sent();
                            this.uploadInProgress = false;
                            this.alertService.addServerFailure(ex_1);
                            return [3 /*break*/, 9];
                        case 9: return [2 /*return*/];
                    }
                });
            });
        };
UploadArchiveComponent.ɵfac = function UploadArchiveComponent_Factory(t) { return new (t || UploadArchiveComponent)(ɵngcc0.ɵɵdirectiveInject(EcosystemService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AlertService)); };
UploadArchiveComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: UploadArchiveComponent, selectors: [["c8y-upload-archive"]], inputs: { application: "application" }, outputs: { applicationChange: "applicationChange", refresh: "refresh" }, decls: 3, vars: 11, consts: [[1, "drop-area-sm", 3, "accept", "files", "loading", "maxAllowedFiles", "message", "progress", "forceHideList", "dropped"]], template: function UploadArchiveComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "c8y-drop-area", 0);
        ɵngcc0.ɵɵlistener("dropped", function UploadArchiveComponent_Template_c8y_drop_area_dropped_0_listener($event) { return ctx.onFileDroppedEvent($event); });
        ɵngcc0.ɵɵpipe(1, "translate");
        ɵngcc0.ɵɵpipe(2, "async");
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵproperty("accept", ".zip")("files", ctx.fileList)("loading", ctx.uploadInProgress)("maxAllowedFiles", 1)("message", ɵngcc0.ɵɵpipeBind1(1, 7, "Upload a *.zip file"))("progress", ɵngcc0.ɵɵpipeBind1(2, 9, ctx.uploadProgress))("forceHideList", true);
    } }, directives: [ɵngcc1.DropAreaComponent], pipes: [ɵngcc1.C8yTranslatePipe, ɵngcc5.AsyncPipe], encapsulation: 2 });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(UploadArchiveComponent, [{
        type: core.Component,
        args: [{
                selector: 'c8y-upload-archive',
                template: "<c8y-drop-area\n  (dropped)=\"onFileDroppedEvent($event)\"\n  [accept]=\"'.zip'\"\n  [files]=\"fileList\"\n  [loading]=\"uploadInProgress\"\n  [maxAllowedFiles]=\"1\"\n  [message]=\"'Upload a *.zip file' | translate\"\n  [progress]=\"uploadProgress | async\"\n  [forceHideList]=\"true\"\n  class=\"drop-area-sm\"\n>\n</c8y-drop-area>\n"
            }]
    }], function () { return [{ type: EcosystemService }, { type: ɵngcc1.AlertService }]; }, { applicationChange: [{
            type: core.Output
        }], refresh: [{
            type: core.Output
        }], application: [{
            type: core.Input
        }] }); })();
        return UploadArchiveComponent;
    }());
    UploadArchiveComponent.ctorParameters = function () { return [
        { type: EcosystemService },
        { type: ngxComponents.AlertService }
    ]; };
    UploadArchiveComponent.propDecorators = {
        application: [{ type: core.Input }],
        applicationChange: [{ type: core.Output }],
        refresh: [{ type: core.Output }]
    };

    var ecosystemMainRoutes = [
        {
            path: 'ecosystem/applications',
            component: ApplicationListComponent
        },
        {
            path: 'ecosystem/package-list',
            component: PackagesListComponent,
            canActivate: [EcosystemGuard]
        },
        {
            path: 'ecosystem/features',
            component: FeatureListComponent
        },
        {
            path: 'ecosystem',
            redirectTo: 'ecosystem/applications'
        },
        {
            path: 'microservices',
            component: MicroserviceListComponent
        }
    ];
    var applicationDetailsRoutes = [
        {
            path: 'properties',
            component: ApplicationPropertiesComponent,
            icon: 'list',
            label: ngxComponents.gettext('Properties'),
            context: ngxComponents.ViewContext.Application,
            priority: 5,
            canActivate: [ApplicationPropertiesGuard]
        },
        {
            path: 'plugins',
            component: ApplicationPluginsComponent,
            icon: 'plugin',
            label: ngxComponents.gettext('Plugins'),
            context: ngxComponents.ViewContext.Application,
            priority: 3,
            canActivate: [ApplicationPluginsGuard, EcosystemGuard]
        },
        {
            path: 'package-details',
            component: PackageDetailsComponent,
            icon: 'big-parcel',
            label: ngxComponents.gettext('Info'),
            context: ngxComponents.ViewContext.Application,
            priority: 10,
            canActivate: [PackageGuard, EcosystemGuard]
        },
        {
            path: 'package-archives',
            component: PackageArchivesComponent,
            icon: 'c8y-archive',
            label: ngxComponents.gettext('Archives'),
            context: ngxComponents.ViewContext.Application,
            priority: 5,
            canActivate: [PackageGuard, EcosystemGuard]
        },
        {
            path: 'properties',
            component: ApplicationPropertiesComponent,
            icon: 'list',
            label: ngxComponents.gettext('Properties'),
            context: ngxComponents.ViewContext.Microservice,
            priority: 5,
            canActivate: [ApplicationPropertiesGuard]
        }
    ];
    var ɵ0 = applicationDetailsRoutes, ɵ1 = {
        wizardId: 'uploadApplication',
        component: AddWebApplicationComponent,
        name: 'Upload web application',
        c8yIcon: 'upload'
    }, ɵ2 = {
        wizardId: 'uploadPackage',
        component: AddPackageComponent
    }, ɵ3 = {
        wizardId: 'uploadApplication',
        component: AddExternalApplicationComponent,
        name: 'External application',
        c8yIcon: 'cloud-link'
    }, ɵ4 = {
        wizardId: 'deployPackage',
        component: DeployApplicationComponent,
        name: 'Deploy package',
        c8yIcon: 'big-parcel'
    }, ɵ5 = {
        wizardId: 'uploadApplication',
        component: DuplicateApplicationComponent,
        name: 'Duplicate existing application',
        c8yIcon: 'copy'
    }, ɵ6 = {
        wizardId: 'uploadMicroservice',
        component: AddMicroserviceComponent
    };
    var EcosystemModule = /** @class */ (function () {
        function EcosystemModule() {
        }
EcosystemModule.ɵfac = function EcosystemModule_Factory(t) { return new (t || EcosystemModule)(); };
EcosystemModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: EcosystemModule });
EcosystemModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [
        {
            provide: ngxComponents.HOOK_TABS,
            useClass: EcosystemTabs,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_NAVIGATOR_NODES,
            useClass: EcosystemNavigationFactory,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_ROUTE,
            useValue: ɵ0,
            multi: true
        },
        EcosystemGuard,
        EcosystemService,
        ApplicationPluginsGuard,
        PackageGuard,
        ApplicationPropertiesGuard,
        {
            provide: ngxComponents.HOOK_WIZARD,
            useValue: ɵ1,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_WIZARD,
            useValue: ɵ2,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_WIZARD,
            useValue: ɵ3,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_WIZARD,
            useValue: ɵ4,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_WIZARD,
            useClass: EcosystemWizardFactory,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_WIZARD,
            useValue: ɵ5,
            multi: true
        },
        {
            provide: ngxComponents.HOOK_WIZARD,
            useValue: ɵ6,
            multi: true
        }
    ], imports: [[
            ngxComponents.CoreModule,
            dropdown.BsDropdownModule,
            tooltip.TooltipModule,
            ngxComponents.FormsModule,
            forms.ReactiveFormsModule,
            router.RouterModule.forChild(ecosystemMainRoutes),
            popover.PopoverModule
        ]] });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(EcosystemModule, [{
        type: core.NgModule,
        args: [{
                declarations: [
                    ApplicationListComponent,
                    MicroserviceListComponent,
                    ApplicationCardComponent,
                    ApplicationPropertiesComponent,
                    AddMicroserviceComponent,
                    ActivityLogComponent,
                    ApplicationPluginsComponent,
                    PluginListItemComponent,
                    InstallPluginComponent,
                    PluginListComponent,
                    AddWebApplicationComponent,
                    AddExternalApplicationComponent,
                    DuplicateApplicationComponent,
                    DuplicateApplicationListComponent,
                    DuplicateApplicationPropertiesComponent,
                    ApplicationPropertiesComponent,
                    InstallFromPackageComponent,
                    AddMicroserviceComponent,
                    ApplicationPropertiesComponent,
                    PackagesListComponent,
                    PackageDetailsComponent,
                    DeployApplicationComponent,
                    AddPackageComponent,
                    AddApplicationComponent,
                    ApplicationPropertiesFormComponent,
                    FeatureListComponent,
                    PackageArchivesComponent,
                    UploadArchiveComponent
                ],
                entryComponents: [
                    AddMicroserviceComponent,
                    AddWebApplicationComponent,
                    AddExternalApplicationComponent,
                    DuplicateApplicationComponent,
                    DuplicateApplicationListComponent,
                    DuplicateApplicationPropertiesComponent,
                    ApplicationPropertiesComponent,
                    ActivityLogComponent,
                    ApplicationPluginsComponent,
                    InstallPluginComponent,
                    PackagesListComponent,
                    InstallFromPackageComponent,
                    PackageDetailsComponent,
                    DeployApplicationComponent,
                    AddPackageComponent,
                    FeatureListComponent,
                    PackageArchivesComponent
                ],
                imports: [
                    ngxComponents.CoreModule,
                    dropdown.BsDropdownModule,
                    tooltip.TooltipModule,
                    ngxComponents.FormsModule,
                    forms.ReactiveFormsModule,
                    router.RouterModule.forChild(ecosystemMainRoutes),
                    popover.PopoverModule
                ],
                exports: [ApplicationPropertiesComponent],
                providers: [
                    {
                        provide: ngxComponents.HOOK_TABS,
                        useClass: EcosystemTabs,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_NAVIGATOR_NODES,
                        useClass: EcosystemNavigationFactory,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_ROUTE,
                        useValue: ɵ0,
                        multi: true
                    },
                    EcosystemGuard,
                    EcosystemService,
                    ApplicationPluginsGuard,
                    PackageGuard,
                    ApplicationPropertiesGuard,
                    {
                        provide: ngxComponents.HOOK_WIZARD,
                        useValue: ɵ1,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_WIZARD,
                        useValue: ɵ2,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_WIZARD,
                        useValue: ɵ3,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_WIZARD,
                        useValue: ɵ4,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_WIZARD,
                        useClass: EcosystemWizardFactory,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_WIZARD,
                        useValue: ɵ5,
                        multi: true
                    },
                    {
                        provide: ngxComponents.HOOK_WIZARD,
                        useValue: ɵ6,
                        multi: true
                    }
                ]
            }]
    }], function () { return []; }, null); })();
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(EcosystemModule, { declarations: [ApplicationListComponent, MicroserviceListComponent, ApplicationCardComponent, ApplicationPropertiesComponent, AddMicroserviceComponent, ActivityLogComponent, ApplicationPluginsComponent, PluginListItemComponent, InstallPluginComponent, PluginListComponent, AddWebApplicationComponent, AddExternalApplicationComponent, DuplicateApplicationComponent, DuplicateApplicationListComponent, DuplicateApplicationPropertiesComponent, ApplicationPropertiesComponent, InstallFromPackageComponent, AddMicroserviceComponent, ApplicationPropertiesComponent, PackagesListComponent, PackageDetailsComponent, DeployApplicationComponent, AddPackageComponent, AddApplicationComponent, ApplicationPropertiesFormComponent, FeatureListComponent, PackageArchivesComponent, UploadArchiveComponent], imports: [ɵngcc1.CoreModule, ɵngcc10.BsDropdownModule, ɵngcc9.TooltipModule, ɵngcc1.FormsModule, ɵngcc4.ReactiveFormsModule, ɵngcc8.RouterModule, ɵngcc11.PopoverModule], exports: [ApplicationPropertiesComponent] }); })();
        return EcosystemModule;
    }());

    /**
     * Generated bundle index. Do not edit.
     */

    exports.EcosystemModule = EcosystemModule;
    exports["ɵ0"] = ɵ0;
    exports["ɵ1"] = ɵ1;
    exports["ɵ2"] = ɵ2;
    exports["ɵ3"] = ɵ3;
    exports["ɵ4"] = ɵ4;
    exports["ɵ5"] = ɵ5;
    exports["ɵ6"] = ɵ6;
    exports["ɵa"] = ApplicationListComponent;
    exports["ɵb"] = EcosystemService;
    exports["ɵba"] = EcosystemGuard;
    exports["ɵbb"] = EcosystemTabs;
    exports["ɵbc"] = EcosystemNavigationFactory;
    exports["ɵbd"] = ApplicationPropertiesGuard;
    exports["ɵbe"] = ApplicationPluginsGuard;
    exports["ɵbf"] = PackageGuard;
    exports["ɵbg"] = EcosystemWizardFactory;
    exports["ɵc"] = MicroserviceListComponent;
    exports["ɵd"] = ApplicationCardComponent;
    exports["ɵe"] = ApplicationPropertiesComponent;
    exports["ɵf"] = AddMicroserviceComponent;
    exports["ɵg"] = ActivityLogComponent;
    exports["ɵh"] = ApplicationPluginsComponent;
    exports["ɵi"] = PluginListItemComponent;
    exports["ɵj"] = InstallPluginComponent;
    exports["ɵk"] = PluginListComponent;
    exports["ɵl"] = AddWebApplicationComponent;
    exports["ɵm"] = AddExternalApplicationComponent;
    exports["ɵn"] = DuplicateApplicationComponent;
    exports["ɵo"] = DuplicateApplicationListComponent;
    exports["ɵp"] = DuplicateApplicationPropertiesComponent;
    exports["ɵq"] = ApplicationPropertiesFormComponent;
    exports["ɵr"] = InstallFromPackageComponent;
    exports["ɵs"] = PackagesListComponent;
    exports["ɵt"] = PackageDetailsComponent;
    exports["ɵu"] = DeployApplicationComponent;
    exports["ɵv"] = AddPackageComponent;
    exports["ɵw"] = AddApplicationComponent;
    exports["ɵx"] = FeatureListComponent;
    exports["ɵy"] = PackageArchivesComponent;
    exports["ɵz"] = UploadArchiveComponent;

    Object.defineProperty(exports, '__esModule', { value: true });
exports.ApplicationPropertiesComponent = ApplicationPropertiesComponent;

}));

//# sourceMappingURL=c8y-ngx-components-ecosystem.umd.js.map