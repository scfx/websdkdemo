"use strict";!function(){function e(n,a,r,i,c,o,s,u){var l={true:{title:u.getString("Activate Cell ID information"),body:u.getString("Activating this feature will result in automatically updating the GPS position of the device when it sends new Cell ID data. Using this feature can result in additional costs."),status:"danger",labels:{ok:u.getString("Activate")}},false:{title:u.getString("Deactivate Cell ID information"),body:u.getString("Are you sure you want to deactivate Cell ID information for this device?"),status:"info",labels:{ok:u.getString("Deactivate")}}};return{shouldShowActivator:function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(r.detailValue({category:"cellid",key:"operation.mode"}));case 2:return t=e.sent,e.abrupt("return","manual"===t);case 4:case"end":return e.stop()}},null,null,null,Promise)},isActivatedFor:function(t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=_.isString(t),e.t0)return e.t1=c,e.next=5,regeneratorRuntime.awrap(i.detail(t));e.next=7;break;case 5:e.t2=e.sent,e.t0=e.t1.getResData.call(e.t1,e.t2);case 7:return r=e.t0,e.abrupt("return",!!_.get(r,"c8y_CellIdFeatureActive"));case 9:case"end":return e.stop()}},null,null,null,Promise)},activate:_.curry(e)(!0),deactivate:_.curry(e)(!1)};function e(t,r){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(g(t));case 3:if(e.sent)return e.next=7,regeneratorRuntime.awrap(a.post(c.url("service/cellid/devices/".concat(r)),{active:t}));e.next=10;break;case 7:n.$broadcast("$routeChangeStart"),n.$broadcast("$routeChangeSuccess"),s.success(t?u.getString("Cell ID information activated"):u.getString("Cell ID information deactivated"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0.data.message);case 15:case"end":return e.stop()}},null,null,[[0,12]],Promise)}function g(t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(o(l[t]));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",0);case 9:case"end":return e.stop()}},null,null,[[0,6]],Promise)}}e.$inject=["$rootScope","$http","c8ySettings","c8yDevices","c8yBase","c8yModal","c8yAlert","gettextCatalog"],angular.module("c8y.cellIdInformationActivator").factory("cellIdInformationActivator",e)}();