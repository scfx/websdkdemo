"use strict";!function(){function n(o,n){var t=this,e="binaryId";function a(){n.downloadAndSaveAs({id:t.binaryId},t.details.length).then(function(){t.close({$value:"close"})})}_.assign(t,{$onInit:function(){_.assign(t,{binaryId:_.get(t.resolve,e),downloadBtnEnabled:!1,download:a,cancel:function(){t.dismiss({$value:"cancel"})}}),function(n){return o.detail(n,void 0,{silentError:!0}).then(function(n){return n.data}).then(function(n){return t.downloadBtnEnabled=!0,n}).catch(function(n){t.downloadBtnEnabled=!1,t.errorData=_.get(n,"data")})}(t.binaryId).then(function(n){t.details=n})}})}n.$inject=["c8yInventory","c8yBinary"],angular.module("c8y.binaryFileDownload").component("binaryFileDownload",{controller:n,controllerAs:"vm",templateUrl:":::PLUGIN_PATH:::/binary-file-download.html",bindings:{resolve:"<",close:"&",dismiss:"&"}})}();