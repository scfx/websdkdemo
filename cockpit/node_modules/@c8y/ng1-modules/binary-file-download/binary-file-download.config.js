"use strict";!function(){function n(n,o,e,t,a,i){var r,c,u="download",s=(r=u,e.location.search.substring(1).split("&").forEach(function(n){var o=n.split("=");o[0]===r&&(c=decodeURIComponent(o[1]))}),c),l=_.get(o.search(),u),d=n.defer(),f=d.promise,h={},$=!1;a.$on("authStateChange",function(n,o){o.hasAuth&&d.resolve(o.hasAuth)}),a.$on("$routeChangeSuccess",function(n,o){if(o){var e=(l=_.get(o.params,u))||s;!e||h[e]||$&&!l||(h[e]=f.then(function(){return function(n){i({component:"binaryFileDownload",size:"sm",resolve:{binaryId:function(){return n}}})}(e)})),s&&($=!0)}})}n.$inject=["$q","$location","$window","$interval","$rootScope","c8yModal"],angular.module("c8y.binaryFileDownload",[]).run(n)}();