"use strict";!function(){function e(e,i,t,n){var c={lat:51.2433101,lng:6.7303924};function o(e){var i=e.data;return _.has(i,"c8y_Position")||_.has(i,"com_nsn_startups_vendme_fragments_GPSCoordinates")}e.when("/device/:deviceId",{name:n("Location"),templateUrl:":::PLUGIN_PATH:::/views/index.html",icon:"location-arrow",showIf:["$routeParams","c8yDevices",function(e,i){var t=e.deviceId;return i.detailCached(t).then(function(e){return o(e)})}]}),i.addUrlAction({path:"/device/:deviceId/*",text:n("Add location"),actionBar:!0,priority:1e3,showIf:["$routeParams","c8yDevices",function(e,i){var t=e.deviceId;return i.detailCached(t).then(function(e){return!o(e)})}],showIfPermissions:{adminMOs:[":deviceId"]},action:["$routeParams","$location","c8yDevices",function(e,i,t){var n=e.deviceId,o="/device/".concat(n,"/location");t.save({id:n,c8y_Position:_.cloneDeep(c)}).then(function(){i.path(o)})}]}),t.add({name:n("Location"),description:n("Displays a map with device position marker"),templateUrl:":::PLUGIN_PATH:::/views/component.html",previewImage:":::PLUGIN_PATH:::/img/location-widget-pr.png",options:{noNewWidgets:!0}})}e.$inject=["c8yViewsProvider","c8yActionsProvider","c8yComponentsProvider","gettext"],angular.module("c8y.parts.location",[]).config(e)}();