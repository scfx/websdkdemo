"use strict";angular.module("c8y.parts.applications").controller("applicationAccessEditorCtrl",["$scope","c8yUser","c8yApplication",function(i,n,t){function c(){n.current().then(function(n){return t.listByUser(n).then(e)}).then(o)}function e(n){return _.uniqBy(n,function(n){return n.id})}function o(n){i.applications=n}function l(t){return!!_.find(i.allowedApplications,function(n){return parseInt(n.id,10)===parseInt(t.id,10)})}function p(n){i.allowedApplications=i.allowedApplications||[],i.allowedApplications.push({id:n.id,type:n.type})}i.isAccessAllowed=l,i.toggleAccess=function(n){var t;l(n)?(t=n,i.allowedApplications=_.filter(i.allowedApplications,function(n){return parseInt(n.id,10)!==parseInt(t.id,10)})):p(n)},c()}]);