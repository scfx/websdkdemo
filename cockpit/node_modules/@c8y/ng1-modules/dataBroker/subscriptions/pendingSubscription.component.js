"use strict";!function(){function t(t,n,e,c,i){var o=this;function s(t){n.acceptSubscription(t.id).then(o.onReload).then(function(){e.success(c("Subscription accepted."))})}function r(t){n.discardSubscription(t.id).then(o.onReload).then(function(){e.success(c("Subscription discarded."))})}function u(t){return _.get(t,"status.value")===o.NEW_DEVICE_REQUEST_STATUS.WAITING_FOR_CONNECTION.value}function a(t){return _.get(t,"status.value")===o.NEW_DEVICE_REQUEST_STATUS.PENDING_ACCEPTANCE.value}function E(t){return _.get(t,"status.value")===o.NEW_DEVICE_REQUEST_STATUS.ACCEPTED.value}function d(t){return i.getString("{{status | translate}} using code {{code}}",{status:t.status.label,code:S(t)})}function S(t){return t.connectorName||t.id}_.assign(o,{$onInit:function(){_.assign(o,{acceptSubscription:t.onAccept?o.onAccept:s,discardSubscription:t.onDiscard?o.onDiscard:r,NEW_DEVICE_REQUEST_STATUS:n.NEW_DEVICE_REQUEST_STATUS,isWaitingForConnection:u,isPendingAcceptance:a,isAccepted:E,getStatusText:d,getCode:S})}})}t.$inject=["$attrs","dataBrokerSubscriptionsSvc","c8yAlert","gettext","gettextCatalog"],angular.module("c8y.dataBroker").component("c8yDataBrokerPendingSubscription",{controller:t,controllerAs:"vm",templateUrl:":::PLUGIN_PATH:::/subscriptions/pendingSubscription.html",bindings:{pendingSubscription:"<",onReload:"&",onAccept:"&?",onDiscard:"&?"}})}();