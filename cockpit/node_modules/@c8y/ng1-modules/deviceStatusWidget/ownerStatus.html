<div class="tight-grid ">
  <div class="flex-row" style="min-height: 40px;">
    <label class="col-xs-5 small m-0" translate>Owner </label>
    <div class="col-xs-7 small">
      <div class="flex-row">
        <div class="col-xs-5" ng-if="vm.shouldShowToggle()">
          <label
            class="c8y-switch"
            uib-tooltip="{{ vm.getTooltip() | translate }}"
            tooltip-append-to-body="true"
          >
            <input
              type="checkbox"
              ng-click="vm.toggleOwner()"
              ng-model="vm.owner.enabled"
              ng-disabled="!(vm.canAdminDevice && vm.owner)"
            />
            <span></span>
          </label>
        </div>
        <span
          class="text-truncate"
          ng-class="{ 'col-xs-6': vm.shouldShowToggle(), 'col-xs-11': !vm.shouldShowToggle() }"
          title="{{ vm.device.owner }}"
          ng-show="!vm.isEditMode"
        >
          {{ vm.device.owner }}
        </span>
        <button
          class="btn-clean text-primary pull-right"
          ng-show="!vm.isEditMode && vm.canAdminDevice"
          ng-click="vm.toggleEdit()"
          title="{{ 'Edit' | translate }}"
        >
          <i c8y-icon="pencil"></i>
        </button>
        <div class="col-xs-12 ng-hide" ng-show="vm.isEditMode">
          <div class="input-group input-group-editable">
            <input
              class="form-control"
              ng-model="vm.device.owner"
              placeholder="{{ 'e.g.' | translate }} device_{{ 'exampleUser' | translate }}"
              ng-keyup="vm.keyPressHandler($event)"
            />
            <div class="input-group-btn" ng-show="vm.isEditMode">
              <button 
                title="{{ 'Save' | translate }}" 
                class="btn btn-clean" 
                ng-click="vm.save()"
              >
                <span><i c8y-icon="check" class="text-success"></i></span>
              </button>
            </div>
            <div class="input-group-btn" ng-show="vm.isEditMode">
              <button
                title="{{ 'Cancel' | translate }}"
                class="btn btn-clean"
                ng-click="vm.cancel()"
              >
                <i c8y-icon="times" class="text-danger"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
