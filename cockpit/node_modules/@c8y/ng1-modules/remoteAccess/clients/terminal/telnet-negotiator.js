"use strict";function TelnetNegotiator(){var o="";function c(t,e){for(var s=0;s<t.length;s++)e.push(t.charCodeAt(s))}this.setTermType=function(t){o=t},this.negotiate=function(t){for(var e=new Uint8Array(t),s=Array.prototype.slice.call(e),i=[],n="",r="",a="",h="";0<s.length;)switch(r=s.shift()){case 255:switch(a=s.shift(),h=s.shift(),a){case 253:24===h?i.push(255,251,h):31===h?(i.push(255,251,31),i.push(255,250,31,0,terminalSize.cols,0,terminalSize.rows,255,240)):i.push(255,252,h);break;case 251:1===h?i.push(255,253,h):i.push(255,254,h);break;case 250:24===h?1===s[0]&&255===s[1]&&240===s[2]?(s.shift(),s.shift(),s.shift(),i.push(255,250,24,0),c(o,i),i.push(255,240)):console.warn("Invalid subnegotiation received"+s):console.warn("Ignoring SB "+h)}break;case 242:a=s.shift(),h=s.shift();break;default:n+=String.fromCharCode(r)}return{dataToSend:i.length?new Uint8Array(i):"",isOutput:!!n.length}}}