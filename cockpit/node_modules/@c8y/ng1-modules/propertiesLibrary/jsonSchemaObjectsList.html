<div class="card content-fullpage split-view--5-7">
  <div class="card-header separator grid__col--fullspan">
    <h4>{{ vm.getName() }}</h4>
  </div>
  <div  class="inner-scroll split-view__list" >
    <div class="bg-gray-white flex-grow">
    <ul class="nav c8y-nav-stacked">
      <li
        ng-if="vm.jsonSchemaObjects.length"
        class="c8y-stacked-item"
        ng-repeat="jsonSchemaObject in vm.jsonSchemaObjects | orderBy:'name' track by jsonSchemaObject.id"
        ng-click="vm.select(jsonSchemaObject)"
        ng-class="{active: vm.selected === jsonSchemaObject}"
      >
        <i c8y-icon="{{ vm.getIcon() }}" class="icon-20 m-r-4"></i>
        <span class="text-truncate" title="{{jsonSchemaObject.name}}">
          <span ng-bind="jsonSchemaObject.name"></span>
        </span>
      </li>
      <li ng-show="vm.jsonSchemaObjects.length === 0" class="card-block">
        <div class="c8y-empty-state text-left p-0">
          <h1 class="c8y-icon c8y-icon-duocolor" c8y-icon="{{ vm.getIcon() }}"></h1>
          <div>
            <p><strong>{{ 'No properties found.' | translate }}</strong></p>
            <p>{{ 'Add a new property by clicking below.' | translate }}</p>
          </div>
        </div>
      </li>
    </ul>
  </div>
    <div class="card-footer sticky-bottom separator">
      <button
        title="{{ 'Add property' | translate }}"
        class="btn btn-default"
        ng-click="vm.newJsonSchemaObject()"
      >
        <i c8y-icon="plus-circle"></i> <translate>Add property</translate>
      </button>
    </div>
  </div>

  <div
   class="inner-scroll split-view__detail"
    ng-class="{ 'split-view__detail--selected': vm.selected && vm.jsonSchemaObjects }"
  >
    <div class="card-header separator visible-sm visible-xs fit-w sticky-top">
      <button title="{{ 'Back' | translate }}" class="btn btn-clean text-primary" ng-click="vm.deselect()">
        <i c8y-icon="chevron-left"></i><span translate>Back</span>
      </button>
    </div>
    <div class="card-block" ng-if="!vm.selected">
      <div class="c8y-empty-state">
        <h1 class="c8y-icon c8y-icon-duocolor" c8y-icon="{{vm.getIcon()}}"></h1>
        <div>
          <h3>{{ 'No property to display.' | translate }}</h3>
          <p>{{ 'Add or select a property.' | translate}}</p>
        </div>
      </div>
    </div>
    <c8y-json-schema-object-editor
      json-schema-object="vm.selected"
      on-save="vm.save(jsonSchemaObject)"
      on-cancel="vm.deselect()"
      on-remove="vm.remove(jsonSchemaObject)"
      class="d-flex d-col fit-h bg-white p-t-16"
    >
    </c8y-json-schema-object-editor>
  </div>
</div>
