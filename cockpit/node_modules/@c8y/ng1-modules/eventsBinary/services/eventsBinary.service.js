"use strict";!function(){function n(n,o,e,a,i,s){var u="event/events";return{downloadAsDataUri:function(n){var e=n.id,t=_.get(n,"c8y_IsBinary.length"),r=a.url([u,e,"binaries"].join("/"));return s.download(e,r,t).then(function(n){var e=n.getResponseHeader("Content-Type"),t=s.arrayBufferToBase64(n.response),r="data:".concat(e,";base64,").concat(t);return r})},downloadAndSaveAs:function(n){var e=n.id,t=_.get(n,"c8y_IsBinary.length"),r=a.url([u,e,"binaries"].join("/"));return s.download(e,r,t).then(function(n){var e=n.getResponseHeader("Content-Type"),t=n.getResponseHeader("Content-Disposition"),r=new Blob([n.response],{type:e});saveAs(r,s.getFilenameFromContentDisposition(t))})},doesContainBinary:function(n){return!(!n||!n.c8y_IsBinary)},downloadAsText:function(n){var e=n.id,t=a.url([u,e,"binaries"].join("/")),r={headers:i.headers(),responseType:"text",transformResponse:function(n){return n}};return o.get(t,r)},upload:function(n,e){var t=e.id,r=a.url([u,t,"binaries"].join("/"));return s.upload(n,{url:r})},canDownload:function(n){return!_.isUndefined(_.get(n,"c8y_IsBinary.length"))}}}n.$inject=["$q","$http","$upload","c8yBase","c8yAuth","c8yBinaryCommon"],angular.module("c8y.eventsBinary").factory("eventsBinaryService",n)}();