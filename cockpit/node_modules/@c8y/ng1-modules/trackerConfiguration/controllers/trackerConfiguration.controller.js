"use strict";!function(){function e(e,i,t,n,a,o,r,c,s,l,d,u,f,v,p,g){var m=this;function S(e){var t;m.device=null,m.modelInfo=null,t=e.id||e;var n=a.detailRealtime(t),o=n.then(c.modelByDevice);i.all([n,o]).then(function(e){m.device=e[0],m.modelInfo=e[1],m.device&&m.modelInfo&&(m.restart=new s(m.device,m.modelInfo,m),m.sos=new l(m.device,m.modelInfo,m),m.alarms=new d(m.device,m.modelInfo,m),m.situation=new u(m.device,m.modelInfo,m),m.location=new f(m.device,m.modelInfo,m))})}function h(e,t,n){r.success(g.getString(e,{operation:t,operationResult:n}))}_.assign(m,v),m.scope=t,m.newModel={name:null,save:function(){return a.save({id:m.device.id,c8y_Hardware:_.assign(m.device.c8y_Hardware||{},{model:m.newModel.name})}).then(n.getResData).then(S)}},m.execute=function(t,n){return o.createWithNotifications(t).then(function(e){return e.created.then(function(){h(p('"{{operation.description | translate}}" will be executed.'),t),n.pending=!0}),e.completed.then(function(e){e.status===o.status.SUCCESSFUL?h(p('"{{operation.description | translate}}" completed.'),t,e):e.status===o.status.FAILED&&function(e,t,n,o){o.failureReason?r.danger(g.getString(e,{operation:n,operationResult:o})):r.danger(g.getString(t,{operation:n,operationResult:o}))}(p('"{{operation.description | translate}}" failed due to: "{{operationResult.failureReason | translate}}".'),p('"{{operation.description | translate}}" failed.'),t,e),n.pending=!1}),e})},c.list().then(function(e){m.supportedModels=e}),S(e.deviceId)}e.$inject=["$routeParams","$q","$scope","c8yBase","c8yDevices","c8yDeviceControl","c8yAlert","trackerModelsSvc","trackerRestartSvc","trackerSosSvc","trackerAlarmsSvc","trackerSituationSvc","trackerLocationSvc","UnitConversionHelperSvc","gettext","gettextCatalog"],angular.module("c8y.trackerConfiguration").controller("trackerConfigurationCtrl",e)}();