"use strict";!function(){function t(t,n,a,r){n.addUrlAction({path:"/microservices/:applicationId/status",text:r("Add smart rule"),actionBar:!0,position:"right",icon:"plus",priority:100,showIf:["$routeParams","c8yApplication","c8yTenant","$q","c8yPermissions",function(t,n,a,e,i){var r=t.applicationId,c=n.getApplicationMO(r);return e.all({currentTenant:a.current(),mo:c,canAdminMO:c.then(function(t){return i.canAdminMOs([t.id])})}).then(function(t){var n=t.currentTenant,a=t.mo,e=t.canAdminMO,i=a.applicationOwner===n.name;return e&&i})}],action:["$routeParams","smartRulesSvc","c8yApplication","$rootScope",function(t,n,a,e){var i=function(t){return _.includes(["onAlarmSendSms","onAlarmSendEmail"],t.name)};return a.getApplicationMO(t.applicationId).then(function(t){return n.addNewWithUI({},i,function(t){return{c8y_Context:{context:"managedObject",id:t.id}}}(t))}).then(function(){return e.$broadcast("smartRulesListReload")})}]}),a.addBreadcrumbs("/applications/:applicationId/status",{data:["$routeParams","c8yApplication","c8yBase","$filter",function(t,n,a,e){var i=e("humanizeAppName");return n.detail(t.applicationId).then(a.getResData).then(function(t){return[[{label:r("Ecosystem"),icon:"c8y-atom"},{path:"#microservices",label:r("Microservices")},{label:i(t.name)},{label:r("Status")}]]})}]})}t.$inject=["c8yViewsProvider","c8yActionsProvider","c8yBreadcrumbsProvider","gettext"],angular.module("c8y.appStatus",[]).config(t)}();