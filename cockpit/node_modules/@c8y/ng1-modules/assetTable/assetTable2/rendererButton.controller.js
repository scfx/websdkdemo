"use strict";!function(){function e(a,n,i,c,o){function e(){var e=a.config,t=a.obj;t&&e&&(_.isFunction(e.hideIf)&&(a.hidden=e.hideIf(t)),_.isFunction(e.disableIf)&&(a.disabled=e.disableIf(t)))}function r(e){if(function(e){return!!(e&&e.created&&e.created.then&&e.completed&&e.completed.then)}(e)){var t=e;t.operationConfig.then(function(e){t.created.then(function(){n.success(c.getString('Operation "{{ description | translate }}" will be executed.',e))},u),t.completed.then(function(e){u(),e.status===o.status.SUCCESSFUL?n.success(c.getString('Operation "{{ description | translate }}" succeeded.',e)):e.status===o.status.FAILED&&(e.failureReason?n.danger(c.getString('Operation "{{ description | translate }}" failed: "{{ failureReason | translate }}".',e)):n.danger(c.getString('Operation "{{ description | translate }}" failed.',e)))},u)})}else u(),n.success(i("Operation completed."))}function s(){u(),n.danger(i("Operation failed."))}function u(){a.pending=!1}a.isApplicable=function(){var e=a.value;return _.isFunction(e)},a.click=function(){var e,t=a.value,n=a.obj,i=a.config.args;_.isFunction(t)&&(i?n&&(e=t.apply(n,i)):e=t()),e&&(a.pending=!0,e.then(r,s))},a.$watch("value",e),a.$watch("obj",e),a.$watch("config",e),a.getBtnText=function(e){return e||i("Run")}}e.$inject=["$scope","c8yAlert","gettext","gettextCatalog","c8yDeviceControl"],angular.module("c8y.assets").controller("RendererButtonCtrl",e)}();