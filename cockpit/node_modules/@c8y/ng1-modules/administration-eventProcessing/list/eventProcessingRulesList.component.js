"use strict";!function(){function e(n,t,o,s,i,e,l,u){var r=this,c={DEPLOYED:{text:l("Deployed"),icon:"check-circle",cls:"text-success"},NOT_DEPLOYED:{text:l("Not deployed"),icon:"ban",cls:"text-warning"}};function a(e){return n.modules||(n.modules=[]),e.forEach(function(e){n.modules.push(e)}),n.paging=e.paging,n.modules.length}function g(e){return o.listWithSmartRules(e)}function d(){var e=_.get(n,"modules.length"),t={title:l("Event processing rules"),subtitle:_.isUndefined(e)?"":u.getPlural(e,"1 rule","{{$count}} rules",{})};i.changeTitle(t)}n.detail=function(e){t.path("/eventprocessing/".concat(e.id))},n.add=function(){t.path("/eventprocessing/new")},n.onClickDelete=function(e){s({title:l("Delete rule"),body:u.getString('You are about to delete the rule "{{name}}". Do you want to proceed?',e),labels:{ok:l("Delete")},status:"danger"}).then(angular.bind(o,o.remove,e)).then(_.partial(_.pull,n.modules,e)).then(d)},n.status=function(e){return c[e.status].text},n.statusIcon=function(e){return c[e.status].icon},n.statusClass=function(e){return c[e.status].cls},n.refresh=function(){n.refreshLoading=!0,g().then(function(e){return n.modules=null,n.refreshLoading=!1,e}).then(a).then(d)},n.loadNext=function(){n.paging.loading=!0,n.paging.next().then(a).then(d).finally(function(){n.paging.loading=!1})},n.isSmartRuleModule=o.isSmartRuleModule,e.redirectToRootIfPluginDisabled().then(g).then(a).then(d),e.getPermissions().then(function(e){return _.assign(r,{permissions:e})})}e.$inject=["$scope","$location","c8yCepModule","c8yModal","c8yTitle","eventProcessingSvc","gettext","gettextCatalog"],angular.module("c8y.eventProcessing").component("c8yEventProcessingRulesList",{templateUrl:":::PLUGIN_PATH:::/list/eventProcessingRulesList.html",controller:e,controllerAs:"vm"})}();