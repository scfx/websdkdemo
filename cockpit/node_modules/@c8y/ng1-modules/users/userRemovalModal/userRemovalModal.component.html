<div class="viewport-modal">
  <div class="c8y-prompt alert alert-danger">
    <h3 class="m-b-16">
      <i c8y-icon="exclamation-circle"></i>
      {{ 'Delete user' | translate }}
    </h3>

    <p ng-if="!vm.hasSubusers" class="text-break-word p-b-16">
      <span translate>You are about to delete user "{{ vm.user.userName }}".</span>
      {{ 'Do you want to proceed?' | translate }}
    </p>

    <p ng-if="vm.hasSubusers" class="text-break-word p-b-16" translate>
      You are about to delete user "{{ vm.user.userName }}".
    </p>

    <div ng-if="vm.hasSubusers" class="p-t-16 p-b-0 separator-top">
      <p class="text-bold">
        {{ 'How would you like to proceed with sub-users when the owner is deleted?' | translate }}
      </p>

      <div class="m-b-24">
        <label class="c8y-radio">
          <input type="radio" ng-model="vm.subusersAction" value="newOwner" />
          <span></span>
          <span>{{ 'Assign a new owner' | translate }}</span>
          <button
            class="btn-clean text-14 m-l-4"
            uib-popover="{{
              'Assigns a new owner to all direct sub-users of the deleted user.' | translate
            }}"
            popover-trigger="'focus'"
            popover-placement="right"
            popover-append-to-body="true"
          >
            <i c8y-icon="question-circle-o" class="text-info"></i>
          </button>
        </label>
        <label class="c8y-radio">
          <input type="radio" ng-model="vm.subusersAction" value="removeOwner" />
          <span></span>
          <span>{{ 'Keep without an owner' | translate }}</span>
          <button
            class="btn-clean text-14 m-l-4"
            uib-popover="{{
              'Direct sub-users of the deleted user become independent users.' | translate
            }}"
            popover-trigger="'focus'"
            popover-placement="right"
            popover-append-to-body="true"
          >
            <i c8y-icon="question-circle-o" class="text-info"></i>
          </button>
        </label>
        <label class="c8y-radio">
          <input type="radio" ng-model="vm.subusersAction" value="deleteAll" />
          <span></span>
          <span>{{ 'Delete along with the owner' | translate }}</span>
          <button
            class="btn-clean text-14 m-l-4"
            uib-popover="{{
              'All direct and indirect sub-users of the deleted user will be deleted.' | translate
            }}"
            popover-trigger="'focus'"
            popover-placement="right"
            popover-append-to-body="true"
          >
            <i c8y-icon="question-circle-o" class="text-info"></i>
          </button>
        </label>
      </div>
    </div>
    <c8y-ui-user-picker
      ng-show="vm.subusersAction === 'newOwner'"
      hidden-users="vm.resolve.user"
      ng-model="vm.newOwner"
      class="row d-block separator-bottom"
    >
    </c8y-ui-user-picker>
    <div class="alert-footer">
      <button 
        title="{{ 'Cancel' | translate }}"
        class="btn btn-default"
        ng-click="vm.dismiss()"
      >
        {{ 'Cancel' | translate }}
      </button>
      <button
        title="{{ 'Delete' | translate }}"
        class="btn btn-primary"
        ng-disabled="!vm.canConfirm()"
        ng-click="vm.confirm()"
      >
        {{ 'Delete' | translate }}
      </button>
    </div>
  </div>
</div>
