<div class="row" ng-controller="storageLimitCtrl">
  <div class="col-xs-12 col-sm-8 col-md-6 col-lg-4">
    <p class="text-light" translate>
      Send a warning email to a global role when the storage quota is nearly reached.
    </p>
    <form name="storageLimitForm" ng-submit="updateStorageLimitEmailInfo()">
      <div class="checkbox">
        <label
          ><input type="checkbox" ng-model="data.emailWarningEnabled" name="emailWarningEnabled" />
          <span translate>Activate notification</span></label
        >
      </div>
      <div class="form-group" ng-if="data.emailWarningEnabled">
        <label for="selectedUserGroup" translate>Notified global role</label>
        <select
          name="type"
          class="form-control"
          ng-model="data.selectedUserGroup"
          name="selectedUserGroup"
          ng-options="group for group in userGroups"
          required
        >
        </select>
      </div>
      <div
        class="form-group"
        ng-class="{'has-error': invalid('threshold')}"
        ng-if="data.emailWarningEnabled"
      >
        <label for="threshold" translate>Threshold (%)</label>
        <input
          uib-tooltip="{{ validationHints(storageLimitForm.threshold, errorList) }}"
          min="1"
          max="100"
          type="number"
          class="form-control input-border"
          ng-model="data.threshold"
          name="threshold"
          placeholder="{{ 'e.g.' | translate }} 30"
          required
        />
      </div>
      <div class="form-group">
        <button
          title="{{ 'Update settings' | translate }}"
          type="submit"
          class="btn btn-primary"
          ng-disabled="storageLimitForm.$invalid"
          translate
        >
          Update settings
        </button>
      </div>
    </form>
  </div>
</div>
