"use strict";!function(){function e(e,i,t,n){var c=e.selectedDevices;function r(e){return e.childAssets.references.length+e.childDevices.references.length}function l(n){return n&&!!_.find(c,function(e){return parseInt(e.id,10)===parseInt(n.id,10)})}e.collapseExpandChildren=function(e){0<r(e)&&(e.children?e.children=null:function(n){n.__loading=!0,i.all([t.childAssets(n),t.childDevices(n)]).then(function(e){delete n.__loading,n.children=[],n.children.push(e[0]),n.children.push(e[1]),n.children=_.flattenDeep(n.children)})}(e))},e.getChildrenCount=r,e.isSelected=l,e.onDeviceSelect=function(e){l(e)?function(n){_.remove(c,function(e){return parseInt(e.id,10)===parseInt(n.id,10)})}(e):function(n){_.find(c,function(e){return parseInt(e.id,10)===parseInt(n.id,10)})||c.push(n)}(e)},e.isDisabled=function(n){return _.find(e.disabledDevices,function(e){return parseInt(e.id,10)===parseInt(n.id,10)})},e.getDeviceTitle=function(e){return e.name||n.getString("Device {{id}}",e)}}e.$inject=["$scope","$q","c8yDevices","gettextCatalog"],angular.module("c8y.deviceSelector").controller("deviceSelectorListCtrl",e)}();