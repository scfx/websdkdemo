"use strict";!function(){function t(n,a,t,e){var s=e.TENANT_STATS_SERVICE_ENDPOINT,i=e.SUBTENANTS_STATS_SERVICE_ENDPOINT,r=e.SUBTENANT_STATS_COLUMNS;return{getSubtenantListColumns:function(){return[t.getColumn(r.tenantId),t.getColumn(r.apiRequests),t.getColumn(r.activeDevices)]},getTenantStatisticsFor:function(e){var r;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=a,t.next=4,regeneratorRuntime.awrap(n.get(a.url(s),{params:a.timeOrderFilter(a.pageSizeNoTotalFilter(e)),silentError:!0}));case 4:return t.t1=t.sent,r=t.t0.getResData.call(t.t0,t.t1),t.abrupt("return",u(r));case 9:return t.prev=9,t.t2=t.catch(0),t.abrupt("return",u({}));case 12:case"end":return t.stop()}},null,null,[[0,9]],Promise)},getSubtenantsStatisticsFor:function(e){var r;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=a,t.next=4,regeneratorRuntime.awrap(n.get(a.url(i),{params:a.timeOrderFilter(a.pageSizeNoTotalFilter(e)),silentError:!0}));case 4:return t.t1=t.sent,r=t.t0.getResData.call(t.t0,t.t1),t.abrupt("return",_.map(r,u));case 9:return t.prev=9,t.t2=t.catch(0),t.abrupt("return",[]);case 12:case"end":return t.stop()}},null,null,[[0,9]],Promise)},isCellIDMicroserviceAvailable:function(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,regeneratorRuntime.awrap(n.get(a.url(s),{params:{dateFrom:moment().format(a.dateFormat)},silentError:!0}));case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}},null,null,[[0,6]],Promise)}};function u(t){return{tenantId:_.get(t,"tenant"),apiRequests:_.get(t,"statistics.apiRequests",0),activeDevices:_.get(t,"statistics.activeDevices",0)}}}t.$inject=["$http","c8yBase","c8yFilteringSortingCollections","cellIdUsageStatisticsConstants"],angular.module("c8y.cellIdUsageStatistics").factory("cellIdUsageStatisticsService",t)}();