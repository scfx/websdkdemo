"use strict";!function(){function e(e){var n=this;function o(){n.isDetailOpen=!n.isDetailOpen,n.isDetailOpen&&(c(),t())}function c(){n.resource=_.cloneDeep(n.serverResource)}function t(){n.mapping=_.cloneDeep(n.serverMapping)||{}}_.assign(n,{dataTypes:e.DATA_TYPES,$onChanges:function(e){e.serverMapping&&t();e.serverResource&&c()},$onInit:function(){n.isDetailOpen=n.startOpen,e.getCustomActions().then(function(e){n.customActions=e})},toggleDetail:o,save:function(){n.mapping.resourceID=n.resource.id,n.onUpdate({changedResource:n.resource,mapping:n.mapping}).then(o)},cancel:function(){n.onCancel(),o()},remove:function(){n.onRemove({resource:n.resource})}})}e.$inject=["c8yImpact"],angular.module("c8y.impact").component("c8yImpactResource",{bindings:{serverResource:"<resource",serverMapping:"<mapping",onUpdate:"&",onCancel:"&",onRemove:"&",startOpen:"<"},templateUrl:":::PLUGIN_PATH:::/impact-resource.html",controller:e,controllerAs:"vm"})}();