"use strict";!function(){function n(r,e,u,i,c){var a=function(t){return function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return e.zipFiles(n).then(function(n){return c([n],"static-assets.zip")})}(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).then(function(n){return i.uploadArchive(t,n).then(function(n){var t=n.data;return t})}).then(function(n){return i.setActiveArchive(t,n)})};return{get:o,update:function(n,t){return o(n).then(function(n){return a(n,t)})},remove:function(e){return i.listByOwner().then(function(n){var t=_.find(n,_.pick(e,["contextPath"]));return t&&i.remove(t)})}};function o(n){return i.listByOwner().then(function(e){return function(n){var t=_.find(n,_.pick(e,["contextPath"]));return t||function(n){return r.all({currentTenant:u.current(),newApp:i.create(n).then(function(n){var t=n.data;return t})}).then(function(n){var t=n.newApp,e=n.currentTenant;return u.addApplication({id:e.name},t).then(function(){return t})})}(e)}}(n))}}n.$inject=["$q","c8yZip","c8yTenant","c8yApplication","createFile"],angular.module("c8y.ui-assets").factory("c8yStaticAssets",n)}();