<div class="c8y-list__group m-b-0 no-border-last">
  <div
    ng-repeat="asset in vm.flatAssetTree | filter:vm.filterAsset | filter:{name:vm.searchFilter}"
    class="c8y-list__item"
  >
    <div
      class="c8y-list__item__block"
      ng-click="vm.loadChildren(asset)"
      ng-style="::{'padding-left': asset._depth * 8}"
      title="{{ vm.title(asset) }}"
    >
      <div class="c8y-list__item__icon m-t-4 p-l-0">
        <i c8y-icon="c8y-group" class="c8y-icon-duocolor" ng-if="!asset.isOpened"></i>
        <i c8y-icon="c8y-group-open" class="c8y-icon-duocolor" ng-if="asset.isOpened"></i>
        <!-- <i c8y-icon="question-circle" class="text-info p-absolute" style="bottom:-0.3em;left:-0.5em;z-index: 1;" ng-hide="asset._subGroups"></i> -->
      </div>
      <div class="c8y-list__item__body">
        <div class="flex-row">
          <div class="col-sm-7 p-l-0 col-xs-12">
            <span
              class="text-truncate"
              title="{{::asset.name}}"
              ng-style="{cursor: asset._subGroups === undefined ? 'pointer' : 'default'}"
            >
              {{::asset.name}}
            </span>
          </div>
          <div class="p-t-8 col-xs-12 visible-xs"></div>
          <div class="col-sm-5 p-l-0 col-xs-12 p-r-0">
            <div class="d-flex">
              <div class="flex-grow form-group-sm max-width-100">
                <c8y-inventory-role-selector
                  owner-allowed-roles="vm.ownerAllAssignedRoles[asset.id]"
                  inherited-roles="vm.inheritedRoles[asset.id]"
                  assigned-roles="vm.assignedRoles[asset.id]"
                  inventory-roles="::vm.inventoryRoles"
                  on-apply="::vm.onApply(roles, asset.id)"
                  ng-click="$event.stopPropagation()"
                >
                </c8y-inventory-role-selector>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
