"use strict";angular.module("c8y.parts.kpi").controller("pieChartCtrl",["$scope","baseWidgetSvc",function(e,t){var i=t.createWidget(e);i.refresh=function(){var t=this.mostRecentKpi.dataPoints,i=this.mostRecentKpi.measurements;e.dps=_.filter(t,function(t){return i[t.id]}),e.measurements=_.map(e.dps,function(t){return i[t.id]})},i.onNotification=i.refresh,e.$watch("child.config.pieChartOptions",function(){e.options=e.child.config.pieChartOptions||{}}),e.options=e.child.config.pieChartOptions||{},i.init()}]);