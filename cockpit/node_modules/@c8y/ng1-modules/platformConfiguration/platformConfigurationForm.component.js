"use strict";!function(){function n(t,n,o,i,r){var e,a=this;function u(){return n.all({schema:o.getSchema(),form:o.getForm(a.optionsGroups),options:o.getSchemaFormOptions(),configuration:o.getConfiguration()}).then(function(n){e=_.cloneDeep(n.configuration),_.assign(a,n)})}_.assign(a,{$onInit:function(){return u()},canSave:function(){var n=_.get(a,"options.formDefaults.readonly"),o=_.get(t,"platformConfigurationForm.$invalid");return!n&&!o},save:function(){return o.saveConfiguration(a.configuration,e).then(u).then(_.partial(i.success,r("Configuration saved.")))},cancel:function(){return u().then(_.partial(i.success,r("Configuration reloaded.")))}})}n.$inject=["$scope","$q","c8yPlatformConfigurationUi","c8yAlert","gettext"],angular.module("c8y.platformConfiguration").component("c8yPlatformConfigurationForm",{templateUrl:":::PLUGIN_PATH:::/platformConfigurationForm.html",bindings:{optionsGroups:"<"},controller:n,controllerAs:"vm"})}();