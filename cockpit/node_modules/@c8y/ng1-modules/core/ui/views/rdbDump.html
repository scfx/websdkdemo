<div class="card" ng-show="supportsOperation()">
  <div class="card-header-actions no-scroll">
    <div class="card-icon"><i c8y-icon="gears"></i></div>
    <div class="card-title">
      <span>{{ 'RDB snapshot' | translate }}</span>
    </div>
    <div class="header-actions">
      <button
        title="{{ 'Get the new RDB snapshot from device' | translate }}"
        type="button"
        class="btn btn-link"
        ng-disabled="retrievingRDB"
        ng-click="retrieveRDB()"
      >
        <i
          class="dlt-c8y-icon"
          ng-class="{'icon-spin dlt-c8y-icon-circle-o-notch': retrievingRDB, 'dlt-c8y-icon-download': !retrievingRDB }"
        ></i>
        {{ 'Get the new RDB snapshot from device' | translate }}
      </button>
    </div>
  </div>
  <div class="card-block">
    <div class="legend form-block">{{ 'Current RDB snapshot' | translate }}</div>
    <div class="alert alert-warning" ng-hide="cfg.url">
      {{
        'No RDB snapshot assigned to this device. Get current RDB snapshot from device.' | translate
      }}
    </div>
    <div ng-show="cfg.url">
      <div class="form-group">
        <label>{{ 'Name' | translate }}</label>
        <p>{{ cfg.name }}</p>
      </div>
      <div class="form-group">
        <label>{{ 'Description' | translate }}</label>
        <p>{{ cfg.description }}</p>
      </div>
      <div>
        <label>{{ 'RDB snapshot file' | translate }}</label>
        <c8y-binary-input initial-url="cfg.url" editable="false"></c8y-binary-input>
      </div>
    </div>
  </div>
</div>
