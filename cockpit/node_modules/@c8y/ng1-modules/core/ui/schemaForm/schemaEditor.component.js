"use strict";angular.module("c8y.ui").component("c8ySchemaEditor",{bindings:{_schema:"<schema",onChange:"&"},templateUrl:":::PLUGIN_PATH:::/ui/schemaForm/schemaEditor.html",controller:function(){var r=this,s={type:"object",properties:{}},t=!1;function n(){r.properties=_.map(r.schema.properties,function(e,s){return{key:s,schema:e}}),0===r.properties.length&&r.properties.push({key:"",schema:{type:"string"}})}_.assign(r,{schema:{},property:{},$onChanges:function(e){e._schema&&(r.schema=_.defaults(_.cloneDeep(r._schema),s),t=!0,n())},$doCheck:function(){t&&(r.onChange({schema:r.schema,originalSchema:r._schema}),t=!1)},onPropertyChange:function(e,s){_.unset(r.schema,["properties",s.key]),_.set(r.schema,["properties",e.key],e.schema);var n=_.find(r.properties,{key:s.key});_.assign(n,e),t=!0}})},controllerAs:"vm"});