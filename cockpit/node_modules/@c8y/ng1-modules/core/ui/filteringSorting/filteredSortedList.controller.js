"use strict";!function(){function n(e,t,o,n){var i=this,c=e.emptyListLabel||n("Nothing found.");_.assign(i,{isConfigurable:function(n){return!e.disableColumnsConfig()&&o.isConfigurable(n)},isFiltered:function(n){return o.isFiltered(n,i.columnsConfig[n.name])},isSortedAscending:function(n){return o.isSortedAscending(n,i.columnsConfig[n.name])},isSortedDescending:function(n){return o.isSortedDescending(n,i.columnsConfig[n.name])},configureColumn:function(n){return o.configureColumnWithUI(n).then(r)},getNoItemsMessage:function(){return e.noItemsMessage()||n("No items to display.")},onItemClick:function(n){e.onItemClick({item:n})},emptyListLabel:c,areItemsAndFiltersLoaded:function(){return i.items&&i.columnsConfig},areNoItemsAvailable:function(){return a()&&!_.isUndefined(i.columnsConfig)&&_.isEmpty(i.columnsConfig)},isFilteredItemsListEmpty:a});var s="filtered-sorted-list-".concat(e.$id,"-row-template.html"),l=_.throttle(function(){e.$applyAsync(function(){i.columnsConfig=e.columnsConfig()||{},i.columns=o.getColumns(e.columns(),i.columnsConfig),function(){var n=_(i.columns).flatMap(function(n){_.merge(e,n.cell.scopeExtensions);var t=n.cell.templateUrl?'<ng-include src="'.concat(n.cell.templateUrl,'"></ng-include>'):n.cell.template;return["<td",u(n.cell.class),">",'  <div style="max-width:240px;" class="text-truncate"',u(n.cell.innerClass),">","    ",t,"  </div>","</td>"]}).join(" ");n&&(t.put(s,n),i.ROW_TEMPLATE_KEY=s)}()})},200);function u(n){return function(n,t){var e="";t&&(e+="ng-".concat(n,"='"),_.isString(t)?e+=t:_.isPlainObject(t)&&(e+=JSON.stringify(t)),e+="'");return e}("class",n)}function r(n){i.columnsConfig[n.name]=n.config,function(n){e.onColumnsConfigChanged({columnsConfig:n})}(i.columnsConfig)}function a(){return i.items&&!i.items.length}e.loadNext=function(){e.onLoadMore()},e.$watch("columns()",l,!0),e.$watch("columnsConfig()",l,!0),e.$watch("items()",function(n){i.items=n},!0),e.$watch("showLoadMore()",function(){var n={next:_.noop};e.paging=e.showLoadMore()?n:{}}),e.$watch("loading()",function(n){e.paging&&(e.paging.loading=n)}),e.$on("$destroy",function(){t.remove(s)})}n.$inject=["$scope","$templateCache","c8yFilteringSortingColumns","gettext"],angular.module("c8y.ui").controller("c8yFilteredSortedListCtrl",n)}();