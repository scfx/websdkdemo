"use strict";angular.module("c8y.ui").provider("c8ySearch",function(){var d=[],p=/\{\{search\}\}/;function r(){return d}return{add:function(r){d.push(r),d.sort(function(r,n){var t=r.priority||0,i=n.priority||0;return i-t})},$get:["$location","$route","c8yAlert",function(l,s,h){return{list:r,search:function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(r){var t,i,e=d[n],o=e.invalidSearchTermWarningFn,a=o&&o(r);if(a)h.warning(a);else{var c=_.isFunction(e.path)?e.path(r):(t=e.path,i=r,t.replace(p,window.encodeURIComponent(i))),u=c===window.location.hash.substr(1);l.url(c),u&&s.reload()}}}}}]}});