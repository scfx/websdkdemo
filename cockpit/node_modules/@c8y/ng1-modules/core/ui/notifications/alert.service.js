"use strict";angular.module("c8y.ui").factory("c8yAlert",["$timeout","$rootScope","gettextCatalog",function(e,n,a){var c=[],u=3,r=3e3;function i(t){var n=!t.text&&!t.type;n||(t.text=a.getString(t.text)),_.find(c,function(n){return n.text===t.text&&n.type===t.type})||n||(c.push(t),function(n){var t="success"===n.type,e=!!n.detailedData;return t&&!e}(t)&&e(angular.bind({},s,t),r),c.length>u&&c.shift())}function s(n){var t=c.indexOf(n);-1<t&&c.splice(t,1)}function o(n,t,e){i({text:t,type:n,detailedData:e||void 0})}return n.$on("alert",function(n,t){i(t)}),n.$on("message",function(n,t){i(t)}),{add:i,remove:s,list:function(){return c},success:angular.bind({},o,"success"),danger:angular.bind({},o,"danger"),warning:angular.bind({},o,"warning"),info:angular.bind({},o,"info"),saveSuccess:function(n){var t="".concat(n," saved successfully");return angular.bind({},o,"success",t)},createSuccess:function(n){var t="".concat(n," created successfully");return angular.bind({},o,"success",t)},clearAll:function(){c.length=0}}}]);