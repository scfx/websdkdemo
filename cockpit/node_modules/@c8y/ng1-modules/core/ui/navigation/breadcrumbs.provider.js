"use strict";angular.module("c8y.ui").provider("c8yBreadcrumbs",function(){var n,d={};function u(r){return _.find(d,function(e){return e.regexp.test(r)})}function t(e,r){n=_.isObjectLike(r)?r:{id:r},e.$emit("preferredBreadcrumbChanged")}function c(){return n}return{addBreadcrumbs:function(e,r){var n,u,t,c;(n=e,u=["/device/:deviceId","/group/:groupId"],t=_.get(window,"C8Y_APP.C8Y_INSTANCE_OPTIONS.breadcrumbs"),c=_.some(u,function(e){return n.includes(e)}),t||!c)&&(d[e]=r,d[e].regexp=new RegExp(e.replace(/:[^/]+/g,"(.+)").replace(/\//g,"\\/")))},$get:["$rootScope",function(e){var r=e.$new(!0),n=[];return r.get=u,r.setPreferredBreadcrumb=_.partial(t,r),r.getPreferredBreadcrumb=c,r.addLiveBreadcrumbsController=function(e){n.push(e)},r.removeLiveBreadcrumbsController=function(e){_.pull(n,e)},r.getLiveBreadcrumbs=function(){return _.invokeMap(n,"getBreadcrumbs")},r}]}});