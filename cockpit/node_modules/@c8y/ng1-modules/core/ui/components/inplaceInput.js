"use strict";!function(){function e(t,i,a){var e,l=this;function n(){var e=jQuery(i).find(".text-sizer"),t=jQuery(i).find("input"),n=l.value||t.attr("placeholder")||t.val()||"";e.text(n.trim()),a(function(){t.css("width",e.width()+34),t.focus()})}function o(){return l.editMode=!1,l.value=e,l.onCancel(),t.reject()}_.assign(l,{editMode:!1,edit:function(){l.disabled||(e=l.value,l.editMode=!0,a(n))},onValueChange:n,save:function(){var e=l.onSave({value:l.value});l.editMode=!1,t.when(e).catch(o)},cancel:o})}e.$inject=["$q","$element","$timeout"],angular.module("c8y.ui").component("c8yInplaceInput",{bindings:{id:"<",placeholder:"<",maxlength:"<",required:"<",disabled:"<",value:"<",onSave:"&",onCancel:"&"},transclude:{view:"?view",edit:"?edit",buttons:"?buttons"},templateUrl:":::PLUGIN_PATH:::/ui/components/inplaceInput.html",controller:e,controllerAs:"vm"})}();