"use strict";!function(){function n(e,n,t,i){var o,r,s=this,u=[],a={};function l(){return o}function c(n){o=n}function d(n){return r&&r.stepId===n}function f(n){return _.findIndex(o,{stepId:n})<_.findIndex(o,{stepId:r.stepId})}function p(n){return!d(n)&&!f(n)}function m(n){g(_.find(u,{stepId:n}))}function g(n){var t=n.element.find(".c8y-wizard-panel");jQuery(t).wizardSlide(),r=n}_.assign(s,{data:a,$onInit:function(){n(function(){!function(){var n=_.cloneDeep(u);s.initialFlow&&(n=_.map(s.initialFlow,function(n){return _.find(u,{stepId:n})}));c(n)}(),_.assign(a,s.initialData),m(_.first(o).stepId)},200),s.getController({controller:s})},registerStep:function(n){var t=e.find("c8y-wizard-step");u.push(n),u=_.sortBy(u,function(n){return t.index(n.element)})},unregisterStep:function(t){_.remove(u,function(n){return n.stepId===t})},addStep:function(n){var t=l();t.push(_.find(u,{stepId:n})),c(t)},getFlow:l,setFlow:c,setFlowFromStepIds:function(n){var t=[];_.each(n,function(n){t.push(_.find(u,{stepId:n}))}),c(t)},getCurrentStep:function(){return r},getStepClasses:function(n){return{active:d(n),completed:f(n),disabled:p(n)}},isStepActive:d,isStepDisabled:p,isStepCompleted:f,getModalHeaderClass:function(){return _.get(r,"modalHeaderClass","bg-primary")},goTo:m,goToIndex:function(n){g(u[n])},close:function(n){s.onClose(_.assign(n,{data:a}))},dismiss:function(){s.onDismiss()},hasTransclusionContents:function(n){return t.isSlotFilled(n)},setAllowUserInteraction:function(n){s.requestInProgress=!n},forceResize:function(){n(function(){i.emitWindowResize()},500)}})}n.$inject=["$element","$timeout","$transclude","c8yUiUtil"],angular.module("c8y.ui").component("c8yWizard",{bindings:{initialFlow:"<?",initialData:"<?",onClose:"&",onDismiss:"&",getController:"&"},transclude:{header:"?header",steps:"?steps",footer:"?footer"},templateUrl:":::PLUGIN_PATH:::/ui/containers/wizard.html",controller:n,controllerAs:"wizardCtrl"})}();