"use strict";angular.module("c8y.ui").directive("c8ySilo",function(){return{restrict:"EA",templateUrl:":::PLUGIN_PATH:::/ui/views/silo.html",scope:{dp:"=",measurement:"=",time:"=",fractionSize:"="},link:function(a){var r={min:0,max:100},i={};function e(){var e=_.cloneDeep(a.dp);_.isUndefined(e)||(function(e){e.min=""===e.min?r.min:e.min,e.max=""===e.max?r.max:e.max,e.target=""===e.target?void 0:e.target;var n=Number(e.min),a=Number(e.max),i=function(e){return _.clamp(Number(e),n,a)};e.min=i(e.min),e.max=i(e.max),e.yellowRangeMin=i(e.yellowRangeMin),e.yellowRangeMax=i(e.yellowRangeMax),e.redRangeMin=i(e.redRangeMin),e.redRangeMax=i(e.redRangeMax)}(e),function(e){var n=Number(a.measurement&&a.measurement.value);i.min=e.min,i.max=e.max,i.yellowRangeMin=e.yellowRangeMin,i.yellowRangeMax=e.yellowRangeMax,i.redRangeMin=e.redRangeMin,i.redRangeMax=e.redRangeMax,a.value=n,i.current=n,i.time=a.time,a.showValueWarning=n>i.max||n<i.min,i.target=e.target,i.unit=e.unit,i.orientation="vertical",i.fractionSize=a.fractionSize,a.config=i,a.showValueWarning=n>i.max||n<i.min}(e))}a.$watch("measurement",e,!0),a.$watch("dp",e,!0)}}});