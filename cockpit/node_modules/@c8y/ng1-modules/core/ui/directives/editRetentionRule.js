"use strict";!function(){function e(i,u){var r="ROLE_RETENTION_RULE_ADMIN";function t(e){e.fragmentType=i.isFieldSupportedByRule(e,"fragmentType")?e.fragmentType:"*",e.type=i.isFieldSupportedByRule(e,"type")?e.type:"*",e.source=i.isFieldSupportedByRule(e,"source")?e.source:"*"}return{restrict:"E",link:function(e){e.DATA_TYPES=_.map(i.DATA_TYPES),e.isFieldSupportedByRule=i.isFieldSupportedByRule,e.changeDataType=t,e.isDisabled=!0,function(n){u.current().then(function(e){var i=_.get(n,"rule.id"),t=_.get(n,"rule.editable");_.isUndefined(t)||_.isUndefined(i)?n.isDisabled=!1:n.isDisabled=!function(e,i){return u.hasRole(e,r)&&i}(e,t)})}(e)},templateUrl:":::PLUGIN_PATH:::/ui/views/editRetentionRuleDirective.html",scope:{rule:"=ngModel",hideSourceField:"&hideSource"}}}e.$inject=["c8yRetentions","c8yUser"],angular.module("c8y.ui").directive("c8yEditRetentionRule",e)}();