"use strict";!function(){function t(c,a,e,l,t){var i=[function(a,n){n.anyRole&&a.push(l.hasAnyRole(n.anyRole))},function(a,n){n.allRoles&&a.push(l.hasAllRoles(n.allRoles))},function(a,n){n.readMOs&&a.push(l.canReadMOs(n.readMOs))},function(a,n){n.adminMOs&&a.push(l.canAdminMOs(n.adminMOs))},function(a,n){n.allApps&&a.push(t.areAllAvailable(n.allApps))},function(a,n){n.anyApp&&a.push(t.isAnyAvailable(n.anyApp))}];function r(n,a,l){var t=[],i=a||{};_.isArray(a)?a.forEach(function(a){return s(t,a)}):s(t,i),e.all(t).then(function(a){return function(a,n){return a.allowed=_.every(n,o),a.allowed}(n,a)}).then(function(a){return function(a,n){"A"===c&&(n?a.show():a.hide())}(l,a)})}function s(n,l){i.forEach(function(a){return a(n,l)})}function o(a){return!!a}return"E"===c?{restrict:"E",transclude:!0,template:a?'<span ng-if="!allowed" ng-transclude></span>':'<span ng-if="allowed" ng-transclude></span>',scope:{cfg:"<?cfg",anyRole:"<?",allRoles:"<?",readMOs:"<?readMos",adminMOs:"<?adminMos",allApps:"<?",anyApp:"<?"},link:function(a,n){a.$watch("cfg",_.partial(r,a,a.cfg,n),!0),a.$watch("anyRole",_.partial(r,a,a,n),!0),a.$watch("allRoles",_.partial(r,a,a,n),!0),a.$watch("readMOs",_.partial(r,a,a,n),!0),a.$watch("adminMOs",_.partial(r,a,a,n),!0),a.$watch("allApps",_.partial(r,a,a,n),!0),a.$watch("anyApp",_.partial(r,a,a,n),!0)}}:{restrict:"A",scope:{cfg:"<?cfg",anyRole:"<?",allRoles:"<?",readMOs:"<?readMos",adminMOs:"<?adminMos",allApps:"<?",anyApp:"<?"},link:function(a,n){a.$watch("cfg",_.partial(r,a,a.cfg,n),!0),a.$watch("anyRole",_.partial(r,a,a,n),!0),a.$watch("allRoles",_.partial(r,a,a,n),!0),a.$watch("readMOs",_.partial(r,a,a,n),!0),a.$watch("adminMOs",_.partial(r,a,a,n),!0),a.$watch("allApps",_.partial(r,a,a,n),!0),a.$watch("anyApp",_.partial(r,a,a,n),!0)}}}angular.module("c8y.ui").directive("c8yIfAllowed",["$q","c8yPermissions","c8yApplication",function(a,n,l){return t("E",!1,a,n,l)}]).directive("c8yIfAllowed",["$q","c8yPermissions","c8yApplication",function(a,n,l){return t("A",!1,a,n,l)}]).directive("c8yIfNotAllowed",["$q","c8yPermissions","c8yApplication",function(a,n,l){return t("E",!0,a,n,l)}]).directive("c8yIfNotAllowed",["$q","c8yPermissions","c8yApplication",function(a,n,l){return t("A",!0,a,n,l)}])}();