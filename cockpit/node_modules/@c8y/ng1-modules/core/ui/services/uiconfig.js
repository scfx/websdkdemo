"use strict";!function(){function n(c){function o(n){return n.data.c8y_ui||{}}function f(n,t){return t[n]||[]}function d(t,n){var r=null;return _.isArray(n)&&n.forEach(function(n){return n.id!==t||(r=n,!1)}),r}function u(n,t){return c.detail(t).then(o).then(angular.bind({},f,n))}return{detail:function(n,t,r){return u(n,t).then(angular.bind({},d,r))},list:u,save:function(e,n,a){return c.detail(n).then(function(n){var t=n.data,r=o(n),u=f(e,r),i=d(a.id,u);return i?_.assign(i,a):u.push(a),r[e]=u,t.c8y_ui=r,c.save(t)})},remove:function(u,n,i){var e;return c.detail(n).then(function(n){return(e=n.data).c8y_ui||{}}).then(angular.bind({},f,u)).then(function(n){var r,t=null;return n.forEach(function(n,t){return n.id!==i.id||(r=t,!1)}),_.isUndefined(r)||(n.splice(r,1),e.c8y_ui[u]=n,t=c.save(e)),t})}}}n.$inject=["c8yInventory"],angular.module("c8y.ui").factory("uiConfig",n)}();