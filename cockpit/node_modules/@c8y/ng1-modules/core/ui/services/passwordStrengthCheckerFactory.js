"use strict";!function(){function n(e,n,r,t){var g={red:{strength:n("weak"),hexColor:"#E0000E",icon:"exclamation-circle"},yellow:{strength:n("medium"),hexColor:"#E66400",icon:"warning"},green:{strength:n("strong"),hexColor:"#008000",icon:"check-circle"}};function l(){l._calling||(l._calling=r.getStrongPasswordSettings()).finally(function(){l._calling=void 0});return l._calling}return function(){var r,o=e.defer();return l().then(function(n){var e=n.enforceStrength,r=n.greenMinLength,t=n.strengthValidity;_.isNumber(r)&&(e||t)&&i(r),o.resolve()}),{getDefaultMinGreenLength:function(){return 8},setMinGreenLength:i,getMinGreenLength:function(){return n().then(function(){return _.isUndefined(r)?8:r})},getStrengthColor:function(t){return function(e){return n().then(function(){var n=!0;return _.isUndefined(r)||(n=e.length>=r),n})}(t).then(function(n){var e=function(n){return _.filter([c(n),u(n),a(n),s(n)]).length}(t),r="red";return 3<e&&n?r="green":3<=e&&(r="yellow"),r})},hasLowerCase:c,hasUpperCase:u,hasNumbers:a,hasSpecialChars:s,getStrengthForColor:function(n){return g[_.toLower(n)].strength},getHexColorForColor:function(n){return g[_.toLower(n)].hexColor},getIconForColor:function(n){return g[_.toLower(n)].icon}};function i(n){r=n,t.setUserPasswordValidationParams(r)}function n(){return _.isUndefined(r)||o.resolve(),o.promise}function c(n){return-1!==n.search(/[a-z]/)}function u(n){return-1!==n.search(/[A-Z]/)}function a(n){return-1!==n.search(/[0-9]/)}function s(n){return-1!==n.search(/[^0-9a-zA-Z]+/)}}}n.$inject=["$q","gettext","c8yLoginOptions","c8ySettings"],angular.module("c8y.ui").factory("passwordStrengthCheckerFactory",n)}();