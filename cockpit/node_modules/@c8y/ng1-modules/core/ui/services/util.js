"use strict";!function(){function e(l,u,F,n,e,t,r,i,o,a){var c,p,s="",d="",f={blue:{blue_1:"#08293F",blue_2:"#0B385B",blue_3:"#0F4C7B",blue_4:"#14629F",blue_5:"#1776BF",blue_6:"#1C8CE3",blue_7:"#5FAEEC",blue_8:"#96CAF3",blue_9:"#CDE6F9",blue_10:"#F6FAFE"},purple:{purple_1:"#230052",purple_2:"#310070",purple_3:"#4B00AD",purple_4:"#6800F0",purple_5:"#801FFF",purple_6:"#9A4DFF",purple_7:"#B780FF",purple_8:"#D1ADFF",purple_9:"#E8D6FF",purple_10:"#F9F5FF"},pink:{pink_1:"#570030",pink_2:"#7A0045",pink_3:"#B30065",pink_4:"#E0007F",pink_5:"#FF1F9E",pink_6:"#FF61BA",pink_7:"#FF8FCE",pink_8:"#FFBDE2",pink_9:"#FFE0F1",pink_10:"#FFF5FB"},red:{red_1:"#520005",red_2:"#6B0006",red_3:"#8F0009",red_4:"#BD000C",red_5:"#E0000E",red_6:"#FF1F2D",red_7:"#FF5C66",red_8:"#FF8F96",red_9:"#FFCCCF",red_10:"#FFF0F0"},orange:{orange_1:"#5C2800",orange_2:"#753200",orange_3:"#9E4400",orange_4:"#C25400",orange_5:"#E66400",orange_6:"#FF801F",orange_7:"#FFA057",orange_8:"#FFC89E",orange_9:"#FFE8D6",orange_10:"#FFF6F0"},yellow:{yellow_1:"#474200",yellow_2:"#5C5500",yellow_3:"#807700",yellow_4:"#ADA200",yellow_5:"#D6C800",yellow_6:"#F0DF00",yellow_7:"#FFF01F",yellow_8:"#FFF794",yellow_9:"#FFFBC7",yellow_10:"#FFFEE6"},green:{green_1:"#3B4503",green_2:"#4C5705",green_3:"#657506",green_4:"#829707",green_5:"#A0B909",green_6:"#BAD80A",green_7:"#CDEF0B",green_8:"#EAFA8F",green_9:"#F5FCCA",green_10:"#FAFEE7"},teal:{teal_1:"#063733",teal_2:"#094845",teal_3:"#0C6A64",teal_4:"#108E86",teal_5:"#15B0A6",teal_6:"#19D2C7",teal_7:"#64EDE3",teal_8:"#A9F4F0",teal_9:"#DBFAF9",teal_10:"#F1FDFC"}};var g={"welcome/applications":"core/applicationLinks"};function w(e){var n=e,t=(n||"").match(/^\/apps\/([^/]*\/[^/]*)/),r=t&&t[1];if(g[r]){var i=r;r=g[r],n=n.replace(i,r)}var o=r&&r.split("/").pop(),l=r&&-1<(c||[]).indexOf(r);if(n&&!F.get(n)&&!l){var u=new RegExp("/".concat(o,"$")),a=_.find(c||[],function(e){return u.test(e)});a&&(n=n.replace(r,a))}return n}function C(e){return u.when(n.invoke(e.showIf,e))}function E(e){return r.isAllowed(e)}function v(e){var n=Object.keys(e);return n[Math.floor(Math.random()*n.length)]}return{getContext:function(){var e=l.deviceId,n=l.groupId,t=l.reportId,r=l.exportId,i=null,o=null;return e&&(i="device",o=e),n&&(i="group",o=n),t&&(i="report",o=t),r&&(i="exportConfiguration",o=r),{context:i,id:o}},getContextPath:function(e){return{group:"/group/".concat(e.id),device:"/device/".concat(e.id)}[e.context]},verifyPluginViewPath:function(e){var n=e&&e.replace(/\/\//g,"/");return c?u.when(w(n)):function(){var e=p||t.getCurrent().then(t.listPluginsByApplication).then(function(e){return c=_.map(e,"contextPath")});return p=e}().then(_.partial(w,n))},intersectionObjects:function(e){for(var n=arguments.length,t=new Array(1<n?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return _.filter(_.uniq(e),function(n){return _.every(t,function(e){return _.some(e,function(e){return e.id===n.id})})})},editUserUI:function(){return i({templateUrl:":::PLUGIN_PATH:::/ui/user/editUser.modal.html",title:a("Edit user"),controller:"EditUserCtrl"})},editRetentionRule:function(e){var n=e&&e.id?a("Edit retention rule"):a("Create retention rule");return i({templateUrl:":::PLUGIN_PATH:::/ui/views/editRetentionRuleModal.html",title:n,controller:"editRetentionRuleCtrl",resolve:{rule:function(){return e}}})},configureVisibility:function(n,e,t){var r=u.when(!0),i=e||"show",o=t?_.negate(_.identity):_.identity;return n.showIfPermissions&&(r=r.then(_.partial(E,n.showIfPermissions)).then(function(e){return e?u.when(!0):u.reject()})),n.showIf&&(r=r.then(_.partial(C,n))),r.catch(_.constant(!1)).then(function(e){return _.set(n,i,o(e))})},instanceOptions:function(){return _.merge({},window.C8Y_APP&&window.C8Y_APP.C8Y_INSTANCE_OPTIONS,window.C8Y_INSTANCE_OPTIONS)},escapeForRegex:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},shouldShowSmartRules:o.shouldShowLocalSmartRules,shouldShowEventProcessing:function(){return t.isAvailable(function(e){return"MICROSERVICE"===e.type&&"cep"===e.contextPath&&!_.includes(e.name,"apama")})},emitWindowResize:function(){if(Event.prototype.initEvent){var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}else window.dispatchEvent(new Event("resize"))},waitForPropertyResolve:function(e,n){var t=u.defer(),r=e.$watch(function(){return _.get(e,n)},function(e){r(),t.resolve(e)});return t.promise},stripHtmlTags:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=document.createElement("DIV");return n.innerHTML=e,n.textContent||n.innerText||""},generateColor:function(){for(var e="",n="";(e=v(f))===s;);for(var t=f[s=e];(n=v(t))===d;);return t[d=n]},getCookieValue:function(e){var n=document.cookie.match("(^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)"));return n?n.pop():""}}}e.$inject=["$routeParams","$q","$templateCache","$injector","$http","c8yApplication","c8yPermissions","c8yModal","c8ySmartRulesAvailability","gettext"],angular.module("c8y.ui").factory("c8yUiUtil",e)}();