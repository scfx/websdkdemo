"use strict";!function(){function t(t,e,i,l,n,o,a,c){var u=this,d=t.find("head title"),r=d.text();function s(){var t=a.get(i.path())||{},e=t.data?l.invoke(t.data):{};if(e.title||e.subtitle||e.templateUrl||e.then){var n=o.when(e);n._path=i.path(),p(null,n)}else h()}function p(t,e){e.then(function(t){(_.isUndefined(e._path)||e._path===i.path())&&(u.title=_.isUndefined(t.title)?u.title:t.title,u.subtitle=t.subtitle,u.templateUrl=t.templateUrl,"component"!==u.displayMode&&(u.displayMode=u.templateUrl?"template":void 0),h(u.title))})}function m(){return n.find(".transclude-main-container")}function f(){u.displayMode=void 0,u.title="",u.subtitle=""}function h(t){var e=r;t&&(e="".concat(c.getString(t)," / ").concat(e)),d.text(e)}_.assign(u,{$onInit:function(){a.setMainComponent(u),e.$on("$routeChangeStart",f),e.$on("$routeChangeSuccess",_.debounce(s,10)),a.$on("title",p),s()},$onDestroy:function(){a.clearMainComponent()},setTitleElement:function(t){var e=m();e.empty(),e.append(t.show()),u.displayMode="component"},clearTitleElement:function(){m().empty(),u.displayMode=void 0},isTitleVisible:function(){return u.title||u.subtitle||"template"===u.displayMode&&u.templateUrl}})}t.$inject=["$document","$scope","$location","$injector","$element","$q","c8yTitle","gettextCatalog"],angular.module("c8y.ui").controller("TitleCtrl",t)}();