"use strict";!function(){function e(a,r,u,e){var f="service/connectivity",c={getTerminalDetails:{prefix:"mo",suffix:"op/terminal",mo:!0,method:"GET"},getTerminalSessionInfo:{prefix:"mo",suffix:"op/terminal/session",mo:!0,method:"GET"},setTerminalSimStatus:{prefix:"mo",suffix:"op/terminal/sim_status",mo:!0,method:"PUT"},setTerminalSimStatusV2:{prefix:"mo",suffix:"op/terminal/sim/status",mo:!0,method:"PUT"},getTerminalAuditLogs:{prefix:"mo",suffix:"op/terminal/audit",mo:!0,method:"GET"},getTerminalUsage:{prefix:"mo",suffix:"op/billing",mo:!0,method:"GET"},getTerminalVoiceUsage:{prefix:"mo",suffix:"op/billing/voice",mo:!0,method:"GET"},getTerminalDataUsage:{prefix:"mo",suffix:"op/billing/data",mo:!0,method:"GET"},getTerminalSmsUsage:{prefix:"mo",suffix:"op/billing/sms",mo:!0,method:"GET"},sendSms:{prefix:"mo",suffix:"op/sms",mo:!0,method:"POST"},getSms:{prefix:"mo",suffix:"op/sms",mo:!0,method:"GET"},getSmsDetails:{prefix:"mo",suffix:"op/sms/details",mo:!0,method:"GET"},ping:{suffix:"op/ping",mo:!1,method:"GET"},getSource:{prefix:"mo",suffix:"op/terminal/source",mo:!0,method:"GET"},getProviderSupportedFunctionalities:{suffix:"metadata/sim/functionalities",mo:!1,method:"GET"},getAvailableProvidersList:{suffix:"metadata/sim/providers",mo:!1,method:"GET"},disconnectSimFromSession:{prefix:"mo",suffix:"op/terminal/sim/disconnect/session",mo:!0,method:"POST"}};return{detail:o,getTerminalDetails:function(e,t,i,n){return o("getTerminalDetails",e,t,i,n)},getTerminalSessionInfo:function(e,t,i,n){return o("getTerminalSessionInfo",e,t,i,n)},setTerminalSimStatus:function(e,t,i,n){return o("setTerminalSimStatus",e,t,i,n)},setTerminalSimStatusV2:function(e,t,i,n){return o("setTerminalSimStatusV2",e,t,i,n)},getTerminalAuditLogs:function(e,t,i,n){return o("getTerminalAuditLogs",e,t,i,n)},getTerminalUsage:function(e,t,i,n){return o("getTerminalUsage",e,t,i,n)},getTerminalVoiceUsage:function(e,t,i,n){return o("getTerminalVoiceUsage",e,t,i,n)},getTerminalDataUsage:function(e,t,i,n){return o("getTerminalDataUsage",e,t,i,n)},getTerminalSmsUsage:function(e,t,i,n){return o("getTerminalSmsUsage",e,t,i,n)},getSms:function(e,t,i,n){return o("getSms",e,t,i,n)},sendSms:function(e,t,i,n){return o("sendSms",e,t,i,n)},getSmsDetails:function(e,t,i,n){return o("getSmsDetails",e,t,i,n)},getSource:function(e,t,i,n){return o("getSource",e,t,i,n)},getProviderSupportedFunctionalities:function(){return o("getProviderSupportedFunctionalities","mo",{},{},{silentError:!0})},getAvailableProvidersList:function(){return o("getAvailableProvidersList","mo",{},{},{silentError:!0})},disconnectSimFromSession:function(e,t,i){return o("disconnectSimFromSession",e,{},t,i)},ping:function(){return s("ping","mo",{},{},{silentError:!0})},getStatuses:function(){var e="".concat(f,"/metadata/sim/statuses");return a.get(u.url(e)).then(u.getResData)},isConnectivitySubscribed:function(){return e.isAvailable("connectivity").then(function(e){return e||r.reject("Connectivity microservice is not subscribed")})}};function o(e,t,i,n,o){return s(e,t,i,n,o).then(u.getResData)}function s(e,t,i,n,o){return t&&e?function(t,e,i,n,o){var r,s=[u.url(f)];c[t].mo?c[t].mo=e:delete c.mo,_.forEach(["prefix","mo","suffix"],function(e){c[t][e]&&s.push(c[t][e])});var m=s.join("/");return r={method:c[t].method,url:m,data:i,params:n,headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"}},r=_.assign(r,o||{}),a(r)}(e,t,i,n,o):r.reject("Device not valid")}}e.$inject=["$http","$q","c8yBase","c8yApplication"],angular.module("c8y.core").factory("c8yConnectivity",e)}();