"use strict";!function(){function e(n,c){var u="c8y_IsDeviceGroup",i="c8y_BrokerSource",t="_".concat(i);return{list:function(e){var r={fragmentType:u,pageSize:c.MAX_PAGESIZE};_.isObjectLike(e)&&(r=_.assign(r,e));return n.list(r)},detail:function(e){return n.detail(e)},create:function(e){return e.type="c8y_DeviceGroup",e[u]={},n.create(e)},createSubgroup:function(e){return e.type="c8y_DeviceSubgroup",e[u]={},n.create(e)},remove:function(e){if(function(e){return!!e.childAssets.references.length}(e))return!1;return n.remove(e)},addDevice:function(e,r){return r.c8y_Groups=_.isArray(r.c8y_Groups)?r.c8y_Groups:[],r.c8y_Groups.push({name:e.name,id:e.id}),n.update(r.id,{c8y_Groups:r.c8y_Groups}),n.addChildAsset(e,r)},removeDevice:function(r,e){_.isArray(e.c8y_Groups)&&(e.c8y_Groups=e.c8y_Groups.filter(function(e){return e.id!==r.id}),n.update(e.id,{c8y_Groups:e.c8y_Groups}));return n.removeChildAsset(r,e)},hasBrokerSource:function(e){var r=!_.isUndefined(e[i]),n=!_.isUndefined(e[t]);return r||n},isBrokerSourceActive:function(e){var r=_.isUndefined(e[t]),n=!_.isUndefined(e[i]);return r&&n}}}e.$inject=["c8yInventory","c8yBase"],angular.module("c8y.core").factory("c8yDeviceGroup",e)}();