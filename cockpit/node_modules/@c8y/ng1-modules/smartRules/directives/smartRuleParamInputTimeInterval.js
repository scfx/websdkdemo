"use strict";!function(){function t(a,e){function u(t,n){return"".concat(e.getString(t.label)," (").concat(e.getString(n),")").concat(t.required?" *":"")}return{require:"smartRuleParamInput",scope:{rule:"=",param:"="},restrict:"E",templateUrl:":::PLUGIN_PATH:::/views/paramInputTimeInterval.html",controller:["$scope",function(n){var e={amount:null,unit:null},r=[{label:a("hours"),valueInSeconds:3600,dontDisplay:!1},{label:a("minutes"),valueInSeconds:60,dontDisplay:!1},{label:a("seconds"),valueInSeconds:1,dontDisplay:n.param.dontUseSeconds||!1}],t={AMOUNT:a("amount"),UNIT:a("unit")};n.placeholder=u,n.units=r,n.fieldNames=t,n.timeInterval=e,n.$watch(function(){return n.timeInterval.amount&&n.timeInterval.unit&&n.timeInterval.amount*n.timeInterval.unit.valueInSeconds},function(t){t&&(n.rule.config[n.param.property]=t)}),n.$watch(function(){return n.rule.config[n.param.property]},function(t){_.assign(e,function(t){var e=t,a=r[2];return _.forEach(r,function(t){var n=e/t.valueInSeconds;return n%1!=0||(e=n,a=t,!1)}),{amount:e,unit:a}}(t))})}]}}t.$inject=["gettext","gettextCatalog"],angular.module("c8y.smartRules").directive("smartRuleParamInputTimeInterval",t)}();