"use strict";angular.module("c8y.smartRules").directive("smartRuleParamFrequency",["gettext",function(e){return e("Hour"),e("Day"),e("Week"),e("Month"),e("Year"),{scope:{rule:"=",param:"="},restrict:"E",template:'<cron-selection template=":::PLUGIN_PATH:::/views/paramInputFrequency.html" config="config" output="cronRule" init="initRule"></cron-selection>',controller:["$scope",function(n){n.config={options:{allowMinute:!1}};var e=n.rule.config;n.initRule=e.minute||"*",n.initRule+=" ".concat(e.hour||"*"),n.initRule+=" ".concat(e.day||"*"),n.initRule+=" ".concat(e.month||"*"),n.initRule+=" ".concat(e.weekday||"*"),"* * * * *"===n.initRule&&(n.initRule="0 0 * * 1"),n.$watch("cronRule",function(e){if(e){var t=e.split(/\s+/);n.rule.config.minute=t[0],n.rule.config.hour=t[1],n.rule.config.day=t[2],n.rule.config.month=t[3],n.rule.config.weekday=t[4]}})}]}}]).filter("smartRuleParamFrequency",function(){return function(e){return(e||[]).filter(function(e){return"Minute"!==e.label})}}).filter("smartRuleParamFrequencyDayNameToDate",function(){return function(e){return moment().day(e).toDate()}}).filter("smartRuleParamFrequencyMonthNameToDate",function(){return function(e){return moment().month(e-1).toDate()}}).filter("smartRuleParamFrequencyMinuteValueToDate",function(){return function(e){return moment().minute(e).toDate()}});