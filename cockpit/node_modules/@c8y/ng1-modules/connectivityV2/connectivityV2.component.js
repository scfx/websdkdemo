"use strict";!function(){function t(n,t,e,r,i){var o=this,c=i.getThisMonth(),a=i.getThisDay();function u(t){o.supportedFunctionalities=t}function s(t){o.currentProvider=t.providerName}function v(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return"ericsson"===o.currentProvider&&(_.set(o,"commonData.currentDayDataUsage",i.getThisDayDataUsage(n.deviceId,a,e)),t=_.get(o,"commonData.currentDayDataUsage")),"ericsson"!==o.currentProvider&&"comarch"!==o.currentProvider&&(_.set(o,"commonData.currentMonthDataUsage",r.getTerminalDataUsage(n.deviceId,{},c)),t=_.get(o,"commonData.currentMonthDataUsage")),t}_.assign(o,{$onInit:function(){r.ping().then(function(){return i.isDeviceSupportedByCurrentProvider(n.deviceId)}).then(function(){return i.checkConnectivityCache(n.deviceId)}).then(i.getCurrentProviderDetails).then(s).then(function(){return v()}).then(_.constant(!0)).catch(_.constant(!1)).then(function(t){o.available=t}),i.getProviderSupportedFunctionalities().then(u)},available:!1,reload:function(){o.available=!1,(v(!0)||e.resolve()).then(function(){t(function(){o.available=!0},100)})},supportedFunctionalities:{},currentProvider:{}})}t.$inject=["$routeParams","$timeout","$q","c8yConnectivity","connectivityService"],angular.module("c8y.connectivityV2").component("c8yConnectivityV2",{controller:t,controllerAs:"vm",templateUrl:":::PLUGIN_PATH:::/connectivityV2.html"})}();