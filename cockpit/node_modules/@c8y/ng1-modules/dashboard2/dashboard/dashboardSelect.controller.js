"use strict";!function(){function e(i,t,a,r,s,l,d,u,e){function f(e){i.dashboards=e}function h(e){return _.filter(e,function(e){return e.name})}u=u||{},i.cancel=function(){t.dismiss()},i.select=function(e){e.c8y_Report?d.named("report_".concat(e.id)).then(t.close):t.close(e)},i.config=u,i.getConfigTitle=function(){return u.title||e("Select dashboard")},i.getConfigSelectLabel=function(){return u.selectLabel||e("Add")},function(){delete i.dashboards;var e="list",t=d.getContext(),n=[];t.context&&u.inContext&&(e="".concat("device"===t.context?"deviceType":t.context,"List"));if(!u.onlyReports){var c;c=t.id&&"device"===t.context?l.detail(t.id).then(s.getResData).then(d[e]):t.id&&"list"!==e?d[e](t.id):d[e](),n.push(c)}try{var o=a.get("c8yReports");(u.onlyReports||u.useReports)&&o&&n.push(o.list())}catch(e){}r.all(n).then(_.flattenDeep).then(h).then(f)}()}e.$inject=["$scope","$uibModalInstance","$injector","$q","c8yBase","c8yDevices","dashboardSvc","config","gettext"],angular.module("c8y.parts.dashboard2").controller("DashboardSelectController",e)}();