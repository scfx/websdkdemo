"use strict";!function(){function e(g,p,u,v,f){return{require:"ngModel",restrict:"EA",link:function(i,a,e,n){var c,s;function t(){if(s=n.$viewValue){c=i.$new(!0),_.forEach(i.mapping,function(e,t){Object.defineProperty(c,t,{enumerable:!0,get:_.partial(r,t)})}),_.assign(c,{goToGroupDetails:d,goToDeviceDetails:l,getActiveAlarmsStatusClass:o,isReady:_.constant(!0)});var e=angular.element('<div ng-if="isReady()" style="width:100%;height:100%;transform: translateZ(0);"></div>'),t=$.parseHTML(s);$(t).is("svg")?(e.append($(t).filter("svg")),n.$setValidity("c8y-scada-svg",!0)):(e.html('<div class="alert-warning" translate style="padding: 20px;">'.concat(f("Invalid SVG"),"</div>")),n.$setValidity("c8y-scada-svg",!1)),g(e)(c),a.html(""),a.append(e)}else n.$setValidity("c8y-scada-svg",!1)}function r(t){var e=i.mapping[t],a=_.find(i.devices,function(e){return i.deviceIds[t]===e.id});return v.getValueForMapping(a,e)}function d(e){p.path("/group/".concat(e))}function l(e){p.path("/device/".concat(e))}function o(e){return _.toLower(u.getHighestSeverityFromAlarmsStatus(e))||"none"}n.$render=t,i.$watch("mapping",t),i.$watch("deviceIds",t,!0)},scope:{mapping:"=",devices:"=",deviceIds:"="},replace:!1}}e.$inject=["$compile","$location","c8yAlarms","ScadaWidgetUtilSvc","gettext"],angular.module("c8y.parts.scadaWidget").directive("c8yScadaSvg",e)}();