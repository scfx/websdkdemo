"use strict";!function(){function e(n,r,i,t,o){var u="c8y_ConfigurationDump";return{getEmpty:function(){return{name:"",description:"",url:"",type:u}},list:function(e){var t=function(e){return _.assign({type:u},e||{})}(e);return r.list(t)},listQuery:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return e.type=u,r.listQuery(e,t,!0)},save:function(e){return e.type=u,n.when(e).then(_.partialRight(r.addGlobalFlag,!0)).then(l).then(c).then(r.save).then(function(){t.success(o("Configuration snapshot saved."))})},remove:function(e){return r.remove(e)}};function l(e){var t=i.getIdFromUrl(e.selectedFile.url);return(t?i.setGlobalFlag(t,!0):n.when()).then(_.constant(e))}function c(e){return e.selectedFile.url&&(e.url=e.selectedFile.url,delete e.selectedFile),n.when(e)}}e.$inject=["$q","c8yInventory","c8yBinary","c8yAlert","gettext"],angular.module("c8y.configurationRepository").factory("configurationRepositorySvc",e)}();