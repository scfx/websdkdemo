<div ng-controller="GlobalRoleSaveConfirmCtrl as vm">
  <div class="c8y-prompt alert alert-warning">
    <h3 class="m-b-16">
      <i c8y-icon="exclamation-triangle"></i>
      <span>{{ title | translate }}</span>
    </h3>
    <p class="text-break-word">
      <span translate>
        You are about to save changes in the global role which might affect security.
      </span>
      <span ng-if="vm.devicesWarning" translate>
        Especially changing the global role "devices" can lead to a security hole. E.g. if a device
        is compromised, attackers might have extended access to the platform.
      </span>
      <span translate>
        Enter the following code <code>{{ vm.code }}</code> to proceed:
      </span>
    </p>
    <form class="form-inline m-t-24" ng-submit="vm.canConfirm() && vm.$close()">
      <div class="form-group">
        <label for="confirmString">{{ 'Confirm' | translate }}:&nbsp;</label>
        <input
          type="text"
          class="form-control"
          id="confirmString"
          placeholder="{{ 'Type here' | translate }}"
          ng-model="vm.confirmString"
          c8y-autofocus
        />
      </div>
    </form>
    <div class="alert-footer">
      <button
        title="{{ 'Cancel' | translate }}"
        class="btn btn-default"
        ng-click="vm.$dismiss()"
        translate
      >
        Cancel
      </button>
      <button
        title="{{ 'Confirm' | translate }}"
        class="btn btn-primary"
        ng-click="vm.$close()"
        ng-disabled="!vm.canConfirm()"
        translate
      >
        Confirm
      </button>
    </div>
  </div>
</div>
