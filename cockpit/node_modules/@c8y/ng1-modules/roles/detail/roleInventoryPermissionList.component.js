"use strict";!function(){function s(e,s){var i,r=this;function n(){r.scopedPermissions=_.filter(r.permissions,{scope:r.scope})}function o(){r.permissionsListForm.$setDirty()}_.assign(r,{$onChanges:function(s){s.permissions&&(i&&i(),i=e.$watchCollection(_.constant(r.permissions),n))},accessTypes:s.ACCESS_TYPES,add:function(){r.permissions.push({scope:r.scope,permission:r.accessTypes.READ.value,type:"*"}),o()},remove:function(s){_.remove(r.permissions,s),o()},removeId:function(s){delete s.id},isOverridden:function(o){var s=r.permissions,e=r.scopedPermissions,i=["type","permission","scope"],n=_.find(_.without(s,o),function(n){return _.every(i,function(s){var e=_.matchesProperty(s,_.get(o,s)),i=_.matchesProperty(s,"*");return e(n)||i(n)})});return n&&(!_.matches(_.pick(o,i))(n)||_.indexOf(e,o)>_.indexOf(e,n))}})}s.$inject=["$scope","c8yPermissions"],angular.module("c8y.roles").component("c8yRoleInventoryPermissionList",{templateUrl:":::PLUGIN_PATH:::/detail/roleInventoryPermissionList.html",bindings:{permissions:"<",scope:"<"},controllerAs:"vm",controller:s})}();